
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="AI 助手越来越强，但总是&#34;差点意思&#34;——它知道怎么写代码，却不知道你们团队的规范；它能生成文档，却不懂你们公司的模板。Agent Skills 是一个简单、开放的格式，让你给 AI 装上&#34;技能包&#34;，把领域知识和工作流程打包成可复用的能力。" />
<meta name="keywords" content="AI, Agent Skills, Cursor, Claude Code, 编程工具">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="Agent Skills：给 AI 助手装上&#34;技能包&#34;"/>
  <meta property="og:description" content="AI 助手越来越强，但总是&#34;差点意思&#34;——它知道怎么写代码，却不知道你们团队的规范；它能生成文档，却不懂你们公司的模板。Agent Skills 是一个简单、开放的格式，让你给 AI 装上&#34;技能包&#34;，把领域知识和工作流程打包成可复用的能力。"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./agent-skillsgei-ai-zhu-shou-zhuang-shang-ji-neng-bao.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-01-31 20:00:00+08:00"/>
  <meta property="article:modified_time" content="2026-02-02 21:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="AI"/>
  <meta property="article:tag" content="Agent Skills"/>
  <meta property="article:tag" content="Cursor"/>
  <meta property="article:tag" content="Claude Code"/>
  <meta property="article:tag" content="编程工具"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; Agent Skills：给 AI 助手装上&#34;技能包&#34;</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>手握灵珠常奋笔, 心开天籁不吹箫</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="agent-skillsgei-ai-zhu-shou-zhuang-shang-ji-neng-bao">Agent Skills：给 AI 助手装上"技能包"</h1>
    <p>
      Posted on Sat 31 January 2026 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>Agent Skills：给 AI 助手装上"技能包"</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td><strong>Category</strong></td>
<td>AI 工具</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2026-01-31</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<h1 id="agent-skills-ai">Agent Skills：给 AI 助手装上"技能包"</h1>
<h2 id="ai">AI 助手很强，但总是"差点意思"</h2>
<p>你有没有这样的体验？</p>
<p>让 Claude 帮你写一个 API，它写得很漂亮，但完全不符合你们团队的命名规范。让 Cursor 帮你生成文档，它生成了，但格式和公司模板完全不一样。让 AI 帮你做 PPT，它给你一堆代码，但你根本不知道该怎么用。</p>
<p><strong>AI 知道"怎么做"，但不知道"在你们这里该怎么做"。</strong></p>
<p>这就是当前 AI 编程助手的核心痛点：它们有强大的通用能力，但缺乏<strong>领域知识</strong>和<strong>团队上下文</strong>。</p>
<p>怎么解决？一遍遍地在 prompt 里重复说明？把规范文档复制粘贴到每次对话？</p>
<p>有没有更优雅的方式？</p>
<p>有。<strong>Agent Skills</strong>。</p>
<hr>
<h2 id="agent-skills">Agent Skills 是什么？</h2>
<p><a href="https://agentskills.io/">Agent Skills</a> 是一个简单、开放的格式，用于给 AI Agent 扩展能力。</p>
<blockquote>
<p>Agent Skills are folders of instructions, scripts, and resources that agents can discover and use to do things more accurately and efficiently.</p>
</blockquote>
<p>简单说：<strong>Skill 就是一个文件夹，里面装着指令、脚本和资源，AI 可以按需加载和使用。</strong></p>
<h3 id="agent-skills_1">为什么需要 Agent Skills？</h3>
<table>
<thead>
<tr>
<th>角色</th>
<th>价值</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Skill 作者</strong></td>
<td>写一次，到处用——同一个 Skill 可以在多个 AI 产品中使用</td>
</tr>
<tr>
<td><strong>AI 产品</strong></td>
<td>支持 Skills 让用户开箱即获得新能力</td>
</tr>
<tr>
<td><strong>团队/企业</strong></td>
<td>把组织知识打包成可版本控制、可分享的技能包</td>
</tr>
</tbody>
</table>
<h3 id="_1">谁在用？</h3>
<p>Agent Skills 最初由 <a href="https://www.anthropic.com/">Anthropic</a> 开发，现在已被众多 AI 开发工具采用：</p>
<ul>
<li><strong>Cursor</strong> - 代码编辑器</li>
<li><strong>Claude Code</strong> - Anthropic 的编程助手</li>
<li><strong>GitHub Copilot</strong> - 代码助手</li>
<li><strong>VS Code</strong> - 微软的编辑器</li>
<li>还有 Gemini CLI、OpenAI Codex、Roo Code 等等……</li>
</ul>
<p>这意味着：<strong>你写的 Skill 可以在多个工具之间复用</strong>。</p>
<hr>
<h2 id="skillmd">一个 SKILL.md 文件的解剖</h2>
<p>Agent Skill 的核心是一个 <code>SKILL.md</code> 文件。它的结构非常简单：</p>
<div class="highlight"><pre><span></span><code>my-skill/
├── SKILL.md          # 必须：指令 + 元数据
├── scripts/          # 可选：可执行脚本
├── references/       # 可选：参考文档
└── assets/           # 可选：模板、资源
</code></pre></div>

<h3 id="skillmd_1">SKILL.md 的格式</h3>
<div class="highlight"><pre><span></span><code>---
name: pdf-processing
description: Extract text and tables from PDF files, fill forms, merge documents.
license: Apache-2.0
metadata:
  author: example-org
<span class="gu">  version: &quot;1.0&quot;</span>
<span class="gu">---</span>

<span class="gh"># PDF Processing</span>

<span class="gu">## When to use this skill</span>
Use this skill when the user needs to work with PDF files...

<span class="gu">## How to extract text</span>
<span class="k">1.</span> Use pdfplumber for text extraction...

<span class="gu">## How to fill forms</span>
...
</code></pre></div>

<p><strong>两部分组成</strong>：</p>
<ol>
<li><strong>YAML Frontmatter</strong>（必须）：</li>
<li><code>name</code>：技能名称（小写字母 + 连字符，最多 64 字符）</li>
<li><code>description</code>：描述这个技能做什么、什么时候用（最多 1024 字符）</li>
<li>
<p><code>license</code>、<code>metadata</code>：可选</p>
</li>
<li>
<p><strong>Markdown Body</strong>：</p>
</li>
<li>具体的指令和说明</li>
<li>没有格式限制，写任何对 AI 有帮助的内容</li>
</ol>
<h3 id="progressive-disclosure">关键设计：渐进式披露（Progressive Disclosure）</h3>
<p>这是 Agent Skills 最聪明的设计：</p>
<div class="highlight"><pre><span></span><code>启动时加载        → 激活时加载         → 按需加载
(~100 tokens)      (&lt; 5000 tokens)       (as needed)
     │                   │                    │
     ▼                   ▼                    ▼
 name + description   SKILL.md 全文      scripts/、references/
</code></pre></div>

<ol>
<li><strong>发现阶段</strong>：AI 只加载所有 Skill 的 <code>name</code> 和 <code>description</code>（约 100 tokens）</li>
<li><strong>激活阶段</strong>：当任务匹配某个 Skill 时，加载完整的 <code>SKILL.md</code></li>
<li><strong>执行阶段</strong>：按需加载脚本、参考文档等资源</li>
</ol>
<p><strong>好处</strong>：AI 启动快，但又能在需要时获取详细上下文。</p>
<hr>
<h2 id="pptx-skill">深入案例：PPTX Skill 的设计艺术</h2>
<p>让我们深入看一个真实的、复杂的 Skill：<a href="https://github.com/anthropics/skills/blob/main/skills/pptx/SKILL.md">PPTX Skill</a>。</p>
<p>这个 Skill 让 AI 能够创建、编辑和分析 PowerPoint 文件。它是一个很好的学习案例，因为它展示了如何处理<strong>复杂的多步骤工作流</strong>。</p>
<h3 id="frontmatter">Frontmatter：精准的触发条件</h3>
<div class="highlight"><pre><span></span><code><span class="nn">---</span>
<span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pptx</span>
<span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Presentation</span><span class="nv"> </span><span class="s">creation,</span><span class="nv"> </span><span class="s">editing,</span><span class="nv"> </span><span class="s">and</span><span class="nv"> </span><span class="s">analysis.</span><span class="nv"> </span><span class="s">When</span><span class="nv"> </span><span class="s">Claude</span><span class="nv"> </span><span class="s">needs</span><span class="nv"> </span><span class="s">to</span><span class="nv"> </span><span class="s">work</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">presentations</span><span class="nv"> </span><span class="s">(.pptx</span><span class="nv"> </span><span class="s">files)</span><span class="nv"> </span><span class="s">for:</span><span class="nv"> </span><span class="s">(1)</span><span class="nv"> </span><span class="s">Creating</span><span class="nv"> </span><span class="s">new</span><span class="nv"> </span><span class="s">presentations,</span><span class="nv"> </span><span class="s">(2)</span><span class="nv"> </span><span class="s">Modifying</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">editing</span><span class="nv"> </span><span class="s">content,</span><span class="nv"> </span><span class="s">(3)</span><span class="nv"> </span><span class="s">Working</span><span class="nv"> </span><span class="s">with</span><span class="nv"> </span><span class="s">layouts,</span><span class="nv"> </span><span class="s">(4)</span><span class="nv"> </span><span class="s">Adding</span><span class="nv"> </span><span class="s">comments</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">speaker</span><span class="nv"> </span><span class="s">notes,</span><span class="nv"> </span><span class="s">or</span><span class="nv"> </span><span class="s">any</span><span class="nv"> </span><span class="s">other</span><span class="nv"> </span><span class="s">presentation</span><span class="nv"> </span><span class="s">tasks&quot;</span>
<span class="nt">license</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Proprietary. LICENSE.txt has complete terms</span>
<span class="nn">---</span>
</code></pre></div>

<p>注意 <code>description</code> 的写法：
- 明确列出了触发场景（创建、编辑、分析）
- 包含关键词（.pptx files, presentations）
- 让 AI 知道"什么时候该用这个 Skill"</p>
<h3 id="_2">多工作流设计</h3>
<p>PPTX Skill 设计了<strong>多个工作流</strong>，根据任务类型选择不同路径：</p>
<div class="highlight"><pre><span></span><code>PPTX 操作
    │
    ├── 读取/分析 ──────────────────────────────────────┐
    │   ├── 文本提取 → markitdown                        │
    │   └── 原始 XML → unpack.py                        │
    │                                                    │
    ├── 创建新 PPT（无模板）─────────────────────────────┤
    │   └── html2pptx 工作流                             │
    │       1. 创建 HTML 文件                            │
    │       2. 用 html2pptx.js 转换                      │
    │       3. 生成缩略图验证                            │
    │                                                    │
    ├── 创建新 PPT（有模板）─────────────────────────────┤
    │   └── 模板工作流                                   │
    │       1. 提取模板文本 + 创建缩略图                  │
    │       2. 分析模板，保存 inventory                   │
    │       3. 创建大纲，选择模板                         │
    │       4. rearrange.py 重排页面                     │
    │       5. inventory.py 提取文本                     │
    │       6. 生成替换 JSON                             │
    │       7. replace.py 应用替换                       │
    │                                                    │
    └── 编辑现有 PPT ───────────────────────────────────┘
        └── OOXML 工作流
            1. unpack.py 解包
            2. 编辑 XML
            3. validate.py 验证
            4. pack.py 打包
</code></pre></div>

<p><strong>为什么要这样设计？</strong></p>
<p>因为"做 PPT"看起来是一个任务，但实际上有多种完全不同的操作：
- 从零创建 vs 基于模板
- 读取内容 vs 修改内容
- 简单文本替换 vs 复杂布局调整</p>
<p>每种情况需要不同的工具和步骤。<strong>好的 Skill 会根据任务类型引导 AI 走正确的路径。</strong></p>
<h3 id="_3">设计原则的体现</h3>
<h4 id="1">1. 分步骤指令</h4>
<div class="highlight"><pre><span></span><code><span class="gu">### Workflow</span>
<span class="k">1.</span> <span class="gs">**MANDATORY - READ ENTIRE FILE**</span>: Read [<span class="sb">`html2pptx.md`</span>](html2pptx.md) completely...
<span class="k">2.</span> Create an HTML file for each slide with proper dimensions...
<span class="k">3.</span> Create and run a JavaScript file using the [<span class="sb">`html2pptx.js`</span>](scripts/html2pptx.js) library...
<span class="k">4.</span> <span class="gs">**Visual validation**</span>: Generate thumbnails and inspect for layout issues...
</code></pre></div>

<p>注意：
- 用数字标注步骤顺序
- 用<strong>粗体</strong>强调关键点
- 提供具体的命令和文件路径</p>
<h4 id="2-vs">2. 正确示范 vs 错误示范</h4>
<div class="highlight"><pre><span></span><code><span class="gu">#### Color Palette Selection</span>

<span class="gs">**Choosing colors creatively**</span>:
<span class="k">-</span><span class="w"> </span><span class="gs">**Think beyond defaults**</span>: What colors genuinely match this specific topic?
<span class="k">-</span><span class="w"> </span><span class="gs">**Consider multiple angles**</span>: Topic, industry, mood, energy level...

<span class="gs">**Example color palettes**</span> (use these to spark creativity):
<span class="k">1.</span> <span class="gs">**Classic Blue**</span>: Deep navy (#1C2833), slate gray (#2E4053)...
<span class="k">2.</span> <span class="gs">**Teal &amp; Coral**</span>: Teal (#5EA8A7), deep teal (#277884)...
</code></pre></div>

<p>提供具体的选择和例子，而不是抽象的原则。</p>
<h4 id="3">3. 错误处理和验证</h4>
<div class="highlight"><pre><span></span><code><span class="k">4.</span> <span class="gs">**Visual validation**</span>: Generate thumbnails and inspect for layout issues
<span class="w">   </span><span class="k">-</span><span class="w"> </span>Create thumbnail grid: <span class="sb">`python scripts/thumbnail.py output.pptx workspace/thumbnails --cols 4`</span>
<span class="w">   </span><span class="k">-</span><span class="w"> </span>Read and carefully examine the thumbnail image for:
<span class="w">     </span><span class="k">-</span><span class="w"> </span><span class="gs">**Text cutoff**</span>: Text being cut off by header bars, shapes, or slide edges
<span class="w">     </span><span class="k">-</span><span class="w"> </span><span class="gs">**Text overlap**</span>: Text overlapping with other text or shapes
<span class="w">     </span><span class="k">-</span><span class="w"> </span><span class="gs">**Positioning issues**</span>: Content too close to slide boundaries
<span class="w">   </span><span class="k">-</span><span class="w"> </span>If issues found, adjust HTML margins/spacing/colors and regenerate
<span class="w">   </span><span class="k">-</span><span class="w"> </span>Repeat until all slides are visually correct
</code></pre></div>

<p><strong>关键洞察</strong>：好的 Skill 不仅告诉 AI 怎么做，还告诉它<strong>怎么验证做对了</strong>。</p>
<h4 id="4">4. 引用外部文件</h4>
<div class="highlight"><pre><span></span><code><span class="k">1.</span> <span class="gs">**MANDATORY - READ ENTIRE FILE**</span>: Read [<span class="sb">`html2pptx.md`</span>](html2pptx.md) completely from start to finish.
</code></pre></div>

<p>复杂的指令拆分到单独的文件，保持主 SKILL.md 的简洁。这就是<strong>渐进式披露</strong>的实践。</p>
<h3 id="_4">一个设计亮点：模板分析工作流</h3>
<p>PPTX Skill 中有一个特别精巧的设计——<strong>模板分析工作流</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="k">2.</span> <span class="gs">**Analyze template and save inventory to a file**</span>:
<span class="w">   </span><span class="k">*</span><span class="w"> </span>Create and save a template inventory file at <span class="sb">`template-inventory.md`</span> containing:
<span class="sb">     ```markdown</span>
     # Template Inventory Analysis
     <span class="gs">**Total Slides: [count]**</span>
     <span class="gs">**IMPORTANT: Slides are 0-indexed (first slide = 0, last slide = count-1)**</span>

     ## [Category Name]
<span class="w">     </span><span class="k">-</span><span class="w"> </span>Slide 0: [Layout code if available] - Description/purpose
<span class="w">     </span><span class="k">-</span><span class="w"> </span>Slide 1: [Layout code] - Description/purpose
     ...
<span class="sb">     ```</span>
</code></pre></div>

<p>它让 AI <strong>先分析模板、生成结构化的 inventory 文件</strong>，然后再基于这个 inventory 做后续操作。</p>
<p><strong>为什么这样设计？</strong></p>
<ol>
<li><strong>减少上下文污染</strong>：inventory 文件是结构化的，AI 可以精确引用</li>
<li><strong>可复用</strong>：分析一次，多次使用</li>
<li><strong>可审计</strong>：用户可以检查 AI 的理解是否正确</li>
</ol>
<p>这是一个很好的模式：<strong>让 AI 先生成中间产物，然后基于中间产物继续工作</strong>。</p>
<hr>
<h2 id="_5">三大核心设计原则</h2>
<p>从 PPTX Skill 和其他优秀 Skill 中，我们可以提炼出三个核心设计原则：</p>
<h3 id="1-progressive-disclosure">1. 渐进式披露（Progressive Disclosure）</h3>
<div class="highlight"><pre><span></span><code>启动时：只加载 name + description（~100 tokens）
激活时：加载完整 SKILL.md（&lt; 5000 tokens 推荐）
执行时：按需加载 scripts/、references/
</code></pre></div>

<p><strong>实践建议</strong>：
- 主 SKILL.md 控制在 500 行以内
- 详细参考资料放到 <code>references/</code> 目录
- 避免深层嵌套引用</p>
<h3 id="2-self-documenting">2. 自文档化（Self-Documenting）</h3>
<blockquote>
<p>A skill author or user can read a SKILL.md and understand what it does, making skills easy to audit and improve.</p>
</blockquote>
<p>好的 Skill 应该是<strong>人类可读</strong>的，不仅仅是给 AI 看的。这意味着：
- 清晰的结构和标题
- 具体的例子和命令
- 解释"为什么"而不仅仅是"怎么做"</p>
<h3 id="3-portability">3. 可移植性（Portability）</h3>
<blockquote>
<p>Skills are just files, so they're easy to edit, version, and share.</p>
</blockquote>
<p>Skill 就是文件夹，可以：
- 用 Git 版本控制
- 在团队间分享
- 在不同 AI 产品间复用</p>
<hr>
<h2 id="skill">如何开始写自己的 Skill</h2>
<h3 id="skill_1">最小可行 Skill</h3>
<div class="highlight"><pre><span></span><code>my-first-skill/
└── SKILL.md
</code></pre></div>

<div class="highlight"><pre><span></span><code>---
name: my-first-skill
<span class="gu">description: A simple skill that helps with [specific task].</span>
<span class="gu">---</span>

<span class="gh"># My First Skill</span>

<span class="gu">## When to use</span>
Use this skill when the user needs to...

<span class="gu">## How to do it</span>
<span class="k">1.</span> Step one...
<span class="k">2.</span> Step two...

<span class="gu">## Example</span>
[Provide a concrete example]
</code></pre></div>

<h3 id="_6">检查清单</h3>
<ul>
<li>[ ] <code>name</code> 是小写字母 + 连字符，不超过 64 字符</li>
<li>[ ] <code>description</code> 清晰描述做什么、什么时候用</li>
<li>[ ] 主体内容包含具体的步骤和命令</li>
<li>[ ] 提供至少一个具体例子</li>
<li>[ ] 复杂内容拆分到 <code>references/</code> 目录</li>
<li>[ ] 可执行脚本放在 <code>scripts/</code> 目录</li>
<li>[ ] 用 <a href="https://github.com/agentskills/agentskills/tree/main/skills-ref">skills-ref</a> 验证格式</li>
</ul>
<h3 id="skill_2">Skill 设计模式</h3>
<table>
<thead>
<tr>
<th>模式</th>
<th>适用场景</th>
<th>例子</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>单一工作流</strong></td>
<td>简单、线性的任务</td>
<td>代码格式化、diagram-render</td>
</tr>
<tr>
<td><strong>多工作流</strong></td>
<td>同一领域的多种操作</td>
<td>PPTX（创建/编辑/分析）</td>
</tr>
<tr>
<td><strong>先分析后执行</strong></td>
<td>需要理解上下文的任务</td>
<td>模板填充</td>
</tr>
<tr>
<td><strong>验证循环</strong></td>
<td>需要质量保证的任务</td>
<td>生成 + 检查 + 修复</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="diagram-render-skill">实战案例：diagram-render Skill</h2>
<p>说了这么多理论，来看一个我自己写的 Skill：<strong>diagram-render</strong>。</p>
<p>这个 Skill 的目的很简单：<strong>把 PlantUML、Mermaid、Graphviz 代码块渲染成图片</strong>。没错，本文的思维导图就是用它生成的。</p>
<h3 id="_7">文件结构</h3>
<div class="highlight"><pre><span></span><code>.claude/skills/diagram-render/
├── skill.md              # 指令文档
└── scripts/
    ├── render_diagram.py # 渲染脚本
    └── requirements.txt  # Python 依赖
</code></pre></div>

<h3 id="skillmd_2">SKILL.md 片段</h3>
<div class="highlight"><pre><span></span><code><span class="gh"># Diagram Render Skill</span>

A skill for rendering diagrams from code blocks (PlantUML, Mermaid, Graphviz) to PNG/SVG images.

<span class="gu">## When to Use</span>

Use this skill when:
<span class="k">-</span><span class="w"> </span>Any task requires rendering diagrams from code to images
<span class="k">-</span><span class="w"> </span>Processing markdown files that contain diagram code blocks
<span class="k">-</span><span class="w"> </span>Converting PlantUML, Mermaid, or Graphviz scripts to PNG/SVG
<span class="k">-</span><span class="w"> </span>Generating visual documentation from code

<span class="gu">## Supported Diagram Types</span>

| Type | Code Block | Description |
|------|------------|-------------|
| PlantUML | \`\`\`plantuml | UML diagrams, mind maps, sequence diagrams |
| Mermaid | \`\`\`mermaid | Flowcharts, sequence diagrams, ER diagrams |
| Graphviz | \`\`\`dot | Directed/undirected graphs |

<span class="gu">## Usage</span>

\`\`\`bash
<span class="gh"># 使用 uv 运行（推荐，自动处理依赖）</span>
uv run .claude/skills/diagram-render/scripts/render_diagram.py plantuml \
    -i diagram.puml -o output.png

<span class="gh"># 从 stdin 读取</span>
echo &#39;@startuml
Alice -&gt; Bob: Hello
<span class="ni">@enduml</span>&#39; | uv run render_diagram.py plantuml -o output.png
\`\`\`
</code></pre></div>

<h3 id="_8">设计亮点</h3>
<p>这个 Skill 虽然简单，但有几个值得借鉴的点：</p>
<p><strong>1. 清晰的触发条件</strong></p>
<p><code>When to Use</code> 部分明确列出了什么时候该用这个 Skill。AI 看到 "diagram code blocks" 或 "PlantUML" 就知道该激活它。</p>
<p><strong>2. 带脚本的 Skill</strong></p>
<p>把渲染逻辑封装成独立的 Python 脚本，而不是在 SKILL.md 里写一堆 shell 命令。好处：
- 脚本可以独立测试
- 错误处理更完善
- 可以用 <code>uv run</code> 自动管理依赖</p>
<p><strong>3. 渐进式依赖管理</strong></p>
<p>脚本头部使用 PEP 723 的内联依赖声明：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># /// script</span>
<span class="c1"># requires-python = &quot;&gt;=3.9&quot;</span>
<span class="c1"># dependencies = [</span>
<span class="c1">#     &quot;requests&gt;=2.28.0&quot;,</span>
<span class="c1"># ]</span>
<span class="c1"># ///</span>
</code></pre></div>

<p>这样用 <code>uv run</code> 时会自动安装依赖，无需手动 <code>pip install</code>。</p>
<p><strong>4. 多种渲染后端</strong></p>
<p>支持 PlantUML 公共服务器（在线）、Graphviz 本地渲染、Mermaid CLI 渲染，自动 fallback。</p>
<h3 id="_9">实际使用效果</h3>
<p>本文的思维导图就是这样生成的：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. 提取 PlantUML 代码到临时文件</span>
cat<span class="w"> </span>&gt;<span class="w"> </span>/tmp/mindmap.puml<span class="w"> </span><span class="s">&lt;&lt; &#39;EOF&#39;</span>
<span class="s">@startmindmap</span>
<span class="s">* Agent Skills</span>
<span class="s">** 是什么</span>
<span class="s">** 怎么用</span>
<span class="s">@endmindmap</span>
<span class="s">EOF</span>

<span class="c1"># 2. 调用渲染脚本</span>
uv<span class="w"> </span>run<span class="w"> </span>.claude/skills/diagram-render/scripts/render_diagram.py<span class="w"> </span>plantuml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-i<span class="w"> </span>/tmp/mindmap.puml<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-o<span class="w"> </span>content/images/agent_skills_mindmap.png<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-v

<span class="c1"># 3. 在文章中引用</span>
<span class="c1"># ![思维导图](../images/agent_skills_mindmap.png)</span>
</code></pre></div>

<p>输出：<code>Saved to: content/images/agent_skills_mindmap.png (84722 bytes)</code></p>
<p><strong>这就是 Skill 的价值</strong>：把一个重复性的操作（渲染图表）封装成可复用的能力，AI 和人都能用。</p>
<hr>
<h2 id="ai-agent-skills">推荐工具：Ai-Agent-Skills</h2>
<p>说到 Skill 的分享和复用，不得不提一个好工具：<a href="https://github.com/skillcreatorai/Ai-Agent-Skills">Ai-Agent-Skills</a>。</p>
<p>这是一个 <strong>"Homebrew for AI Agent Skills"</strong>——就像 macOS 上的 Homebrew 让安装软件变得简单，这个工具让安装 AI Agent Skills 变得一行命令搞定。</p>
<h3 id="agent">一行命令，所有 Agent</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 安装一个 skill 到所有支持的 agent</span>
npx<span class="w"> </span>ai-agent-skills<span class="w"> </span>install<span class="w"> </span>frontend-design

<span class="c1"># 只安装到 Cursor</span>
npx<span class="w"> </span>ai-agent-skills<span class="w"> </span>install<span class="w"> </span>frontend-design<span class="w"> </span>--agent<span class="w"> </span>cursor

<span class="c1"># 交互式浏览可用的 skills</span>
npx<span class="w"> </span>ai-agent-skills<span class="w"> </span>browse

<span class="c1"># 从 GitHub 仓库安装</span>
npx<span class="w"> </span>ai-agent-skills<span class="w"> </span>install<span class="w"> </span>anthropics/skills/pdf
</code></pre></div>

<h3 id="agent_1">支持的 Agent</h3>
<table>
<thead>
<tr>
<th>Agent</th>
<th>安装位置</th>
</tr>
</thead>
<tbody>
<tr>
<td>Claude Code</td>
<td><code>~/.claude/skills/</code></td>
</tr>
<tr>
<td>Cursor</td>
<td><code>.cursor/skills/</code></td>
</tr>
<tr>
<td>GitHub Copilot</td>
<td><code>.github/skills/</code></td>
</tr>
<tr>
<td>VS Code</td>
<td><code>.github/skills/</code></td>
</tr>
<tr>
<td>Gemini CLI</td>
<td><code>~/.gemini/skills/</code></td>
</tr>
<tr>
<td>Codex, Amp, Goose, Letta...</td>
<td>各自的 skills 目录</td>
</tr>
</tbody>
</table>
<p><strong>一次安装，多个 Agent 同时可用</strong>——这才是 Skill 可移植性的真正体现。</p>
<h3 id="skills">已有的 Skills</h3>
<p>仓库里已经收集了不少实用的 Skill：</p>
<ul>
<li><strong>开发类</strong>：<code>frontend-design</code>、<code>mcp-builder</code>、<code>backend-development</code>、<code>webapp-testing</code></li>
<li><strong>文档类</strong>：<code>pdf</code>、<code>xlsx</code>、<code>docx</code>、<code>pptx</code></li>
<li><strong>创意类</strong>：<code>canvas-design</code>、<code>algorithmic-art</code>、<code>slack-gif-creator</code></li>
<li><strong>效率类</strong>：<code>doc-coauthoring</code>、<code>jira-issues</code>、<code>code-documentation</code></li>
</ul>
<h3 id="diagram-render">我的贡献：diagram-render</h3>
<p>既然写了 diagram-render skill，当然要分享出去。我已经向 Ai-Agent-Skills 仓库提交了 PR：</p>
<p><strong><a href="https://github.com/skillcreatorai/Ai-Agent-Skills/pull/10">PR #10: Add diagram-render skill</a></strong></p>
<p>这个 PR 把前面介绍的 diagram-render skill 贡献到社区，支持：</p>
<ul>
<li>PlantUML（UML 图、思维导图、时序图等）</li>
<li>Mermaid（流程图、ER 图、甘特图等）</li>
<li>Graphviz（有向图、无向图）</li>
</ul>
<p>如果 PR 合并后，你可以直接用一行命令安装：</p>
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>ai-agent-skills<span class="w"> </span>install<span class="w"> </span>diagram-render
</code></pre></div>

<p><strong>开源社区的魅力就在于此</strong>：你写的工具，别人能用；别人写的工具，你也能用。Skills 的可移植性让这种分享变得更简单。</p>
<hr>
<h2 id="agent-skills_2">思维导图：一图看懂 Agent Skills</h2>
<div class="highlight"><pre><span></span><code>@startmindmap
&lt;style&gt;
mindmapDiagram {
  .root {
    BackgroundColor #2C3E50
    FontColor white
    FontSize 16
  }
  .what {
    BackgroundColor #3498DB
    FontColor white
  }
  .structure {
    BackgroundColor #27AE60
    FontColor white
  }
  .principle {
    BackgroundColor #9B59B6
    FontColor white
  }
  .example {
    BackgroundColor #E74C3C
    FontColor white
  }
  .action {
    BackgroundColor #F39C12
    FontColor white
  }
}
&lt;/style&gt;

*[#2C3E50] Agent Skills\n给 AI 装上技能包 &lt;&lt;root&gt;&gt;

left side

**[#3498DB] 是什么 &lt;&lt;what&gt;&gt;
*** 一个文件夹
****_ SKILL.md（必须）
****_ scripts/（可选）
****_ references/（可选）
****_ assets/（可选）
*** 开放标准
****_ Anthropic 发起
****_ 多产品支持
****_ GitHub 开源

**[#27AE60] 文件结构 &lt;&lt;structure&gt;&gt;
*** YAML Frontmatter
****_ name（必须）
****_ description（必须）
****_ license、metadata（可选）
*** Markdown Body
****_ 指令和说明
****_ 无格式限制
*** 渐进式加载
****_ 启动：name + description
****_ 激活：SKILL.md 全文
****_ 执行：按需加载资源

right side

**[#9B59B6] 设计原则 &lt;&lt;principle&gt;&gt;
*** 渐进式披露
****_ 控制 context 使用
****_ 主文件 &lt; 500 行
*** 自文档化
****_ 人类可读
****_ 易于审计
*** 可移植性
****_ Git 版本控制
****_ 跨产品复用

**[#E74C3C] PPTX 案例 &lt;&lt;example&gt;&gt;
*** 多工作流设计
****_ 读取/分析
****_ 创建（无模板）
****_ 创建（有模板）
****_ 编辑
*** 设计亮点
****_ 分步骤指令
****_ 验证循环
****_ 中间产物模式

**[#F39C12] 行动建议 &lt;&lt;action&gt;&gt;
***_ 1. 从最小 Skill 开始
***_ 2. 用 skills-ref 验证
***_ 3. 参考官方示例
***_ 4. 在团队内分享复用
@endmindmap
</code></pre></div>

<p><img alt="Agent Skills 思维导图" src="../images/journal_20260131_agent_skills_mindmap.png"></p>
<hr>
<h2 id="_10">小结</h2>
<p><strong>Agent Skills 解决了什么问题？</strong></p>
<p>AI 助手有强大的通用能力，但缺乏领域知识和团队上下文。Agent Skills 让你把这些知识打包成<strong>可复用、可版本控制、可跨产品使用</strong>的技能包。</p>
<p><strong>核心设计</strong>：</p>
<ol>
<li><strong>结构简单</strong>：一个 SKILL.md 文件 + 可选的脚本/资源</li>
<li><strong>渐进式披露</strong>：启动快，但能按需获取详细上下文</li>
<li><strong>自文档化</strong>：人和 AI 都能理解</li>
<li><strong>可移植</strong>：一次编写，多处运行</li>
</ol>
<p><strong>从 PPTX Skill 学到的</strong>：</p>
<ul>
<li>复杂任务需要<strong>多工作流设计</strong></li>
<li>好的 Skill 不仅说"怎么做"，还说"怎么验证做对了"</li>
<li><strong>先分析后执行</strong>是处理复杂任务的好模式</li>
<li>把详细参考资料拆分到单独文件</li>
</ul>
<hr>
<h2 id="_11">行动清单</h2>
<p>想开始使用 Agent Skills？</p>
<ul>
<li>[ ] 用 <code>npx ai-agent-skills browse</code> 浏览并安装现有 Skills</li>
<li>[ ] 浏览 <a href="https://github.com/anthropics/skills">官方示例</a> 获取灵感</li>
<li>[ ] 读一遍 <a href="https://agentskills.io/specification">规范文档</a></li>
<li>[ ] 从一个简单的 Skill 开始（比如团队代码规范）</li>
<li>[ ] 用 <a href="https://github.com/agentskills/agentskills/tree/main/skills-ref">skills-ref</a> 验证你的 Skill</li>
<li>[ ] 把你的 Skill 贡献到 <a href="https://github.com/skillcreatorai/Ai-Agent-Skills">Ai-Agent-Skills</a></li>
<li>[ ] 在团队内分享和迭代</li>
</ul>
<hr>
<p><strong>延伸阅读</strong></p>
<ul>
<li><a href="https://agentskills.io/">Agent Skills 官网</a> —— 官方文档和规范</li>
<li><a href="https://github.com/anthropics/skills">官方示例库</a> —— 包括 PPTX、PDF、DOCX 等 Skill</li>
<li><a href="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices">最佳实践指南</a> —— Anthropic 的 Skill 编写指南</li>
<li><a href="https://github.com/skillcreatorai/Ai-Agent-Skills">Ai-Agent-Skills</a> —— 一行命令安装 Skills 的工具</li>
<li><a href="https://github.com/skillcreatorai/Ai-Agent-Skills/pull/10">我的 PR: diagram-render skill</a> —— 贡献图表渲染能力</li>
</ul>
<hr>
<p>你们团队有哪些重复性的工作可以打包成 Skill？代码规范检查？文档模板填充？API 设计指南？</p>
<p>欢迎在评论区分享你的想法，或者你已经写好的 Skill。</p>
<hr/>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/ai.html">AI</a>
      <a href="./tag/agent-skills.html">Agent Skills</a>
      <a href="./tag/cursor.html">Cursor</a>
      <a href="./tag/claude-code.html">Claude Code</a>
      <a href="./tag/bian-cheng-gong-ju.html">编程工具</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./ai-fu-zhu-bian-cheng-de-san-da-hu-fa-ke-yan-zheng-xing-ke-guan-ce-xing-ke-li-jie-xing.html" title="AI 辅助编程的三大护法：可验证性、可观测性、可理解性">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./zhi-chang-gong-ju-xiang-zhi-jie-jue-wen-ti-wu-bu-fa-wei-shi-yao-ni-hen-mang-dan-cheng-chang-hen-man.html" title="职场工具箱之解决问题五步法：为什么你很忙，但成长很慢？">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./claude-code-shi-yong-ji-qiao-yu-cheng-ben-kong-zhi-zhi-nan.html">Claude Code 使用技巧与成本控制指南</a></li>
      <li><a href="./prompt-as-codedang-prompt-bu-zhi-shi-hua-er-shi-ke-zhi-xing-de-cheng-xu.html">Prompt-as-Code：当 Prompt 不只是"话"，而是可执行的"程序"</a></li>
      <li><a href="./cong-shou-cuo-workflow-dao-langgraphai-liu-cheng-bian-pai-de-liang-chong-lu-jing.html">从手搓 Workflow 到 LangGraph：AI 流程编排的两种路径</a></li>
      <li><a href="./yong-ai-agent-chu-li-fu-za-liu-cheng-xian-xie-workflowzai-xie-prompt.html">用 AI Agent 处理复杂流程：先写 Workflow，再写 Prompt</a></li>
      <li><a href="./ai-fu-zhu-bian-cheng-de-san-da-hu-fa-ke-yan-zheng-xing-ke-guan-ce-xing-ke-li-jie-xing.html">AI 辅助编程的三大护法：可验证性、可观测性、可理解性</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备20001876号-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>