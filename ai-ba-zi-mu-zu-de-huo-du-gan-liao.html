
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Daily minute" />
<meta name="keywords" content="ai, blog">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="AI æŠŠå­—å¹•ç»„çš„æ´»éƒ½å¹²äº†"/>
  <meta property="og:description" content="Daily minute"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./ai-ba-zi-mu-zu-de-huo-du-gan-liao.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2025-01-12 10:20:00+08:00"/>
  <meta property="article:modified_time" content="2025-01-12 19:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="ai"/>
  <meta property="article:tag" content="blog"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; AI æŠŠå­—å¹•ç»„çš„æ´»éƒ½å¹²äº†</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_self" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_self" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_self" href="https://github.com/walterfan" >github</a>
          </li>
          <li>
            <a target="_self" href="https://www.jianshu.com/u/e0b365801f48" >æŠ€æœ¯æ–‡ç« </a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="ai-ba-zi-mu-zu-de-huo-du-gan-liao">AI æŠŠå­—å¹•ç»„çš„æ´»éƒ½å¹²äº†</h1>
    <p>
      Posted on Sun 12 January 2025 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>AI æŠŠå­—å¹•ç»„çš„æ´»éƒ½å¹²äº†</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td>Â <strong>Category</strong>Â Â </td>
<td>Â learningÂ noteÂ Â </td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2025-01-12</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<ul>
<li><a href="#è¯¦ç»†æ­¥éª¤">è¯¦ç»†æ­¥éª¤</a></li>
<li><a href="#ç¬¬ä¸€æ­¥å°†mp4æ–‡ä»¶çš„è¯­éŸ³æå–ä¸º-wave-æ–‡ä»¶"><strong>ç¬¬ä¸€æ­¥</strong>ï¼šå°†mp4æ–‡ä»¶çš„è¯­éŸ³æå–ä¸º wave æ–‡ä»¶</a></li>
<li><a href="#ç¬¬äºŒæ­¥è°ƒç”¨-whisper-è¯†åˆ«è¯­éŸ³ä¸ºæ–‡æœ¬"><strong>ç¬¬äºŒæ­¥</strong>ï¼šè°ƒç”¨ whisper è¯†åˆ«è¯­éŸ³ä¸ºæ–‡æœ¬ã€‚</a></li>
<li><a href="#ç¬¬ä¸‰æ­¥è°ƒç”¨google-translateæŠŠæ–‡æœ¬ç¿»è¯‘æˆä¸­æ–‡"><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šè°ƒç”¨Google TranslateæŠŠæ–‡æœ¬ç¿»è¯‘æˆä¸­æ–‡ã€‚</a></li>
<li><a href="#ç¬¬å››æ­¥å°†æ–‡æœ¬è½¬æ¢ä¸ºå­—å¹•æ–‡ä»¶srtæ ¼å¼"><strong>ç¬¬å››æ­¥</strong>ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºå­—å¹•æ–‡ä»¶srtæ ¼å¼ã€‚</a></li>
<li><a href="#ç¬¬äº”æ­¥æ’­æ”¾åŸæœ¬çš„mp4æ–‡ä»¶å¹¶è½½å…¥ç”Ÿæˆçš„å­—å¹•æ–‡ä»¶"><strong>ç¬¬äº”æ­¥</strong>ï¼šæ’­æ”¾åŸæœ¬çš„mp4æ–‡ä»¶ï¼Œå¹¶è½½å…¥ç”Ÿæˆçš„å­—å¹•æ–‡ä»¶ã€‚</a></li>
<li><a href="#å…·ä½“ç”¨æ³•">å…·ä½“ç”¨æ³•</a></li>
<li><a href="#å‰ææ¡ä»¶">å‰ææ¡ä»¶</a></li>
<li><a href="#ä½¿ç”¨æ–¹æ³•">ä½¿ç”¨æ–¹æ³•</a></li>
<li><a href="#å°æŠ€å·§">å°æŠ€å·§</a></li>
</ul>
<p>æœ€è¿‘æˆ‘åœ¨çœ‹ä¸€ä¸ªå¤–å›½åŒäº‹å½•çš„ Demo è§†é¢‘å‘€ï¼Œé‚£é‡Œé¢æœ‰ä¸¤å¥ä»–è¯´å¾—é‚£å«ä¸€ä¸ªå¿«ï¼Œæˆ‘å¬äº†å¥½å‡ ééƒ½æ²¡å¬æ¸…æ¥šã€‚è¿™å¯å’‹åŠå‘¢ï¼Ÿ
æˆ‘çµæœºä¸€åŠ¨ï¼Œæƒ³ç€è‡ªå·±å†™ä¸ªè„šæœ¬å§ï¼ŒæŠŠè¯­éŸ³è½¬æ¢æˆæ–‡æœ¬ï¼Œç„¶åå†æŠŠæ–‡æœ¬ä»è‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡ï¼Œè¿™æ ·ä¸å°±æ¸…æ¥šå•¦ã€‚</p>
<p>è¯´å¹²å°±å¹²ï¼Œæœ‰äº† AI çš„åŠ æŒ, æ²¡èŠ±å¤šé•¿æ—¶é—´å°±å†™å¥½äº†ä¸€æ®µå°ç¨‹åºï¼Œä½ åˆ«è¯´ï¼Œæ•ˆæœè¿˜ä¸é”™ã€‚
åæ¥æˆ‘ä¸€ç¢ç£¨ï¼Œå“å‘€ï¼Œæˆ‘è¿™æ–¹æ³•å¥½åƒæŠŠå­—å¹•ç»„çš„æ´»å„¿éƒ½ç»™å¹²äº†ï¼Œéš¾é“ä»¥åå­—å¹•ç»„éƒ½å¯ä»¥è§£æ•£äº†ï¼Ÿ
è™½ç„¶åªæ˜¯å¥ç©ç¬‘è¯, ä¸è¿‡è¯´çœŸçš„ï¼Œæ—¶ä»£çš„æ´ªæµä¸æœä¸è¡Œï¼Œå¥½å¤šèŒä¸šéƒ½åœ¨è¿™è‚¡æ´ªæµä¸­â€œç°é£çƒŸç­â€äº†ã€‚</p>
<p>æƒ³å½“å¹´ï¼Œå­—å¹•ç»„ç»™å°‘å¹´æ—¶æœŸçš„æˆ‘å¸¦æ¥äº†å¥½å¤šæ¬¢ä¹ã€‚é‚£æ—¶å€™æˆ‘å°±æƒ³ç€ï¼Œè¦æ˜¯æˆ‘èƒ½è‹¦ç»ƒè‹±è¯­ï¼Œä»¥åæˆä¸ºä¸€åå…‰è£çš„å­—å¹•ç»„æˆå‘˜ã€‚
æ²¡æƒ³åˆ°ç°åœ¨æˆ‘æˆäº†ç¨‹åºå‘˜ï¼Œå±…ç„¶å†™ä¸ªå°ç¨‹åºå°±èƒ½æŠŠå­—å¹•ç»„çš„æ´»å„¿ç»™å¹²äº†ï¼Œè¿™ä¸–ç•Œå˜åŒ–çœŸå¿«ï¼Œå°±åƒæ­Œé‡Œå”±çš„â€œä¸æ˜¯æˆ‘ä¸æ˜ç™½ï¼Œè¿™ä¸–ç•Œå˜åŒ–å¿«â€ã€‚</p>
<p>åœ¨äººå·¥æ™ºèƒ½è“¬å‹ƒå‘å±•çš„æ—¶ä»£ï¼Œå¥½å¤šå²—ä½éƒ½é¢ä¸´ç€è¢«å–ä»£çš„é£é™©å‘€ï¼Œæˆ‘ä»¬ç¨‹åºå‘˜ä¹Ÿä¸ä¾‹å¤–, ä»¤äººå”å˜˜çš„æ˜¯ï¼Œç¨‹åºå‘˜è‡ªå·±å†™ç¨‹åºæŠŠè‡ªå·±çš„èŒä½ç»™ææ²¡äº†.
è™½ç„¶è¯´ç¨‹åºå‘˜ä¸ä¼šéƒ½å¤±ä¸šï¼Œæ¯•ç«Ÿäººå·¥æ™ºèƒ½ä¹Ÿæ˜¯è¦é æˆ‘ä»¬ç¨‹åºå‘˜æ¥å®ç°ï¼Œä½†ä»¥åç¡®å®ä¹Ÿä¸éœ€è¦é‚£ä¹ˆå¤šç¨‹åºå‘˜äº†ã€‚å›ä¸è§ï¼Œå¤šå°‘å…¬å¸éƒ½åœ¨æâ€œè£å‘˜å¹¿è¿›â€ï¼Œ
å°±è¿å®‡å®™å¤§å‚å¾®è½¯æœ€è¿‘ä¹Ÿéƒ½ä¼ å‡ºäº†è£å‘˜çš„æ¶ˆæ¯å‘¢ã€‚æˆ‘è‡ªå·±ä¹Ÿæ˜¯å‰ä¸¤å¹´åˆšä»å¤§å‚è¢«è£å‘˜å‡ºæ¥çš„ï¼Œè¯´èµ·æ¥éƒ½æ˜¯ä¸€æŠŠè¾›é…¸æ³ªå‘€ã€‚</p>
<p>å¥½å•¦ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œå’±ä»¬æ¥çœ‹çœ‹è¿™ä¸ªå°ç¨‹åºæ˜¯æ€ä¹ˆæŠŠå­—å¹•ç»„çš„æ´»å„¿éƒ½å¹²äº†çš„å§ã€‚</p>
<h2 id="_1">è¯¦ç»†æ­¥éª¤</h2>
<h3 id="mp4-wave"><strong>ç¬¬ä¸€æ­¥</strong>ï¼šå°†mp4æ–‡ä»¶çš„è¯­éŸ³æå–ä¸º wave æ–‡ä»¶</h3>
<p>å°†è§†é¢‘æ–‡ä»¶è½¬æ¢æˆéŸ³é¢‘æ–‡ä»¶ï¼Œè®©å®ƒå˜æˆæˆ‘ä»¬æ›´å®¹æ˜“å¤„ç†çš„æ ¼å¼ã€‚å¯¹åº”çš„ä»£ç å¦‚ä¸‹:</p>
<div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_audio_from_video</span><span class="p">(</span><span class="n">mp4_file</span><span class="p">,</span> <span class="n">audio_file</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extract audio from an MP4 file and save as WAV.&quot;&quot;&quot;</span>
    <span class="n">ffmpeg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">mp4_file</span><span class="p">)</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">audio_file</span><span class="p">)</span><span class="o">.</span><span class="n">global_args</span><span class="p">(</span><span class="s1">&#39;-loglevel&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">audio_file</span>
</pre></div>


<p>åªéœ€è¦æä¾›æ­£ç¡®çš„mp4æ–‡ä»¶è·¯å¾„ï¼Œç¨‹åºå°±ä¼šè‡ªåŠ¨å¤„ç†å¹¶ç”Ÿæˆå¯¹åº”çš„waveæ–‡ä»¶ã€‚</p>
<h3 id="whisper"><strong>ç¬¬äºŒæ­¥</strong>ï¼šè°ƒç”¨ whisper è¯†åˆ«è¯­éŸ³ä¸ºæ–‡æœ¬ã€‚</h3>
<p>è¿™ä¸ªwhisperå°±å‰å®³, openai å‡ºå£, å¿…å±ç²¾å“, å¯ä»¥æŠŠè§†é¢‘é‡Œçš„è¯­éŸ³è¯†åˆ«æˆæ–‡å­—å‘¢ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">transcribe_audio_with_whisper</span><span class="p">(</span><span class="n">audio_file</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;base&quot;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Transcribe audio to text using Whisper.&quot;&quot;&quot;</span>
    <span class="c1"># Load Whisper model</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>

    <span class="c1"># Transcribe audio</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="n">audio_file</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span>
</pre></div>


<p>å®ƒåŠ è½½ ASR æ¨¡å‹å¹¶è¿›è¡Œè¯­éŸ³è½¬æ–‡å­—çš„æ ¸å¿ƒé€»è¾‘ã€‚ä¸ºäº†åˆ¶ä½œå­—å¹•æ–‡ä»¶, æˆ‘ä»¬æœ€å¥½æŒ‰æ®µè½è¯†åˆ«, å¹¶è®°å½•æ®µè½çš„èµ¶æ­¢æ—¶é—´, ä»£ç ä¿®æ”¹å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">transcribe_audio_with_segments</span><span class="p">(</span><span class="n">audio_file</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;base&quot;</span><span class="p">,</span> <span class="n">pause_threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">):</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="n">model_name</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="n">audio_file</span><span class="p">,</span> <span class="n">word_timestamps</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="n">segments</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;segments&quot;</span><span class="p">]</span>
    <span class="n">sn</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">paragraphs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">current_paragraph</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">previous_end_time</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="n">paragraph_start_time</span> <span class="o">=</span> <span class="mf">0.0</span>

    <span class="k">for</span> <span class="n">segment</span> <span class="ow">in</span> <span class="n">segments</span><span class="p">:</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="s2">&quot;start&quot;</span><span class="p">]</span>
        <span class="n">end_time</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="s2">&quot;end&quot;</span><span class="p">]</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">segment</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># the first paragraph</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">current_paragraph</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">paragraph_start_time</span> <span class="o">=</span> <span class="n">start_time</span>

        <span class="c1"># create new paragraph if time distance is greater than pause threshold</span>
        <span class="k">if</span> <span class="n">start_time</span> <span class="o">-</span> <span class="n">previous_end_time</span> <span class="o">&gt;</span> <span class="n">pause_threshold</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">current_paragraph</span><span class="p">:</span>
                <span class="n">sn</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">merged_text</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_paragraph</span><span class="p">)</span>
                <span class="n">paragraphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">sn</span><span class="si">}</span><span class="se">\n</span><span class="s2">[</span><span class="si">{</span><span class="n">format_time</span><span class="p">(</span><span class="n">paragraph_start_time</span><span class="p">)</span><span class="si">}</span><span class="s2"> --&gt; </span><span class="si">{</span><span class="n">format_time</span><span class="p">(</span><span class="n">end_time</span><span class="p">)</span><span class="si">}</span><span class="s2">]</span><span class="se">\n</span><span class="si">{</span><span class="n">merged_text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="c1"># start new paragraph</span>
                <span class="n">current_paragraph</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">paragraph_start_time</span> <span class="o">=</span> <span class="n">start_time</span>

        <span class="n">current_paragraph</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">previous_end_time</span> <span class="o">=</span> <span class="n">end_time</span>

    <span class="c1"># the last paragraph</span>
    <span class="k">if</span> <span class="n">current_paragraph</span><span class="p">:</span>
        <span class="n">paragraphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">current_paragraph</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">paragraphs</span>
</pre></div>


<h3 id="google-translate"><strong>ç¬¬ä¸‰æ­¥</strong>ï¼šè°ƒç”¨Google TranslateæŠŠæ–‡æœ¬ç¿»è¯‘æˆä¸­æ–‡ã€‚</h3>
<p>-
å€ŸåŠ© google translator è¿™ä¸ªå¼ºå¤§çš„ç¿»è¯‘å·¥å…·ï¼Œè‹±æ–‡æ–‡æœ¬èƒ½è½»æ¾ç¿»è¯‘æˆä¸­æ–‡å•¦ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre><span></span><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">translate_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Translate text from English to Chinese.&quot;&quot;&quot;</span>
    <span class="n">translator</span> <span class="o">=</span> <span class="n">Translator</span><span class="p">()</span>
    <span class="n">translated</span> <span class="o">=</span> <span class="k">await</span> <span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="n">dest</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">translated</span><span class="o">.</span><span class="n">text</span>

<span class="k">def</span><span class="w"> </span><span class="nf">do_translate</span><span class="p">(</span><span class="n">text_file</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">):</span>
    <span class="n">translated_text</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">translate_text</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">))</span>
    <span class="n">dest_file_name</span> <span class="o">=</span> <span class="n">text_file</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">dest_file_name</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">translated_text</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;### Transcribed Text:</span><span class="se">\n</span><span class="s2"> </span><span class="si">{</span><span class="n">translated_text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>


<p>å®ƒåˆ©ç”¨<code>googletrans</code>åº“çš„<code>Translator</code>ç±»æ¥å®ç°å¼‚æ­¥ç¿»è¯‘ï¼Œå°†æºè¯­è¨€æ–‡æœ¬è½¬æ¢æˆç›®æ ‡è¯­è¨€æ–‡æœ¬ã€‚</p>
<h3 id="srt"><strong>ç¬¬å››æ­¥</strong>ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºå­—å¹•æ–‡ä»¶srtæ ¼å¼ã€‚</h3>
<p>ä»£ç ä¸­è™½ç„¶æ²¡æœ‰å•ç‹¬ä¸€ä¸ªå‡½æ•°æ˜ç¡®å«â€œè½¬æ¢ä¸ºsrtæ ¼å¼â€ï¼Œä½†å®é™…ä¸Šæ•´ä¸ªæµç¨‹æœ€ç»ˆç”Ÿæˆçš„æ–‡æœ¬æ–‡ä»¶ï¼ˆå¦‚æœæŒ‡å®šæ ¼å¼ä¸º<code>srt</code>ï¼‰å°±æ˜¯æŒ‰ç…§å­—å¹•æ–‡ä»¶æ ¼å¼è¦æ±‚æ¥ç»„ç»‡å†…å®¹çš„ï¼Œå…³é”®åœ¨äº<code>transcribe_audio_with_segments</code>å‡½æ•°ä¸­å¯¹æ®µè½ã€æ—¶é—´æˆ³ç­‰ä¿¡æ¯çš„å¤„ç†ï¼Œç”Ÿæˆç¬¦åˆå­—å¹•æ ¼å¼è§„èŒƒçš„æ–‡æœ¬æ®µè½ï¼Œæ¯”å¦‚:</p>
<div class="highlight"><pre><span></span><span class="n">paragraphs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">sn</span><span class="si">}</span><span class="se">\n</span><span class="s2">[</span><span class="si">{</span><span class="n">format_time</span><span class="p">(</span><span class="n">paragraph_start_time</span><span class="p">)</span><span class="si">}</span><span class="s2"> --&gt; </span><span class="si">{</span><span class="n">format_time</span><span class="p">(</span><span class="n">end_time</span><span class="p">)</span><span class="si">}</span><span class="s2">]</span><span class="se">\n</span><span class="si">{</span><span class="n">merged_text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>


<p>è¿™é‡Œ<code>format_time</code>å‡½æ•°ç”¨æ¥æ ¼å¼åŒ–æ—¶é—´æˆ³ï¼š</p>
<div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">format_time</span><span class="p">(</span><span class="n">seconds</span><span class="p">):</span>
    <span class="n">millis</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="nb">float</span><span class="p">(</span><span class="n">seconds</span><span class="p">)</span> <span class="o">%</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">seconds</span><span class="p">))</span>
    <span class="n">mins</span><span class="p">,</span> <span class="n">secs</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">seconds</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="n">hrs</span><span class="p">,</span> <span class="n">mins</span> <span class="o">=</span> <span class="nb">divmod</span><span class="p">(</span><span class="n">mins</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hrs</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">mins</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">secs</span><span class="si">:</span><span class="s2">02</span><span class="si">}</span><span class="s2">,</span><span class="si">{</span><span class="n">millis</span><span class="si">:</span><span class="s2">03</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>


<h3 id="mp4"><strong>ç¬¬äº”æ­¥</strong>ï¼šæ’­æ”¾åŸæœ¬çš„mp4æ–‡ä»¶ï¼Œå¹¶è½½å…¥ç”Ÿæˆçš„å­—å¹•æ–‡ä»¶ã€‚</h3>
<p>å¦‚æ­¤è¿™èˆ¬, æˆ‘ä»¬å°±èƒ½çœ‹ç€å¸¦æœ‰ä¸­æ–‡å­—å¹•çš„è§†é¢‘å•¦ã€‚è¿™ä¸€æ­¥é€šå¸¸æ˜¯åœ¨è§†é¢‘æ’­æ”¾è½¯ä»¶ä¸­æ“ä½œï¼Œæ¯”å¦‚å¸¸è§çš„VLCæ’­æ”¾å™¨ï¼Œä½ åœ¨æ’­æ”¾mp4æ–‡ä»¶æ—¶ï¼Œåœ¨æ’­æ”¾å™¨ç•Œé¢æ‰¾åˆ°åŠ è½½å­—å¹•çš„é€‰é¡¹ï¼Œç„¶åé€‰æ‹©æˆ‘ä»¬ç¨‹åºç”Ÿæˆçš„<code>srt</code>å­—å¹•æ–‡ä»¶å³å¯ã€‚ä¸åŒæ’­æ”¾å™¨æ“ä½œç•¥æœ‰ä¸åŒï¼Œä½†å¤§è‡´æ€è·¯ä¸€æ ·ã€‚</p>
<h2 id="_2">å…·ä½“ç”¨æ³•</h2>
<p>å…·ä½“çš„ç”¨æ³•å¯ä»¥å‚è§<a href="https://github.com/walterfan/video_to_text/edit/master/README.md">https://github.com/walterfan/video_to_text/edit/master/README.md</a> ã€‚</p>
<p>è¿™ä¸ªè„šæœ¬æ˜¯ç”¨Pythonå†™çš„ï¼Œå®ƒå¯ä»¥æŠŠmp4è§†é¢‘é€šè¿‡ whisper è½¬æ¢æˆæ–‡æœ¬ï¼Œå¹¶ä¸”è¿˜èƒ½æŠŠæ–‡æœ¬ä»é»˜è®¤çš„æºè¯­è¨€â€œenâ€ç¿»è¯‘æˆé»˜è®¤çš„ç›®æ ‡è¯­è¨€â€œzh-cnâ€, æœ€åç”Ÿæˆå­—å¹•æ–‡ä»¶ã€‚</p>
<h3 id="_3">å‰ææ¡ä»¶</h3>
<p>é¦–å…ˆï¼Œä½ å¾—å®‰è£…ffmpegå’Œä¸€äº›å¿…è¦çš„åº“ã€‚</p>
<p>åœ¨Macä¸Šå¯ä»¥ç”¨</p>
<div class="highlight"><pre><span></span>brew<span class="w"> </span>install<span class="w"> </span>ffmpeg
</pre></div>


<p>æ¥å®‰è£…ffmpegï¼Œç„¶åç”¨</p>
<div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>


<p>æ¥å®‰è£…å…¶ä»–éœ€è¦çš„åº“ã€‚</p>
<h3 id="_4">ä½¿ç”¨æ–¹æ³•</h3>
<p>å®‰è£…å¥½ä¹‹åå‘¢ï¼Œå°±å¯ä»¥ä½¿ç”¨å•¦ã€‚åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥</p>
<div class="highlight"><pre><span></span>./video_to_text.py<span class="w"> </span>-h
</pre></div>


<p>å°±èƒ½çœ‹åˆ°å…·ä½“çš„ä½¿ç”¨è¯´æ˜å’¯, æœ‰å¦‚ä¸‹å‚æ•°å¯ä»¥è®¾ç½®:</p>
<ul>
<li>--input INPUT: ä¹Ÿå°±æ˜¯ä½ è¦è¾“å…¥çš„mp4æ–‡ä»¶çš„è·¯å¾„ï¼›</li>
<li>--output OUTPUTâ€: è¿™æ˜¯è¾“å‡ºçš„æ–‡æœ¬æ–‡ä»¶çš„è·¯å¾„ï¼Œå¦‚æœä¸æŒ‡å®šçš„è¯ï¼Œå°±ä¼šå’Œè¾“å…¥æ–‡ä»¶åŒåï¼Œä½†æ˜¯æ‰©å±•åæ˜¯â€œ.srtâ€å“¦ï¼›</li>
<li>--model MODEL: whisper ä½¿ç”¨çš„æ¨¡å‹ï¼Œé»˜è®¤æ˜¯â€œsmallâ€ï¼›</li>
<li>--src SRC: æºè¯­è¨€ï¼Œé»˜è®¤æ˜¯â€œenâ€, å³è‹±æ–‡</li>
<li>--dest DEST: ç›®æ ‡è¯­è¨€, é»˜è®¤æ˜¯â€œzh-cnâ€, å³ä¸­æ–‡</li>
<li>--format FORMAT: è¾“å‡ºæ ¼å¼ï¼Œç›®å‰åªæ”¯æŒâ€œtxtâ€å’Œâ€œsrtâ€æ ¼å¼å“Ÿã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¾“å…¥å¦‚ä¸‹å‘½ä»¤æ¥ç”Ÿæˆè§†é¢‘çš„ä¸€ä¸ªå¯¹åº”çš„å­—å¹•æ–‡ä»¶</p>
<div class="highlight"><pre><span></span>./video_to_text.py<span class="w"> </span>-i./example/5_minutes_for_50_years.mp4
</pre></div>


<p>ç”Ÿæˆçš„ç»“æœ</p>
<ul>
<li>5_min_for_50_years_en.srt</li>
</ul>
<div class="highlight"><pre><span></span>1
[00:00:00,620 --&gt; 00:00:32,600]
I&#39;m gonna talk to you about some things I&#39;ve learned in my journey. Most from experience, some of them I&#39;ve heard in passing, many of them I&#39;m still practicing, but all of them I do believe are true.
Life is not easy. It is not. Don&#39;t try to make it that way. Life&#39;s not fair. It never was.
It is it now and it won&#39;t ever be. Do not fall into the trap, the entitlement trap, a feeling like you&#39;re a victim.
You are not. Get over it and get on with it.

2
[00:00:28,079 --&gt; 00:04:04,680]
So the question that we&#39;re gonna ask ourselves is what success is to us. What success is to you? Is it more money? That&#39;s fine. I got nothing against money. Maybe it&#39;s a healthy family. Maybe it&#39;s a happy marriage. Maybe it&#39;s to help others to be famous, to be spiritually sound, to leave the world a little bit better place than you found it. Continue to ask yourself that question. Now your answer may change over time and that&#39;s fine. But do yourself this favor. Whatever your answer is, don&#39;t choose anything that will jeopardize your soul. Prioritize who you are, who you want to be, and don&#39;t spend time with anything that antagonizes your character. Be brave, take the hill, but first answer that question what&#39;s my hill? For first, we have to define success for ourselves and then we have to put in the work to maintain it. Take that daily talent. Tend our guard. Keep the things that are important to us in good shape. Where you are not is as important as where you are. It is just as important where we are not as it is where we are. Look, the first step that leads to our identity life is usually not. I know who I am. I know who I am. That&#39;s not the first step. The first steps usually I know who I am not. Process of elimination. Defining ourselves by what we are not is the first step that leads us to really knowing who we are. You know, that group of friends that you hang out with that really might not bring out the best in you. They gossip too much, they&#39;re kind of shady. They really aren&#39;t going to be there for you in a pinch. How about that bar that we keep going to that we always seem to have the worst hangover problem? Or that computer screen, right? The computer screen that keeps giving us an excuse not to get out of the house and engage with the world and get some real human interaction. How about that food that we keep eating? Stuff that tastes so good going down, makes us feel like crap the next week? We feel a thardic when we keep putting on weight? Well, those people, those places, those things, stop giving them your time and energy. Just don&#39;t go there. I mean, put them down. And when you do this, when you do put them down, you put them down there. When you put them in your time, you inadvertently find yourself spending more time and in more places that are healthy for you, that bring you more joy. Why? Because you just eliminated the who&#39;s, the where&#39;s, the what&#39;s and the wins that were keeping you from your identity. Look, trust me, too many options. I promise you, too many options will make a tyrant of us all. Alright, so get rid of the excess, the wasted time, decrease your options. If you do this, you will have accidentally, almost innocently, put in front of you what is important to you. By processing elimination. Knowing who we are is hard. It&#39;s hard. Give yourself a break. Eliminate who you are not first. And you&#39;re going to find yourself where you need to be.

3
[00:03:59,139 --&gt; 00:04:26,939]
Instead of creating outcomes that take from us, let&#39;s create more outcomes that pay us back. Fill us up. Keep your fire lit. Turn you on for the most amount of time in your future. We try our best. We don&#39;t always do our best.

4
[00:04:16,899 --&gt; 00:04:50,120]
Architecture is a verb as well. And since we are the architects of our own lives, let&#39;s study the habits, the practices, the routines that we have that lead to and feed our success. Our joy, our honest pain, our laughter, our earned tears. Let&#39;s dissect that and give thanks for those things. And when we do that, guess what happens? We get better at them. And we have more to dissect.

5
[00:04:43,980 --&gt; 00:05:00,120]
Be discerning. Choose it because you want it. Do it because you want to.

6
[00:04:52,819 --&gt; 00:05:23,519]
We&#39;re going to make mistakes. You got to own them. Then you got to make amends. And then you got to move on. Guilt and regret kills many a man before their time. So turn the page. Get off the ride. You are the author of the book of your life.
Thank you.
</pre></div>


<ul>
<li>5_min_for_50_years_zh-cn.srt</li>
</ul>
<div class="highlight"><pre><span></span>1
[00:00:00,620 --&gt; 00:00:32,600]
æˆ‘å°†å’Œä½ è°ˆè°ˆæˆ‘åœ¨æ—…é€”ä¸­å­¦åˆ°çš„ä¸€äº›äº‹æƒ…ã€‚å¤§å¤šæ•°æ¥è‡ªç»éªŒï¼Œå…¶ä¸­ä¸€äº›æ˜¯æˆ‘å¶ç„¶å¬åˆ°çš„ï¼Œå…¶ä¸­è®¸å¤šæˆ‘ä»åœ¨ç»ƒä¹ ï¼Œä½†æˆ‘ç›¸ä¿¡æ‰€æœ‰è¿™äº›éƒ½æ˜¯çœŸå®çš„ã€‚ç”Ÿæ´»å¹¶ä¸å®¹æ˜“ã€‚å®ƒä¸æ˜¯ã€‚ä¸è¦è¯•å›¾é‚£æ ·åšã€‚ç”Ÿæ´»å¹¶ä¸å…¬å¹³ã€‚ä»æ¥éƒ½ä¸æ˜¯ã€‚ç°åœ¨æ˜¯è¿™æ ·ï¼Œä»¥åä¹Ÿä¸ä¼šæ˜¯è¿™æ ·ã€‚ä¸è¦è½å…¥é™·é˜±ã€æƒåˆ©é™·é˜±ã€æ„Ÿè§‰è‡ªå·±æ˜¯å—å®³è€…ã€‚ä½ ä¸æ˜¯ã€‚å…‹æœå®ƒå¹¶ç»§ç»­å®ƒã€‚

2
[00:00:28,079 --&gt; 00:04:04,680]
æ‰€ä»¥æˆ‘ä»¬è¦é—®è‡ªå·±çš„é—®é¢˜æ˜¯æˆåŠŸå¯¹æˆ‘ä»¬æ¥è¯´æ„å‘³ç€ä»€ä¹ˆã€‚æˆåŠŸå¯¹ä½ æ¥è¯´æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ˜¯ä¸æ˜¯é’±å¤šäº†ï¼Ÿæ²¡å…³ç³»ã€‚æˆ‘å¯¹é‡‘é’±æ²¡æœ‰ä»»ä½•æŠµè§¦ã€‚ä¹Ÿè®¸è¿™å°±æ˜¯ä¸€ä¸ªå¥åº·çš„å®¶åº­ã€‚ä¹Ÿè®¸è¿™æ‰æ˜¯å¹¸ç¦çš„å©šå§»ã€‚ä¹Ÿè®¸æ˜¯ä¸ºäº†å¸®åŠ©åˆ«äººå‡ºåï¼Œåœ¨ç²¾ç¥ä¸Šå¥å…¨ï¼Œè®©ä¸–ç•Œå˜å¾—æ¯”ä½ å‘ç°çš„æ›´å¥½ä¸€äº›ã€‚ç»§ç»­é—®è‡ªå·±è¿™ä¸ªé—®é¢˜ã€‚ç°åœ¨ä½ çš„ç­”æ¡ˆå¯èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ”¹å˜ï¼Œä½†è¿™æ²¡å…³ç³»ã€‚ä½†å¸®è‡ªå·±ä¸€ä¸ªå¿™å§ã€‚æ— è®ºä½ çš„ç­”æ¡ˆæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸è¦é€‰æ‹©ä»»ä½•ä¼šå±åŠä½ çµé­‚çš„äº‹æƒ…ã€‚ä¼˜å…ˆè€ƒè™‘ä½ æ˜¯è°ï¼Œä½ æƒ³æˆä¸ºè°ï¼Œä¸è¦æŠŠæ—¶é—´èŠ±åœ¨ä»»ä½•ä¸ä½ çš„æ€§æ ¼ç›¸æ‚–çš„äº‹æƒ…ä¸Šã€‚å‹‡æ•¢ä¸€ç‚¹ï¼Œç™»ä¸Šè¿™åº§å±±ï¼Œä½†é¦–å…ˆè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼šæˆ‘çš„å±±æ˜¯ä»€ä¹ˆï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»ä¸ºè‡ªå·±å®šä¹‰æˆåŠŸï¼Œç„¶åæˆ‘ä»¬å¿…é¡»ä»˜å‡ºåŠªåŠ›æ¥ç»´æŒå®ƒã€‚ä»¥æ—¥å¸¸å¤©èµ‹ä¸ºä¾‹ã€‚ç…§é¡¾æˆ‘ä»¬çš„è­¦å«ã€‚ä¿æŒå¯¹æˆ‘ä»¬é‡è¦çš„äº‹ç‰©å¤„äºè‰¯å¥½çŠ¶æ€ã€‚ä½ ä¸åœ¨çš„åœ°æ–¹å’Œä½ åœ¨çš„åœ°æ–¹åŒæ ·é‡è¦ã€‚æˆ‘ä»¬ä¸åœ¨çš„åœ°æ–¹å’Œæˆ‘ä»¬åœ¨çš„åœ°æ–¹åŒæ ·é‡è¦ã€‚çœ‹ï¼Œé€šå‘æˆ‘ä»¬èº«ä»½ç”Ÿæ´»çš„ç¬¬ä¸€æ­¥é€šå¸¸ä¸æ˜¯ã€‚æˆ‘çŸ¥é“æˆ‘æ˜¯è°ã€‚æˆ‘çŸ¥é“æˆ‘æ˜¯è°ã€‚è¿™ä¸æ˜¯ç¬¬ä¸€æ­¥ã€‚ç¬¬ä¸€æ­¥é€šå¸¸æˆ‘çŸ¥é“æˆ‘ä¸æ˜¯è°ã€‚æ¶ˆé™¤è¿‡ç¨‹ã€‚é€šè¿‡æˆ‘ä»¬ä¸æ˜¯ä»€ä¹ˆæ¥å®šä¹‰è‡ªå·±æ˜¯è®©æˆ‘ä»¬çœŸæ­£äº†è§£è‡ªå·±æ˜¯è°çš„ç¬¬ä¸€æ­¥ã€‚ä½ çŸ¥é“ï¼Œå’Œä½ ä¸€èµ·å‡ºå»ç©çš„é‚£ç¾¤æœ‹å‹å¯èƒ½å¹¶ä¸èƒ½å‘æŒ¥å‡ºä½ æœ€å¥½çš„ä¸€é¢ã€‚ä»–ä»¬é—²è¯å¤ªå¤šï¼Œæœ‰ç‚¹é˜´æš—ã€‚ä»–ä»¬çœŸçš„ä¸ä¼šåœ¨ç´§è¦å…³å¤´ä¸ºä½ æä¾›å¸®åŠ©ã€‚æˆ‘ä»¬ç»å¸¸å»çš„é‚£ä¸ªé…’å§æ€ä¹ˆæ ·ï¼Œæˆ‘ä»¬ä¼¼ä¹æ€»æ˜¯æœ‰æœ€ä¸¥é‡çš„å®¿é†‰é—®é¢˜ï¼Ÿæˆ–è€…é‚£ä¸ªç”µè„‘å±å¹•ï¼Œå¯¹å§ï¼Ÿç”µè„‘å±å¹•ä¸æ–­ç»™æˆ‘ä»¬å€Ÿå£ä¸èµ°å‡ºå®¶é—¨ï¼Œä¸ä¸–ç•Œæ¥è§¦ï¼Œè¿›è¡Œä¸€äº›çœŸæ­£çš„äººé™…äº’åŠ¨ã€‚æˆ‘ä»¬ä¸€ç›´åƒçš„é£Ÿç‰©æ€ä¹ˆæ ·ï¼Ÿå‘³é“å¾ˆå¥½çš„ä¸œè¥¿ä¸‹å‘¨ä¼šè®©æˆ‘ä»¬æ„Ÿè§‰å¾ˆç³Ÿç³•å—ï¼Ÿå½“æˆ‘ä»¬ä½“é‡æŒç»­å¢åŠ æ—¶ï¼Œæˆ‘ä»¬ä¼šæ„Ÿåˆ°ç–²åŠ³å—ï¼Ÿå¥½å§ï¼Œé‚£äº›äººï¼Œé‚£äº›åœ°æ–¹ï¼Œé‚£äº›äº‹ï¼Œåœæ­¢ç»™ä»–ä»¬ä½ çš„æ—¶é—´å’Œç²¾åŠ›ã€‚åªæ˜¯ä¸è¦å»é‚£é‡Œã€‚æˆ‘çš„æ„æ€æ˜¯ï¼ŒæŠŠå®ƒä»¬æ”¾ä¸‹ã€‚å½“ä½ è¿™æ ·åšæ—¶ï¼Œå½“ä½ æŠŠå®ƒä»¬æ”¾ä¸‹æ—¶ï¼Œä½ å°±æŠŠå®ƒä»¬æ”¾åœ¨é‚£é‡Œã€‚å½“ä½ æŠŠå®ƒä»¬æ”¾åœ¨ä½ çš„æ—¶é—´é‡Œæ—¶ï¼Œä½ ä¼šä¸ç»æ„åœ°å‘ç°è‡ªå·±èŠ±äº†æ›´å¤šçš„æ—¶é—´å’Œæ›´å¤šå¯¹ä½ å¥åº·çš„åœ°æ–¹ï¼Œè¿™ç»™ä½ å¸¦æ¥æ›´å¤šçš„å¿«ä¹ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºä½ åˆšåˆšæ¶ˆé™¤äº†é‚£äº›é˜»ç¢ä½ äº†è§£è‡ªå·±èº«ä»½çš„äººç‰©ã€åœ°ç‚¹ã€äº‹ä»¶å’Œèƒœåˆ©ã€‚çœ‹ï¼Œç›¸ä¿¡æˆ‘ï¼Œæœ‰å¤ªå¤šé€‰æ‹©ã€‚æˆ‘å‘ä½ ä¿è¯ï¼Œå¤ªå¤šçš„é€‰æ‹©ä¼šè®©æˆ‘ä»¬æ‰€æœ‰äººæˆä¸ºæš´å›ã€‚å¥½å§ï¼Œæ‰€ä»¥æ‘†è„±å¤šä½™çš„ã€æµªè´¹çš„æ—¶é—´ï¼Œå‡å°‘ä½ çš„é€‰æ‹©ã€‚å¦‚æœä½ è¿™æ ·åšï¼Œä½ å°±ä¼šæ— æ„ä¸­ã€å‡ ä¹æ˜¯æ— è¾œåœ°æŠŠå¯¹ä½ æ¥è¯´é‡è¦çš„ä¸œè¥¿æ‘†åœ¨ä½ é¢å‰ã€‚é€šè¿‡å¤„ç†æ¶ˆé™¤ã€‚çŸ¥é“æˆ‘ä»¬æ˜¯è°å¾ˆéš¾ã€‚è¿™å¾ˆéš¾ã€‚è®©è‡ªå·±ä¼‘æ¯ä¸€ä¸‹ã€‚é¦–å…ˆæ¶ˆé™¤ä½ ä¸æ˜¯çš„äººã€‚ä½ ä¼šå‘ç°è‡ªå·±å¤„äºä½ éœ€è¦å»çš„åœ°æ–¹ã€‚

3
[00:03:59,139 --&gt; 00:04:26,939]
è®©æˆ‘ä»¬åˆ›é€ æ›´å¤šå›æŠ¥æˆ‘ä»¬çš„æˆæœï¼Œè€Œä¸æ˜¯åˆ›é€ ç´¢å–æˆ‘ä»¬åˆ©ç›Šçš„æˆæœã€‚å¡«æ»¡æˆ‘ä»¬ã€‚è®©ä½ çš„ç«ä¸€ç›´ç‚¹ç‡ƒã€‚è®©æ‚¨åœ¨æœªæ¥çš„å¤§éƒ¨åˆ†æ—¶é—´å†…ä¿æŒæ´»åŠ›ã€‚æˆ‘ä»¬å°½åŠ›è€Œä¸ºã€‚æˆ‘ä»¬å¹¶ä¸æ€»æ˜¯å°½åŠ›è€Œä¸ºã€‚

4
[00:04:16,899 --&gt; 00:04:50,120]
å»ºç­‘ä¹Ÿæ˜¯ä¸€ä¸ªåŠ¨è¯ã€‚æ—¢ç„¶æˆ‘ä»¬æ˜¯è‡ªå·±ç”Ÿæ´»çš„å»ºç­‘å¸ˆï¼Œé‚£ä¹ˆè®©æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹æˆ‘ä»¬çš„ä¹ æƒ¯ã€åšæ³•å’Œæƒ¯ä¾‹ï¼Œè¿™äº›ä¹ æƒ¯ã€åšæ³•å’Œæƒ¯ä¾‹ä¼šå¯¼è‡´å¹¶ä¿ƒè¿›æˆ‘ä»¬çš„æˆåŠŸã€‚æˆ‘ä»¬çš„æ¬¢ä¹ï¼Œæˆ‘ä»¬çœŸè¯šçš„ç—›è‹¦ï¼Œæˆ‘ä»¬çš„ç¬‘å£°ï¼Œæˆ‘ä»¬åº”å¾—çš„æ³ªæ°´ã€‚è®©æˆ‘ä»¬å‰–æä¸€ä¸‹å¹¶æ„Ÿè°¢è¿™äº›äº‹æƒ…ã€‚å½“æˆ‘ä»¬è¿™æ ·åšæ—¶ï¼ŒçŒœçŒœä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæˆ‘ä»¬åœ¨è¿™äº›æ–¹é¢åšå¾—æ›´å¥½ã€‚æˆ‘ä»¬è¿˜æœ‰æ›´å¤šéœ€è¦å‰–æçš„å†…å®¹ã€‚

5
[00:04:43,980 --&gt; 00:05:00,120]
è¦æœ‰è¾¨åˆ«åŠ›ã€‚é€‰æ‹©å®ƒï¼Œå› ä¸ºæ‚¨æƒ³è¦å®ƒã€‚å› ä¸ºä½ æƒ³åšæ‰€ä»¥å»åšã€‚

6
[00:04:52,819 --&gt; 00:05:23,519]
æˆ‘ä»¬ä¼šçŠ¯é”™è¯¯ã€‚ä½ å¿…é¡»æ‹¥æœ‰å®ƒä»¬ã€‚é‚£ä½ å°±å¾—å»å¼¥è¡¥ã€‚ç„¶åä½ å¿…é¡»ç»§ç»­å‰è¿›ã€‚å†…ç–šå’Œæ‚”æ¨ä¼šæå‰æ€æ­»è®¸å¤šäººã€‚æ‰€ä»¥ç¿»é¡µå§ã€‚ä¸‹è½¦å§ã€‚ä½ æ˜¯ä½ ç”Ÿå‘½ä¹‹ä¹¦çš„ä½œè€…ã€‚
è°¢è°¢ã€‚
</pre></div>


<p>å¯¹åº”çš„å®Œæ•´ä»£ç å¯ä»¥å‚è§<a href="https://github.com/walterfan/video_to_text/blob/master/video_to_text.py">https://github.com/walterfan/video_to_text/blob/master/video_to_text.py</a> ã€‚</p>
<h3 id="_5">å°æŠ€å·§</h3>
<p>å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªå°æŠ€å·§:</p>
<ul>
<li>ä½ å¯ä»¥ä»YouTubeæˆ–å…¶ä»–ç½‘ç«™ä¸Šä¸‹è½½ä»»ä½•ä½ æƒ³è¦çš„è§†é¢‘ï¼Œç„¶åç”¨è¿™ä¸ªè„šæœ¬æ¥åˆ¶ä½œå­—å¹•å“¦ã€‚</li>
</ul>
<p>æ¯”å¦‚è¯´ï¼Œä½ å¯ä»¥ç”¨<a href="https://cobalt.tools/">https://cobalt.tools/</a> è¿™ä¸ªç½‘ç«™æ¥ä¸‹è½½è§†é¢‘ã€‚</p>
<ul>
<li>ä¸‹è½½å¥½ä¹‹åå‘¢ï¼Œè¿˜å¯ä»¥å¯¹è§†é¢‘è¿›è¡Œä¸€äº›å¤„ç†ã€‚æ¯”å¦‚è¯´ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è£å‰ªè§†é¢‘</li>
</ul>
<div class="highlight"><pre><span></span>ffmpeg<span class="w"> </span>-i<span class="w"> </span>input.mp4<span class="w"> </span>-ss<span class="w"> </span><span class="m">00</span>:00:07<span class="w"> </span>-c:v<span class="w"> </span>copy<span class="w"> </span>-c:a<span class="w"> </span>copy<span class="w"> </span>output_trimmed.mp4
</pre></div>


<ul>
<li>æˆ–è€…ç”¨å¦‚ä¸‹å‘½ä»¤æ¥è½¬æ¢è§†é¢‘çš„å°ºå¯¸å’Œç ç‡</li>
</ul>
<div class="highlight"><pre><span></span>ffmpeg<span class="w"> </span>-i<span class="w"> </span>output_trimmed.mp4<span class="w"> </span>-vf<span class="w"> </span><span class="nv">scale</span><span class="o">=</span><span class="m">320</span>:180<span class="w"> </span>-c:v<span class="w"> </span>libx264<span class="w"> </span>-preset<span class="w"> </span>fast<span class="w"> </span>-crf<span class="w"> </span><span class="m">23</span><span class="w"> </span>-c:a<span class="w"> </span>aac<span class="w"> </span>-b:a<span class="w"> </span>192k<span class="w"> </span>output_180p.mp4
</pre></div>


<p>å…·ä½“çš„ä»£ç å¯ä»¥å‚è§<a href="https://github.com/walterfan/video_to_text/blob/master/video_to_text.py">https://github.com/walterfan/video_to_text/blob/master/video_to_text.py</a> </p>
<hr>
<p>å¸Œæœ›ä»¥ä¸Šå†…å®¹ä½ èƒ½å–œæ¬¢ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹, å¹¶å›é¦ˆåˆ°ä»£ç åº“ <a href="https://github.com/walterfan/video_to_text">https://github.com/walterfan/video_to_text</a>, è®©æ›´å¤šäººå—ç›Šã€‚å¦‚æœä½ è¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œæ¬¢è¿éšæ—¶é—®æˆ‘, æˆ‘ä¼šå°½åŠ›å›ç­”ã€‚</p>
<p><hr/>
æœ¬ä½œå“é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/ai.html">ai</a>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./jmpp-rang-xmpp-xie-yi-lao-shu-kai-xin-hua.html" title="JMPP è®© XMPP åè®®è€æ ‘å¼€æ–°èŠ±">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./ru-he-zheng-ming-ni-shi-ni-spifee.html" title="å¦‚ä½•è¯æ˜ä½ æ˜¯ä½  - SPIFEE">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./vibe-bian-cheng-de-xin-fan-shi-zai-ai-shi-dai-zhong-xin-ding-yi-ruan-jian-kai-fa.html">Vibe ç¼–ç¨‹çš„æ–°èŒƒå¼ï¼šåœ¨ AI æ—¶ä»£é‡æ–°å®šä¹‰è½¯ä»¶å¼€å‘</a></li>
      <li><a href="./yong-min-jie-kai-fa-de-si-wei-gou-jian-ai-zeng-qiang-de-xun-huan-xi-tong.html">ç”¨æ•æ·å¼€å‘çš„æ€ç»´æ„å»º AI å¢å¼ºçš„å¾ªç¯ç³»ç»Ÿ</a></li>
      <li><a href="./vibe-coding-shi-zhan-shou-ba-shou-jiao-ni-xie-ge-chuan-yi-zhu-shou-fu-ai-jin-jie-ban.html">ğŸ’¡ Vibe Coding å®æˆ˜ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ å†™ä¸ªâ€œç©¿è¡£åŠ©æ‰‹â€ (é™„ AI è¿›é˜¶ç‰ˆ)</a></li>
      <li><a href="./cheng-xu-yuan-hui-bu-hui-bei-ai-qu-dai.html">ç¨‹åºå‘˜ä¼šä¸ä¼šè¢« AI å–ä»£</a></li>
      <li><a href="./tips-for-vibe-coding-with-cursor-bie-rang-ai-cai-ni-de-xin-si.html">Tips for Vibe Coding with Cursor: åˆ«è®© AI çŒœä½ çš„å¿ƒæ€</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>