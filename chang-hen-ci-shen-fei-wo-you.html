
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Daily minute" />
<meta name="keywords" content="journal, blog">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="长恨此身非我有"/>
  <meta property="og:description" content="Daily minute"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./chang-hen-ci-shen-fei-wo-you.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2024-05-26 10:20:00+08:00"/>
  <meta property="article:modified_time" content="2024-05-26 19:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="journal"/>
  <meta property="article:tag" content="blog"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; 长恨此身非我有</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>手握灵珠常奋笔, 心开天籁不吹箫</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="/pims" >tao</a>
          </li>
          <li>
            <a target="_self" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_self" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_self" href="https://github.com/walterfan" >github</a>
          </li>
          <li>
            <a target="_self" href="https://www.jianshu.com/u/e0b365801f48" >技术文章</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-weibo"
           href="http://weibo.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-weibo"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="chang-hen-ci-shen-fei-wo-you">长恨此身非我有</h1>
    <p>
      Posted on Sun 26 May 2024 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>长恨此身非我有</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com" referrerpolicy="no-referrer" rel="noopener noreferrer" target="_blank" title="Walter Fan">Walter Fan</a></td>
</tr>
<tr>
<td> <strong>Category</strong>  </td>
<td> learning note  </td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2024-05-26</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0" referrerpolicy="no-referrer" rel="noopener noreferrer" target="_blank" title="CC-BY-NC-ND 4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<p>我的偶像苏东坡写过一首词 - 临江仙</p>
<blockquote>
<p>夜饮东坡醒复醉，归来仿佛三更。家童鼻息已雷鸣。敲门都不应，倚杖听江声。
长恨此身非我有，何时忘却营营。夜阑风静縠纹平。小舟从此逝，江海寄余生。</p>
</blockquote>
<p>张爱玲在《半生缘》里写道：“中年以后的男人，时常会觉得孤独，因为他一睁开眼睛，周围都是要依靠他的人，却没有他可以依靠的人。
这句话， 我不是太认同， 依靠其实是互相的， 有人需要依靠你， 是一种幸福， 你在生活和情感上也在依靠他们。</p>
<p>此身非我有， 这是一种常态， 你不能只为你自己活着， 你得为家人拼搏, 为了生活, 你不能随心所欲, 你不能随便讲话, 你不能针砭时弊, 你不能得罪他人, 你不能放松学习, 你不能... 你只能在自己的博客上发发牢骚.</p>
<p>人生就是这样, 不如意之事十之八九, 就象罗曼罗兰说的, 认清生活的真相, 依然热爱生活, 才是真正的英雄.</p>
<h2 id="tips">tips</h2>
<h3 id="_1">预测机与分类器</h3>
<p>预测机（Predictor）和分类器（Classifier）是机器学习领域中的两种常见模型，它们用于处理不同类型的预测问题。</p>
<ol>
<li><strong>预测机</strong>：</li>
<li>预测机是一种用于预测连续值输出的模型。换句话说，它预测的是一个数值范围，而不是一个具体的类别。</li>
<li>预测机通常用于回归问题（Regression Problems），例如房价预测、股票价格预测、温度预测等。</li>
<li>
<p>常见的预测机算法包括线性回归（Linear Regression）、支持向量回归（Support Vector Regression, SVR）、决策树回归（Decision Tree Regression）等。</p>
</li>
<li>
<p><strong>分类器</strong>：</p>
</li>
<li>分类器是一种用于预测离散值输出的模型。它预测的是数据属于哪个类别或标签。</li>
<li>分类器通常用于分类问题（Classification Problems），例如垃圾邮件检测、疾病诊断、图像识别等。</li>
<li>常见的分类器算法包括逻辑回归（Logistic Regression）、决策树（Decision Trees）、随机森林（Random Forests）、支持向量机（Support Vector Machines, SVM）、神经网络（Neural Networks）等。</li>
</ol>
<p>两者的主要区别在于预测的目标类型不同：预测机预测连续值，而分类器预测离散值。在实际应用中，选择哪种模型取决于问题的性质和数据的特点。</p>
<h3 id="sigmoid">sigmoid 函数的妙用</h3>
<p>Sigmoid 函数是一种数学函数，它在机器学习和深度学习中非常有用，尤其是在二分类问题中。Sigmoid 函数的数学表达式如下：</p>
<p>[
\sigma(x) = \frac{1}{1 + e^{-x}}
]</p>
<p>其中 ( x ) 是输入值，( e ) 是自然对数的底数（约等于 2.71828），而 ( \sigma(x) ) 是输出值。</p>
<p>Sigmoid 函数有以下特点：</p>
<ol>
<li>
<p><strong>输出范围</strong>：Sigmoid 函数的输出值介于 0 和 1 之间，这使得它非常适合用作二分类问题中的激活函数，因为它可以输出一个概率值，表示某个类别的可能性。</p>
</li>
<li>
<p><strong>平滑曲线</strong>：Sigmoid 函数是一个连续且平滑的曲线，它在 ( x ) 接近正无穷时趋近于 1，在 ( x ) 接近负无穷时趋近于 0。</p>
</li>
<li>
<p><strong>非线性</strong>：Sigmoid 函数是一个非线性函数，这使得它能够处理非线性问题。</p>
</li>
<li>
<p><strong>中心对称</strong>：Sigmoid 函数关于 ( x = 0 ) 对称，这意味着正的和负的输入值在函数图像上是对称的。</p>
</li>
<li>
<p><strong>梯度消失问题</strong>：Sigmoid 函数在输入值非常大或非常小的时候，梯度接近于 0，这会导致在反向传播过程中的梯度消失问题，使得训练深度神经网络时难以学习。</p>
</li>
</ol>
<p>尽管 Sigmoid 函数在某些情况下非常有用，但在现代深度学习中，ReLU（Rectified Linear Unit）及其变体由于其计算效率和避免梯度消失问题的特性，更常被用作隐藏层的激活函数。然而，Sigmoid 函数仍然广泛用于输出层，特别是在二分类问题中，因为它能够输出一个介于 0 和 1 之间的值，可以解释为概率。</p>
<h2 id="notes">notes</h2>
<p>Go语言的赋值、分支和循环语句是编程中的基本组成部分。下面是这些语句的基本语法和用法：</p>
<h3 id="_2">赋值语句</h3>
<p>在Go语言中，赋值语句使用<code>=</code>运算符。它将右侧表达式的值赋给左侧的变量。Go语言支持并行赋值，即一次可以给多个变量赋值。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 单变量赋值</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="kt">int</span>
<span class="nx">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">10</span>

<span class="c1">// 并行赋值</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="kt">int</span>
<span class="nx">a</span><span class="p">,</span><span class="w"> </span><span class="nx">b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>

<h3 id="_3">分支语句</h3>
<p>Go语言的分支语句主要包括<code>if</code>和<code>switch</code>。</p>
<h4 id="if">if 语句</h4>
<p><code>if</code>语句用于基于条件执行代码块。</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;x is greater than 10&quot;</span><span class="p">)</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;x is less than or equal to 10&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p><code>if</code>语句也可以与简短的初始化语句结合使用。</p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">computeX</span><span class="p">();</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">&gt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;x is greater than 10&quot;</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="switch">switch 语句</h4>
<p><code>switch</code>语句是一种多路选择结构，类似于其他语言的<code>switch</code>或<code>case</code>语句。</p>
<div class="highlight"><pre><span></span><code><span class="k">switch</span><span class="w"> </span><span class="nx">os</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nx">runtime</span><span class="p">.</span><span class="nx">GOOS</span><span class="p">;</span><span class="w"> </span><span class="nx">os</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;darwin&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;OS X.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="s">&quot;linux&quot;</span><span class="p">:</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Linux.&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">default</span><span class="p">:</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;%s.\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">os</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="_4">循环语句</h3>
<p>Go语言的循环语句主要包括<code>for</code>循环。</p>
<h4 id="for">for 循环</h4>
<p>Go语言中的<code>for</code>循环是最常用的循环结构，可以用于迭代数组、切片、映射、通道等。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 传统for循环</span>
<span class="k">for</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 无限循环</span>
<span class="k">for</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;无限循环&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// 基于范围的for循环</span>
<span class="nx">arr</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">}</span>
<span class="k">for</span><span class="w"> </span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">value</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="k">range</span><span class="w"> </span><span class="nx">arr</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>Go语言没有<code>while</code>循环，但可以使用<code>for</code>循环来实现相同的功能。</p>
<div class="highlight"><pre><span></span><code><span class="c1">// 相当于while循环</span>
<span class="k">for</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="p">&lt;</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 执行代码</span>
<span class="w">    </span><span class="nx">x</span><span class="o">++</span>
<span class="p">}</span>
</code></pre></div>

<p>写一个简单的 REST API service</p>
<div class="highlight"><pre><span></span><code>package main

import (
    &quot;encoding/json&quot;
    &quot;fmt&quot;
    &quot;log&quot;
    &quot;net/http&quot;
    &quot;strconv&quot;
)

// User 结构体定义了用户的数据结构
type User struct {
    ID   int    `json:&quot;id&quot;`
    Name string `json:&quot;name&quot;`
}

// users 模拟数据库存储用户信息
var users = []User{}

// getUsers 处理GET请求，列出所有用户
func getUsers(w http.ResponseWriter, r *http.Request) {
    w.Header().Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
    json.NewEncoder(w).Encode(users)
}

// getUser 处理GET请求，根据ID获取单个用户
func getUser(w http.ResponseWriter, r *http.Request) {
    id, _ := strconv.Atoi((r.URL).Query().Get(&quot;:id&quot;))
    for _, user := range users {
        if user.ID == id {
            json.NewEncoder(w).Encode(user)
            return
        }
    }
    w.WriteHeader(http.StatusNotFound)
    fmt.Fprintf(w, &quot;用户ID %d 不存在\n&quot;, id)
}

// createUser 处理POST请求，创建新用户
func createUser(w http.ResponseWriter, r *http.Request) {
    var user User
    json.NewDecoder(r.Body).Decode(&amp;user)
    users = append(users, user)
    w.Header().Set(&quot;Content-Type&quot;, &quot;application/json&quot;)
    json.NewEncoder(w).Encode(user)
}

// updateUser 处理PUT请求，更新用户信息
func updateUser(w http.ResponseWriter, r *http.Request) {
    id, _ := strconv.Atoi((r.URL).Query().Get(&quot;:id&quot;))
    var user User
    json.NewDecoder(r.Body).Decode(&amp;user)

    for i, u := range users {
        if u.ID == id {
            users[i] = user
            json.NewEncoder(w).Encode(user)
            return
        }
    }
    w.WriteHeader(http.StatusNotFound)
    fmt.Fprintf(w, &quot;用户ID %d 不存在\n&quot;, id)
}

// deleteUser 处理DELETE请求，删除用户
func deleteUser(w http.ResponseWriter, r *http.Request) {
    id, _ := strconv.Atoi((r.URL).Query().Get(&quot;:id&quot;))

    for i, u := range users {
        if u.ID == id {
            users = append(users[:i], users[i+1:]...)
            w.WriteHeader(http.StatusOK)
            fmt.Fprintf(w, &quot;用户ID %d 删除成功\n&quot;, id)
            return
        }
    }
    w.WriteHeader(http.StatusNotFound)
    fmt.Fprintf(w, &quot;用户ID %d 不存在\n&quot;, id)
}

func main() {
    http.HandleFunc(&quot;/users&quot;, getUsers)
    http.HandleFunc(&quot;/users/:id&quot;, getUser)
    http.HandleFunc(&quot;/users&quot;, createUser)
    http.HandleFunc(&quot;/users/:id&quot;, updateUser)
    http.HandleFunc(&quot;/users/:id&quot;, deleteUser)

    port := &quot;8080&quot;
    log.Printf(&quot;服务器正在监听端口: %s&quot;, port)
    log.Fatal(http.ListenAndServe(&quot;:&quot;+port, nil))
}
</code></pre></div>

<hr/>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/" referrerpolicy="no-referrer" rel="noopener noreferrer" target="_blank" title="知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/journal.html">journal</a>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./shu-mei-pai-shang-de-yu-yin-shi-bie-yi.html" title="树莓派上的语音识别一">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./bian-ma-zhuan-huan-zhu-shou.html" title="编码转换助手">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./shi-yao-shi-pkce.html">什么是 PKCE</a></li>
      <li><a href="./open-source-community-maturity.html">open source community maturity</a></li>
      <li><a href="./mop-yu-qing-dan-ge-ming.html">MoP 与清单革命</a></li>
      <li><a href="./yong-di-yi-xing-yuan-li-zuo-hao-zi-ji.html">用第一性原理做好自己</a></li>
      <li><a href="./gao-dong-oauth-huan-de-yong-dai-ma-shuo-hua.html">搞懂 OAuth 还得用代码说话</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备20001876号-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>