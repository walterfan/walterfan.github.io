
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Claude Code 是 Anthropic 推出的命令行 AI 编程工具，但按 Token 收费的模式让很多开发者&#34;又爱又恨&#34;。本文从基础用法到成本控制，用幽默风趣的方式教你如何高效使用 Claude Code，既提高效率又控制成本。" />
<meta name="keywords" content="AI, Claude Code, Cost Control, Development Tools, Best Practices">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="Claude Code 使用技巧与成本控制指南"/>
  <meta property="og:description" content="Claude Code 是 Anthropic 推出的命令行 AI 编程工具，但按 Token 收费的模式让很多开发者&#34;又爱又恨&#34;。本文从基础用法到成本控制，用幽默风趣的方式教你如何高效使用 Claude Code，既提高效率又控制成本。"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./claude-code-shi-yong-ji-qiao-yu-cheng-ben-kong-zhi-zhi-nan.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-01-22 10:00:00+08:00"/>
  <meta property="article:modified_time" content="2026-01-22 12:00:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="AI"/>
  <meta property="article:tag" content="AI"/>
  <meta property="article:tag" content="Claude Code"/>
  <meta property="article:tag" content="Cost Control"/>
  <meta property="article:tag" content="Development Tools"/>
  <meta property="article:tag" content="Best Practices"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; Claude Code 使用技巧与成本控制指南</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>手握灵珠常奋笔, 心开天籁不吹箫</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="claude-code-shi-yong-ji-qiao-yu-cheng-ben-kong-zhi-zhi-nan">Claude Code 使用技巧与成本控制指南</h1>
    <p>
      Posted on Thu 22 January 2026 in <a href="./category/ai.html">AI</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>Claude Code 使用技巧与成本控制指南</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td><strong>Category</strong></td>
<td>AI 工具</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2026-01-22</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<hr>
<h1 id="claude-code">Claude Code 使用技巧与成本控制指南</h1>
<blockquote>
<p>"用 AI 写代码就像雇了一个永远不睡觉的实习生，但问题是，这个实习生是按字数收费的。"
—— 一个被账单吓到的程序员</p>
</blockquote>
<hr>
<h2 id="claude-code_1">开篇：Claude Code 是什么？</h2>
<p>想象一下，你有一个超级聪明的编程助手，它不仅能理解你的代码，还能：
- 📝 帮你重构代码
- 🐛 找出并修复 bug
- 📚 解释复杂的代码逻辑
- 🎨 生成测试用例
- 🔧 优化性能瓶颈</p>
<p>而且，这个助手就在你的终端里，随时待命。这就是 <strong>Claude Code</strong>。</p>
<h3 id="claude-code_2">什么是 Claude Code？</h3>
<p>Claude Code 是 Anthropic 推出的<strong>命令行工具</strong>，专门用于"代理式编码"（Agentic Coding）。简单说，它让 Claude AI 直接接入你的开发环境，可以：</p>
<ul>
<li>✅ 读取你的代码库</li>
<li>✅ 执行终端命令</li>
<li>✅ 修改文件</li>
<li>✅ 运行测试</li>
<li>✅ 理解项目上下文</li>
</ul>
<p><strong>关键点</strong>：它不是在网页上聊天，而是真正在你的本地环境中工作，就像你身边坐着一个超级程序员。</p>
<h3 id="_1">基本用法：从安装到第一次对话</h3>
<h4 id="1">1. 安装与配置</h4>
<p>首先，你需要：
- Node.js 18+（4GB RAM 起步，不过现在谁还没个 16GB？）
- Anthropic API 密钥（这个需要申请，后面会讲成本控制）</p>
<p>安装后，配置 API 密钥，然后就可以开始了。</p>
<h4 id="2">2. 启动对话</h4>
<p>最简单的用法：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 启动交互式会话</span>
claude

<span class="c1"># 或者直接给一个初始提示</span>
claude<span class="w"> </span><span class="s2">&quot;解释一下这个项目的架构&quot;</span>
</code></pre></div>

<p>就像打开一个聊天窗口，只不过这个窗口在终端里，而且能直接操作你的代码。</p>
<h4 id="3">3. 常用命令</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 非交互式查询（问完就走）</span>
claude<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;这个函数有什么问题？&quot;</span>

<span class="c1"># 继续之前的对话</span>
claude<span class="w"> </span>-c

<span class="c1"># 恢复特定会话</span>
claude<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;session-name&quot;</span>
</code></pre></div>

<h4 id="4-claudemd">4. 核心功能：CLAUDE.md 文件</h4>
<p>这是 Claude Code 的"记忆系统"。在项目根目录创建一个 <code>CLAUDE.md</code> 文件，Claude 会自动读取它来理解你的项目：</p>
<div class="highlight"><pre><span></span><code><span class="gh"># 项目说明</span>

这是一个微服务项目，使用 Go 语言开发。

<span class="gu">## 代码风格</span>
<span class="k">-</span><span class="w"> </span>使用 gofmt 格式化
<span class="k">-</span><span class="w"> </span>遵循 Go 官方代码规范

<span class="gu">## 测试</span>
<span class="k">-</span><span class="w"> </span>运行测试：go test ./...
<span class="k">-</span><span class="w"> </span>覆盖率要求：&gt;80%

<span class="gu">## 架构</span>
<span class="k">-</span><span class="w"> </span>服务间通过 gRPC 通信
<span class="k">-</span><span class="w"> </span>使用 Redis 做缓存
</code></pre></div>

<p>这样，每次对话时，Claude 都知道你的项目背景，不用每次都重新解释。</p>
<h3 id="_2">典型使用场景</h3>
<h4 id="1_1">场景 1：代码重构</h4>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span><span class="s2">&quot;重构这个函数，让它更易读，并添加错误处理&quot;</span>
</code></pre></div>

<p>Claude 会：
1. 读取相关文件
2. 分析代码结构
3. 提出改进方案
4. 直接修改代码（需要你确认）</p>
<h4 id="2bug">场景 2：Bug 调试</h4>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span><span class="s2">&quot;这个测试为什么失败了？帮我找出原因&quot;</span>
</code></pre></div>

<p>Claude 会：
1. 查看测试代码
2. 运行相关命令
3. 分析错误日志
4. 定位问题并修复</p>
<h4 id="3_1">场景 3：代码解释</h4>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span><span class="s2">&quot;解释一下这个复杂的算法是怎么工作的&quot;</span>
</code></pre></div>

<p>Claude 会：
1. 读取代码
2. 分析逻辑
3. 用通俗易懂的语言解释
4. 可能还会画个流程图（如果支持）</p>
<h4 id="4">场景 4：生成测试</h4>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span><span class="s2">&quot;为这个函数生成完整的单元测试，覆盖边界情况&quot;</span>
</code></pre></div>

<hr>
<h2 id="claude-skills">Claude Skills：把常用操作变成"快捷键"</h2>
<h3 id="skills">什么是 Skills？</h3>
<p>Skills 是 Claude Code 的<strong>斜杠命令系统</strong>（Slash Commands），类似于 Cursor 的 Commands。简单说，它把常用的工作流封装成 <code>/command</code> 这样的快捷命令。</p>
<p><strong>类比</strong>：就像给 Claude 装了一个"快捷键面板"，不用每次都重新解释"我要做什么、怎么做"。</p>
<h3 id="skills_1">为什么需要 Skills？</h3>
<p>想象一下这个场景：</p>
<p><strong>没有 Skills</strong>：</p>
<div class="highlight"><pre><span></span><code>你：&quot;帮我创建一个 Git commit，消息要符合 Conventional Commits 规范，包含这次修改的所有文件&quot;
Claude：&quot;好的，让我先看看有哪些文件被修改了...&quot;
[Claude 执行 git status]
[Claude 分析变更]
[Claude 生成 commit 消息]
[Claude 执行 git commit]
</code></pre></div>

<p>每次都要说一遍完整的流程，累不累？</p>
<p><strong>有 Skills</strong>：</p>
<div class="highlight"><pre><span></span><code>你：/commit
Claude：[自动执行完整流程]
</code></pre></div>

<p>一行命令搞定，而且可以重复使用。</p>
<h3 id="skills_2">内置 Skills：开箱即用的工具</h3>
<p>Claude Code 内置了很多实用的 Skills，分为几个类别：</p>
<h4 id="skills_3">🔧 核心工作流 Skills</h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/init</code></td>
<td>初始化 CLAUDE.md</td>
<td>新项目开始时</td>
</tr>
<tr>
<td><code>/help</code></td>
<td>显示可用命令</td>
<td>忘记命令时</td>
</tr>
<tr>
<td><code>/clear</code></td>
<td>清除对话上下文</td>
<td>切换话题时</td>
</tr>
<tr>
<td><code>/config</code></td>
<td>查看/编辑配置</td>
<td>修改设置时</td>
</tr>
<tr>
<td><code>/permissions</code></td>
<td>管理工具权限</td>
<td>控制 Claude 能做什么</td>
</tr>
<tr>
<td><code>/doctor</code></td>
<td>诊断问题</td>
<td>遇到问题时</td>
</tr>
</tbody>
</table>
<h4 id="skills_4">💻 开发相关 Skills</h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/commit</code></td>
<td>创建 Git commit</td>
<td>提交代码时</td>
</tr>
<tr>
<td><code>/review</code></td>
<td>审查当前变更</td>
<td>代码审查前</td>
</tr>
<tr>
<td><code>/test</code></td>
<td>运行测试并分析</td>
<td>测试代码时</td>
</tr>
<tr>
<td><code>/build</code></td>
<td>构建项目并检查错误</td>
<td>构建项目时</td>
</tr>
<tr>
<td><code>/lint</code></td>
<td>运行 linting 并修复问题</td>
<td>代码检查时</td>
</tr>
</tbody>
</table>
<h4 id="skills_5">🧠 内存管理 Skills</h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>使用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/memory-save</code></td>
<td>保存知识到内存</td>
<td>想记住某个知识点</td>
</tr>
<tr>
<td><code>/memory-search</code></td>
<td>搜索已保存的知识</td>
<td>查找之前的知识</td>
</tr>
<tr>
<td><code>/memory-list</code></td>
<td>列出所有已保存实体</td>
<td>查看记忆库</td>
</tr>
<tr>
<td><code>/memory-audit</code></td>
<td>检查内存健康</td>
<td>维护记忆系统</td>
</tr>
</tbody>
</table>
<h3 id="skills_6">如何使用 Skills？</h3>
<h4 id="_3">基本用法</h4>
<div class="highlight"><pre><span></span><code><span class="c1"># 直接使用命令</span>
/commit

<span class="c1"># 带参数使用</span>
/commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;feat: add user authentication&quot;</span>

<span class="c1"># 查看帮助</span>
/help<span class="w"> </span>commit
</code></pre></div>

<h4 id="_4">链式使用</h4>
<p>Skills 可以链式组合，就像 Unix 管道：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 先 lint，再测试，最后 commit</span>
/lint<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>/test<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>/commit
</code></pre></div>

<h3 id="skills_7">创建自定义 Skills：打造你的"专属工具集"</h3>
<h4 id="skills_8">为什么需要自定义 Skills？</h4>
<p>内置 Skills 虽然好用，但每个团队、每个项目都有自己的工作流。自定义 Skills 让你可以：</p>
<ul>
<li>✅ 封装团队特定的工作流</li>
<li>✅ 标准化常用操作</li>
<li>✅ 减少重复的提示词（省钱！）</li>
<li>✅ 提高团队协作效率</li>
</ul>
<h4 id="skill">如何创建自定义 Skill？</h4>
<p>Skills 可以定义在两个位置：
- <strong>项目级</strong>：<code>.claude/skills/</code>（只对当前项目有效）
- <strong>全局级</strong>：<code>~/.claude/skills/</code>（对所有项目有效）</p>
<p>每个 Skill 是一个 Markdown 文件。</p>
<p><strong>步骤 1：创建 Skill 文件</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 项目级（推荐，可以提交到 Git）</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>.claude/skills
touch<span class="w"> </span>.claude/skills/my-skill.md

<span class="c1"># 或全局级（个人偏好，不提交到 Git）</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.claude/skills
touch<span class="w"> </span>~/.claude/skills/my-skill.md
</code></pre></div>

<p><strong>建议</strong>：团队共享的 Skills 放在项目级，个人偏好的 Skills 放在全局级。</p>
<p><strong>步骤 2：定义 Skill</strong></p>
<p>每个 Skill 文件包含两部分：
1. <strong>YAML 前置元数据</strong>：定义 Skill 的名称、描述、触发命令
2. <strong>Markdown 指令</strong>：告诉 Claude 执行这个 Skill 时做什么</p>
<p><strong>示例：创建一个"代码审查" Skill</strong></p>
<div class="highlight"><pre><span></span><code>---
name: code-review
description: 执行全面的代码审查，检查安全性、性能和可维护性
<span class="gu">trigger: /review-code</span>
<span class="gu">---</span>

<span class="gh"># Code Review Skill</span>

<span class="gu">## When to use</span>
当用户需要审查代码时，执行此 Skill。

<span class="gu">## Steps</span>
<span class="k">1.</span> 读取当前修改的文件（使用 git diff）
<span class="k">2.</span> 检查以下方面：
<span class="w">   </span><span class="k">-</span><span class="w"> </span>安全性问题（SQL 注入、XSS、敏感信息泄露）
<span class="w">   </span><span class="k">-</span><span class="w"> </span>性能瓶颈（N+1 查询、未优化的循环）
<span class="w">   </span><span class="k">-</span><span class="w"> </span>代码质量（可读性、可维护性、测试覆盖率）
<span class="w">   </span><span class="k">-</span><span class="w"> </span>代码风格（是否符合项目规范）
<span class="k">3.</span> 生成详细的审查报告，包括：
<span class="w">   </span><span class="k">-</span><span class="w"> </span>发现的问题（按优先级排序）
<span class="w">   </span><span class="k">-</span><span class="w"> </span>改进建议（带代码示例）
<span class="w">   </span><span class="k">-</span><span class="w"> </span>潜在风险
<span class="k">4.</span> 如果发现问题，询问用户是否要修复

<span class="gu">## Output format</span>
<span class="k">-</span><span class="w"> </span>使用 Markdown 格式
<span class="k">-</span><span class="w"> </span>问题用 🔴 高优先级、🟡 中优先级、🟢 低优先级标记
<span class="k">-</span><span class="w"> </span>每个问题包含：描述、位置、建议、代码示例
</code></pre></div>

<p><strong>步骤 3：使用自定义 Skill</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 在 Claude Code 中直接使用</span>
/review-code
</code></pre></div>

<p>Claude 会自动读取 <code>.claude/skills/review-code.md</code>（或对应的文件名），并按照指令执行。</p>
<h4 id="skill_1">高级技巧：Skill 参数</h4>
<p>Skills 可以接受参数，让它们更灵活：</p>
<div class="highlight"><pre><span></span><code>---
name: generate-test
description: 为指定函数生成单元测试
trigger: /test
parameters:
<span class="w">  </span><span class="k">-</span><span class="w"> </span>name: function
    description: 要测试的函数名
    required: true
<span class="w">  </span><span class="k">-</span><span class="w"> </span>name: framework
    description: 测试框架（jest, mocha, pytest）
<span class="gu">    default: jest</span>
<span class="gu">---</span>

<span class="gh"># Generate Test Skill</span>

<span class="gu">## Steps</span>
<span class="k">1.</span> 读取函数 <span class="sb">`{{function}}`</span> 的代码
<span class="k">2.</span> 使用 <span class="sb">`{{framework}}`</span> 框架生成测试
<span class="k">3.</span> 覆盖正常情况、边界情况和错误情况
...
</code></pre></div>

<p>使用：</p>
<div class="highlight"><pre><span></span><code>/test<span class="w"> </span><span class="k">function</span><span class="o">=</span>validateEmail<span class="w"> </span><span class="nv">framework</span><span class="o">=</span>jest
</code></pre></div>

<h4 id="skills_9">实际案例：团队常用的 Skills</h4>
<p><strong>案例 1：API 文档生成 Skill</strong></p>
<div class="highlight"><pre><span></span><code>---
name: api-doc
description: 从代码生成 OpenAPI 规范文档
<span class="gu">trigger: /api-doc</span>
<span class="gu">---</span>

<span class="gh"># API Documentation Generator</span>

<span class="gu">## Steps</span>
<span class="k">1.</span> 扫描 <span class="sb">`src/routes/`</span> 目录下的路由文件
<span class="k">2.</span> 提取路由定义、参数、响应格式
<span class="k">3.</span> 生成符合 OpenAPI 3.0 规范的 YAML 文件
<span class="k">4.</span> 保存到 <span class="sb">`docs/api/openapi.yaml`</span>
</code></pre></div>

<p><strong>案例 2：发布说明生成 Skill</strong></p>
<div class="highlight"><pre><span></span><code>---
name: release-notes
description: 根据 Git 提交历史生成发布说明
trigger: /release-notes
parameters:
<span class="w">  </span><span class="k">-</span><span class="w"> </span>name: version
    description: 版本号
<span class="gu">    required: true</span>
<span class="gu">---</span>

<span class="gh"># Release Notes Generator</span>

<span class="gu">## Steps</span>
<span class="k">1.</span> 获取自上次 tag 以来的所有 commit
<span class="k">2.</span> 按照 Conventional Commits 规范分类（feat, fix, docs, etc.）
<span class="k">3.</span> 生成 Markdown 格式的发布说明
<span class="k">4.</span> 保存到 <span class="sb">`CHANGELOG.md`</span>
</code></pre></div>

<h3 id="skills_10">Skills 的最佳实践</h3>
<h4 id="1-skills">1. 保持 Skills 简洁专注</h4>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="gh"># 一个 Skill 做所有事情</span>
/review-code-and-fix-and-commit-and-deploy
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code><span class="gh"># 每个 Skill 专注一件事</span>
/review-code
/fix-issues
/commit
/deploy
</code></pre></div>

<h4 id="2_1">2. 文档要清晰</h4>
<p>Skills 的文档不仅是给 Claude 看的，也是给团队成员看的。写清楚：
- 什么时候用这个 Skill
- 需要什么前置条件
- 会执行什么操作
- 输出什么结果</p>
<h4 id="3_2">3. 版本控制</h4>
<p>把 <code>.claude/skills/</code> 目录提交到 Git，让团队共享：</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>add<span class="w"> </span>.claude/skills/
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;feat: add code review skill&quot;</span>
</code></pre></div>

<h4 id="4_1">4. 定期维护</h4>
<ul>
<li>删除不再使用的 Skills</li>
<li>更新过时的 Skills</li>
<li>根据反馈优化 Skills</li>
</ul>
<h3 id="skills-vs">Skills vs 普通提示词：什么时候用哪个？</h3>
<table>
<thead>
<tr>
<th>场景</th>
<th>使用 Skills</th>
<th>使用普通提示词</th>
</tr>
</thead>
<tbody>
<tr>
<td>重复性工作流</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td>团队标准化操作</td>
<td>✅</td>
<td>❌</td>
</tr>
<tr>
<td>一次性任务</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>探索性对话</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>需要参数化</td>
<td>✅</td>
<td>❌</td>
</tr>
</tbody>
</table>
<p><strong>经验法则</strong>：如果某个操作你一周要用 3 次以上，就考虑做成 Skill。</p>
<h3 id="skills_11">Skills 的成本优势</h3>
<p>还记得我们说的"成本控制"吗？Skills 其实是个<strong>省钱利器</strong>：</p>
<ol>
<li><strong>减少 Token 使用</strong>：不用每次都重新解释工作流</li>
<li><strong>提高效率</strong>：一行命令 vs 多轮对话</li>
<li><strong>减少错误</strong>：标准化的流程 = 更少的重试</li>
</ol>
<p><strong>计算一下</strong>：
- 普通方式：每次代码审查需要 500 Token 的提示词
- Skills 方式：<code>/review-code</code> 只需要 10 Token（命令本身）
- <strong>节省 98% 的 Token！</strong></p>
<hr>
<h2 id="_5">成本：那个让人又爱又恨的数字</h2>
<h3 id="token">定价模式：按 Token 收费</h3>
<p>Claude Code 采用<strong>基于 Token 的定价模式</strong>。简单理解：</p>
<ul>
<li><strong>Token</strong> ≈ 单词的一部分（中文一个字 ≈ 1-2 个 Token）</li>
<li><strong>输入 Token</strong>：你发送给 Claude 的内容（提示词、代码、上下文）</li>
<li><strong>输出 Token</strong>：Claude 返回给你的内容（回答、代码、解释）</li>
</ul>
<p><strong>典型成本</strong>：正常使用每天 $5-10，重度使用可能超过 $100/小时（是的，你没看错，是每小时）。</p>
<p><strong>最佳实践参考：</strong> <a href="https://www.anthropic.com/engineering/claude-code-best-practices">https://www.anthropic.com/engineering/claude-code-best-practices</a></p>
<hr>
<h2 id="_6">成本驱动因素：哪些操作在"烧钱"？</h2>
<p>就像开车一样，有些操作特别耗油（Token）。以下是"烧钱大户"排行榜：</p>
<h3 id="_7">🥇 冠军：粘贴大型文件</h3>
<p>把整个 <code>node_modules</code> 或者一个 5000 行的文件粘贴进去？恭喜你，账单会很好看。</p>
<p><strong>类比</strong>：就像让 AI 读一本字典来找一个单词。</p>
<h3 id="_8">🥈 亚军：冗长的提示词</h3>
<p>写了一个 500 字的提示词，结果 Claude 只用了 50 字就回答了？你付的是 500 字的钱。</p>
<p><strong>类比</strong>：点外卖时写了个 1000 字的备注，结果店家只看了前 10 个字。</p>
<h3 id="_9">🥉 季军：重复运行大型查询</h3>
<p>同一个问题问 10 遍？每次都要重新分析整个代码库？这就是在"重复付费"。</p>
<p><strong>类比</strong>：每次打车都重新规划路线，而不是记住上次的路线。</p>
<h3 id="_10">其他"烧钱"操作</h3>
<ul>
<li><strong>大型代码库分析</strong>：让 Claude 理解整个 monorepo？准备好钱包</li>
<li><strong>复杂查询</strong>：要求同时分析 20 个文件？每个文件都要 Token</li>
<li><strong>长对话历史</strong>：聊了 100 轮？每轮的历史都要算钱</li>
<li><strong>后台进程</strong>：自动生成摘要、haiku（是的，Claude 还会写俳句）？这些都在默默烧钱</li>
</ul>
<p><strong>总结</strong>：就像手机流量，你用得越多，账单越吓人。关键是<strong>精准使用</strong>，而不是"大力出奇迹"。</p>
<hr>
<h2 id="_11">成本跟踪：别等到账单来了才后悔</h2>
<h3 id="_12">实时监控：就像看手机流量</h3>
<h4 id="1_2">方法 1：会话内追踪（最简单）</h4>
<p>在 Claude Code 会话中直接输入：</p>
<div class="highlight"><pre><span></span><code>/cost
</code></pre></div>

<p>就像查手机流量一样，立即显示当前会话花了多少钱。</p>
<p><strong>建议</strong>：每次重要操作后都查一下，养成习惯。就像开车时偶尔看看油表。</p>
<h4 id="2cli">方法 2：CLI 工具（更详细）</h4>
<p>使用 <code>npx ccusage</code> 工具进行成本估算：</p>
<div class="highlight"><pre><span></span><code>npx<span class="w"> </span>ccusage
</code></pre></div>

<ul>
<li>工具地址：<a href="https://github.com/ryoppippi/ccusage">https://github.com/ryoppippi/ccusage</a></li>
<li>感谢 Jevin Du 提供的工具</li>
</ul>
<h3 id="_13">⚠️ 重要提示：工具会"撒谎"</h3>
<p><strong>ccusage 工具会低估实际使用量</strong>，因为它看不到：
- 隐藏的上下文（Claude 内部处理的 Token）
- 代理步骤（Claude 思考的过程）
- 工具调用（执行命令、读取文件等）
- 重试（失败后重新尝试）
- Anthropic 端的 Token 计算（服务器端的额外处理）</p>
<p><strong>建议</strong>：在 ccusage 显示的值基础上，<strong>额外加 $30</strong> 作为实际成本估算。</p>
<p><strong>类比</strong>：就像外卖平台的"配送费"，你以为只付了 5 块，结果还有"服务费"、"包装费"。</p>
<hr>
<h2 id="14">成本控制技巧：14 招让你省下"一个月的咖啡钱"</h2>
<h3 id="1-ai">💡 技巧 1：精确定义输入范围（别让 AI 猜）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;帮我看看代码有什么问题&quot;
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;检查 src/utils/validator.js 中的 validateEmail 函数，找出可能的边界情况处理问题&quot;
</code></pre></div>

<p><strong>为什么</strong>：模糊的问题会让 Claude 扫描整个代码库，就像让快递员在整栋楼里找你的包裹。</p>
<p><strong>类比</strong>：点菜时说"来点好吃的" vs "来一份宫保鸡丁，微辣"。</p>
<hr>
<h3 id="2-claude">💡 技巧 2：把 Claude 当"高级顾问"，不是"打杂的"</h3>
<p><strong>高价值任务</strong>（值得花钱）：
- ✅ 重构复杂代码
- ✅ 设计算法
- ✅ 解释复杂逻辑
- ✅ 性能优化建议</p>
<p><strong>低价值任务</strong>（不值得花钱）：
- ❌ 格式化代码（用 Prettier）
- ❌ 修复语法错误（用 linter）
- ❌ 简单的查找替换（用编辑器）</p>
<p><strong>类比</strong>：你不会让一个年薪百万的架构师去改缩进，对吧？</p>
<hr>
<h3 id="3-token">💡 技巧 3：限制 Token 使用（能总结就别粘贴）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[粘贴 5000 行的配置文件]
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;这个配置文件定义了 3 个服务的连接信息，使用环境变量注入。帮我检查是否有安全风险。&quot;
</code></pre></div>

<p><strong>为什么</strong>：总结只需要 50 个 Token，粘贴整个文件可能需要 5000 个。</p>
<p><strong>类比</strong>：给朋友讲电影剧情，你不会把整部电影发给他，而是说"这是一个关于...的故事"。</p>
<hr>
<h3 id="4_2">💡 技巧 4：策略性地重用提示词（建立"模板库"）</h3>
<p>把常用的提示词存成模板：</p>
<div class="highlight"><pre><span></span><code><span class="gh"># 代码审查模板</span>
&quot;审查以下代码，重点关注：
<span class="k">1.</span> 安全性问题
<span class="k">2.</span> 性能瓶颈
<span class="k">3.</span> 可维护性
<span class="k">4.</span> 测试覆盖率&quot;
</code></pre></div>

<p><strong>好处</strong>：
- 减少试错成本
- 提高效率
- 保持一致性</p>
<p><strong>类比</strong>：就像写邮件时用签名模板，不用每次都重新写。</p>
<hr>
<h3 id="5">💡 技巧 5：使用文件附件（如果支持）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[把整个文件内容粘贴到对话中]
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[使用文件附件功能]
</code></pre></div>

<p><strong>为什么</strong>：附件可能使用更高效的编码方式，减少 Token 消耗。</p>
<hr>
<h3 id="6">💡 技巧 6：异步协作（别让团队重复付费）</h3>
<p><strong>场景</strong>：团队里 5 个人都想让 Claude 解释同一个 API。</p>
<p><strong>错误做法</strong>：每个人都问一遍（5 倍成本）</p>
<p><strong>正确做法</strong>：第一个人问完后，把结果分享到团队文档或 Slack。</p>
<p><strong>类比</strong>：就像团购，一个人买，大家分享。</p>
<hr>
<h3 id="7">💡 技巧 7：避免长时间交互会话（及时"断舍离"）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[在一个会话中聊了 3 小时，涉及 10 个不同的话题]
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[每个话题开一个新会话，或者及时用 /clear 清理]
</code></pre></div>

<p><strong>为什么</strong>：长会话会累积大量上下文，每次都要重新处理，成本指数级增长。</p>
<p><strong>类比</strong>：就像浏览器标签页，开多了会卡，及时关闭不用的。</p>
<hr>
<h3 id="8-claude">💡 技巧 8：压缩对话（给 Claude 一个"记忆整理术"）</h3>
<p>Claude 默认在上下文超过 95% 容量时自动压缩，但你可以主动控制：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 手动压缩</span>
/compact

<span class="c1"># 带指令的压缩（告诉 Claude 保留什么）</span>
/compact<span class="w"> </span>Focus<span class="w"> </span>on<span class="w"> </span>code<span class="w"> </span>samples<span class="w"> </span>and<span class="w"> </span>API<span class="w"> </span>usage

<span class="c1"># 配置自动压缩</span>
/config
<span class="c1"># 然后导航至 &quot;Auto-compact enabled&quot;</span>
</code></pre></div>

<p><strong>配置示例</strong>：</p>
<p><img alt="压缩配置示例" src="https://file-paa.zoom.us/file/PHKK4wCBQkCCXcY-1X6COw"></p>
<p><strong>类比</strong>：就像整理房间，定期清理不用的东西，保留重要的。</p>
<hr>
<h3 id="9-claude">💡 技巧 9：编写具体查询（别让 Claude "大海捞针"）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;帮我找找代码里的 bug&quot;
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;在 src/api/user.js 的 login 函数中，检查是否有 SQL 注入风险&quot;
</code></pre></div>

<p><strong>为什么</strong>：具体的问题 = 精准的扫描 = 更少的 Token。</p>
<hr>
<h3 id="10">💡 技巧 10：分解复杂任务（一口吃不成胖子）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;重构整个项目，优化性能，添加测试，修复所有 bug&quot;
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code># 第一步
&quot;重构 src/utils/ 目录下的工具函数&quot;

# 第二步（新会话）
&quot;优化 src/api/ 目录下的 API 性能&quot;

# 第三步（新会话）
&quot;为 src/models/ 添加单元测试&quot;
</code></pre></div>

<p><strong>为什么</strong>：大任务 = 大上下文 = 高成本。小任务 = 小上下文 = 低成本。</p>
<p><strong>类比</strong>：就像搬家，你不会一次搬完所有东西，而是分批进行。</p>
<hr>
<h3 id="11">💡 技巧 11：在任务之间清除历史（及时"重启"）</h3>
<div class="highlight"><pre><span></span><code>/clear
</code></pre></div>

<p><strong>什么时候用</strong>：
- 切换话题时
- 开始新任务时
- 发现成本过高时</p>
<p><strong>类比</strong>：就像电脑卡了，重启一下。</p>
<hr>
<h3 id="12">💡 技巧 12：利用提示词缓存（重复使用 = 省钱）</h3>
<p>对于重复的提示词或上下文，缓存可以将输入 Token 成本降低<strong>高达 90%</strong>。</p>
<p><strong>适用场景</strong>：
- 每天都要运行的代码审查
- 定期执行的测试生成
- 重复的代码格式化</p>
<p><strong>类比</strong>：就像浏览器缓存，第二次访问同一个网站会更快。</p>
<hr>
<h3 id="13-claude">💡 技巧 13：直接指定读取文件（别让 Claude "猜"）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;修改登录功能&quot;
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>&quot;读取 src/api/auth.js，修改 login 函数，添加 2FA 支持&quot;
</code></pre></div>

<p><strong>为什么</strong>：明确指定 = 精准操作 = 减少扫描 = 降低成本。</p>
<hr>
<h3 id="14-claude">💡 技巧 14：避免运行输出冗长的命令（在外面跑，别在 Claude 里跑）</h3>
<p><strong>错误示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[在 Claude Code 中运行 `npm install`，输出 10000 行日志]
</code></pre></div>

<p><strong>正确示范</strong>：</p>
<div class="highlight"><pre><span></span><code>[在外部终端运行 `npm install`，然后在 Claude 中只讨论结果]
</code></pre></div>

<p><strong>为什么</strong>：命令输出 = Token = 钱。在外面跑，只把结果告诉 Claude。</p>
<p><strong>类比</strong>：就像你不会把整个编译日志发给同事，而是说"编译成功了"。</p>
<hr>
<h2 id="_14">来自开发者的实战技巧：前辈们的"血泪教训"</h2>
<blockquote>
<p>"与 Claude 合作就像与另一位开发者合作。你如何与另一位开发者讨论一个话题或不同的话题？对于同一话题，你会根据需要提供相关上下文，如果另一位开发者不知道上下文的话。如果你切换话题，你会以某种方式暗示开发者你在讨论其他内容。同样，LLM 需要相关上下文，并需要知道你何时开始询问不同话题和上下文中的其他内容。"</p>
<p>—— Shein Lin Phyo</p>
</blockquote>
<p><strong>核心思想</strong>：别把 Claude 当成"魔法黑盒"，把它当成一个有记忆的同事。你需要：
- 提供上下文（就像向新同事介绍项目）
- 明确话题切换（就像说"现在我们换个话题"）
- 保持对话连贯（就像正常聊天）</p>
<hr>
<h3 id="1-claudemd-claude">🧠 技巧 1：使用 <code>CLAUDE.md</code> 进行内存管理（给 Claude 一个"笔记本"）</h3>
<h4 id="claudemd">什么是 CLAUDE.md？</h4>
<p>这是 Claude 的"记忆系统"。就像给新同事一个项目文档，让他快速了解背景。</p>
<h4 id="_15">如何设置？</h4>
<p><strong>全局设置</strong>（所有项目通用）：
- 位置：<code>~/.claude/CLAUDE.md</code>
- 内容：代码风格、工具偏好、语言习惯
- 例子：
  ```markdown
  # 全局配置</p>
<ul>
<li>使用 Prettier 格式化代码</li>
<li>遵循 Airbnb JavaScript 风格指南</li>
<li>优先使用 TypeScript
  ```</li>
</ul>
<p><strong>项目特定设置</strong>（当前项目）：
- 位置：项目根目录的 <code>CLAUDE.md</code>
- 内容：项目结构、架构、命令、特殊约定
- 例子：
  ```markdown
  # 项目说明</p>
<p>## 架构
  - 前端：React + TypeScript
  - 后端：Node.js + Express
  - 数据库：PostgreSQL</p>
<p>## 常用命令
  - 启动开发：npm run dev
  - 运行测试：npm test
  - 构建：npm run build
  ```</p>
<h4 id="_16">为什么有用？</h4>
<ol>
<li><strong>避免重复解释</strong>：不用每次都说"我们用的是 React"</li>
<li><strong>保持一致性</strong>：Claude 知道你的代码风格</li>
<li><strong>节省 Token</strong>：不用在每次对话中重复背景信息</li>
</ol>
<h4 id="_17">快速添加到内存</h4>
<p>在提示词开头使用 <code>#</code>：</p>
<div class="highlight"><pre><span></span><code># Use Prettier for formatting and follow Airbnb style guide.
帮我重构这个函数
</code></pre></div>

<h4 id="_18">什么时候真正有用？</h4>
<ul>
<li>✅ 长期在同一项目上工作（每天都要解释背景？太浪费了）</li>
<li>✅ 希望获得一致的输出（不想每次都说"用 Prettier"）</li>
<li>✅ 减少来回沟通（直接切入要点）</li>
</ul>
<h4 id="_19">维护建议</h4>
<ul>
<li>🗑️ <strong>定期清理</strong>：删除过时的内容（就像整理文档）</li>
<li>📝 <strong>添加检查点</strong>：重大变化时添加注释（"2025-01-20：迁移到新架构"）</li>
<li>✂️ <strong>保持简洁</strong>：不要转储太多内容（Claude 也会"消化不良"）</li>
</ul>
<p><strong>要点</strong>：内存帮助 Claude 在会话之间保持一致，并减少使用的 Token，从而节省成本——特别是在大型或长期运行的项目上。</p>
<p><strong>参考文档：</strong> <a href="https://docs.anthropic.com/en/docs/claude-code/memory">https://docs.anthropic.com/en/docs/claude-code/memory</a></p>
<hr>
<h3 id="2_2">🧹 技巧 2：及时清理，避免"上下文污染"</h3>
<p><strong>问题</strong>：在一个会话中聊了 10 个不同的话题，结果 Claude 把之前的话题也考虑进去了。</p>
<p><strong>解决</strong>：对于不相关的查询，始终运行 <code>/clear</code> 开始新对话。</p>
<p><strong>什么时候用 <code>/clear</code></strong>：
- 切换项目时
- 切换话题时（从代码审查切换到性能优化）
- 发现 Claude 回答混乱时（可能是上下文太多）</p>
<p><strong>类比</strong>：就像清理浏览器缓存，有时候需要"重新开始"。</p>
<p><strong>进阶技巧</strong>：
- 使用系统或项目级代理（更高级的上下文管理）
- 使用 CLAUDE.md 进行内存管理（持久化记忆）
- 使用 <code>/compact</code>（压缩而不是清除）</p>
<hr>
<h3 id="3-cursor">🎯 技巧 3：与 Cursor 结合使用（"免费 + 付费"组合拳）</h3>
<p><strong>策略</strong>：先用免费工具做准备工作，再用付费工具做核心工作。</p>
<p><strong>Cursor 的优势</strong>：
- 商业订阅附带免费模型
- 适合代码库探索
- 适合内存管理
- 适合简单任务</p>
<p><strong>工作流程</strong>：
1. 用 Cursor 的免费模型探索代码库
2. 用 Cursor 做简单的代码格式化
3. 用 Claude Code 做复杂的重构和优化</p>
<p><strong>类比</strong>：就像先用免费工具做粗加工，再用专业工具做精加工。</p>
<hr>
<h3 id="4-opus">⚠️ 技巧 4：避免使用 Opus 模型（除非你真的需要）</h3>
<p><strong>残酷的事实</strong>：
- Opus 的成本是 Sonnet 的<strong>五倍</strong>
- 99% 的情况下，Opus 和 Sonnet <strong>没有区别</strong>
- 如果你不知道如何利用 Opus，结果可能<strong>更差</strong>，但成本<strong>更高</strong></p>
<p><strong>什么时候用 Opus</strong>：
- 你明确知道 Opus 的某个特性是你需要的
- 你做了基准测试，证明 Opus 确实更好
- 你的预算充足（或者公司报销）</p>
<p><strong>什么时候用 Sonnet</strong>：
- 99% 的情况（默认选择）</p>
<p><strong>类比</strong>：就像买手机，Pro Max 版本确实更好，但如果你只是打电话发微信，标准版就够了。</p>
<p><strong>参考</strong>：<a href="https://writingmate.ai/blog/claude-sonnet-vs-opus">基准测试</a></p>
<hr>
<h2 id="claude-code_3">总结：把 Claude Code 用成"省钱又高效"的工具</h2>
<h3 id="_20">🎯 核心原则</h3>
<ol>
<li><strong>精准使用</strong>：把 Claude 当"高级顾问"，不是"打杂的"</li>
<li><strong>成本意识</strong>：随时监控，及时止损</li>
<li><strong>策略优化</strong>：用免费工具做准备工作，用付费工具做核心工作</li>
<li><strong>记忆管理</strong>：用 CLAUDE.md 建立"持久化记忆"，避免重复解释</li>
</ol>
<h3 id="_21">📊 预期效果</h3>
<p>通过遵循这些最佳实践，你可以：</p>
<ol>
<li><strong>显著降低 Claude Code 使用成本</strong>（可能节省 50-80%）</li>
<li><strong>提高工作效率和响应质量</strong>（精准的问题 = 精准的回答）</li>
<li><strong>更好地管理长期项目</strong>（CLAUDE.md 让上下文持续存在）</li>
<li><strong>在团队中实现一致的使用模式</strong>（共享模板和最佳实践）</li>
</ol>
<h3 id="_22">💡 最后的话</h3>
<p>Claude Code 是一个强大的工具，但需要<strong>明智地使用</strong>。</p>
<ul>
<li>✅ 用于复杂任务：重构、算法设计、代码解释</li>
<li>❌ 不用于简单任务：格式化、语法检查、查找替换</li>
<li>✅ 建立记忆系统：CLAUDE.md</li>
<li>✅ 及时清理：<code>/clear</code> 和 <code>/compact</code></li>
<li>✅ 成本监控：<code>/cost</code> 和 <code>npx ccusage</code></li>
</ul>
<p><strong>记住</strong>：就像任何工具一样，掌握它需要时间和实践。但一旦掌握了，你会发现它不仅能提高效率，还能在控制成本的前提下，让你的开发工作更加轻松。</p>
<p><strong>祝你在 AI 辅助编程的路上，既高效又省钱！</strong> 🚀</p>
<hr>
<h2 id="_23">附录：术语对照表（给新手的小词典）</h2>
<table>
<thead>
<tr>
<th>英文术语</th>
<th>中文翻译</th>
<th>简单解释</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Token</strong></td>
<td>Token（标记）</td>
<td>AI 处理文本的基本单位，类似"字"或"词"</td>
</tr>
<tr>
<td><strong>Prompt</strong></td>
<td>提示词</td>
<td>你给 AI 的指令或问题</td>
</tr>
<tr>
<td><strong>Context</strong></td>
<td>上下文</td>
<td>AI 能"看到"的所有信息（对话历史、代码等）</td>
</tr>
<tr>
<td><strong>Compact</strong></td>
<td>压缩</td>
<td>精简对话历史，保留重要信息</td>
</tr>
<tr>
<td><strong>Memory</strong></td>
<td>内存/记忆</td>
<td>Claude 的持久化记忆系统（CLAUDE.md）</td>
</tr>
<tr>
<td><strong>Auto-compact</strong></td>
<td>自动压缩</td>
<td>当上下文太大时自动压缩</td>
</tr>
<tr>
<td><strong>Cost tracking</strong></td>
<td>成本追踪</td>
<td>监控 Token 使用和费用</td>
</tr>
<tr>
<td><strong>CLI tool</strong></td>
<td>命令行工具</td>
<td>在终端中使用的工具</td>
</tr>
<tr>
<td><strong>Monorepo</strong></td>
<td>单一代码仓库</td>
<td>多个项目放在一个 Git 仓库中</td>
</tr>
<tr>
<td><strong>Skills</strong></td>
<td>技能/命令</td>
<td>可复用的工作流模板，通过 <code>/command</code> 调用</td>
</tr>
<tr>
<td><strong>Slash Commands</strong></td>
<td>斜杠命令</td>
<td>以 <code>/</code> 开头的快捷命令（如 <code>/commit</code>）</td>
</tr>
<tr>
<td><strong>Agentic Coding</strong></td>
<td>代理式编码</td>
<td>AI 作为代理，能够执行命令、修改文件的编码方式</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="_24">快速参考：常用命令速查表</h2>
<h3 id="_25">基础命令</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 启动对话</span>
claude

<span class="c1"># 非交互式查询</span>
claude<span class="w"> </span>-p<span class="w"> </span><span class="s2">&quot;你的问题&quot;</span>

<span class="c1"># 继续之前的对话</span>
claude<span class="w"> </span>-c

<span class="c1"># 恢复特定会话</span>
claude<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;session-name&quot;</span>
</code></pre></div>

<h3 id="skills_12">内置 Skills（斜杠命令）</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 核心工作流</span>
/help<span class="w">          </span><span class="c1"># 显示可用命令</span>
/clear<span class="w">         </span><span class="c1"># 清除对话上下文</span>
/config<span class="w">        </span><span class="c1"># 查看/编辑配置</span>
/permissions<span class="w">   </span><span class="c1"># 管理工具权限</span>
/doctor<span class="w">        </span><span class="c1"># 诊断问题</span>

<span class="c1"># 开发相关</span>
/commit<span class="w">        </span><span class="c1"># 创建 Git commit</span>
/review<span class="w">        </span><span class="c1"># 审查当前变更</span>
/test<span class="w">          </span><span class="c1"># 运行测试并分析</span>
/build<span class="w">         </span><span class="c1"># 构建项目并检查错误</span>
/lint<span class="w">          </span><span class="c1"># 运行 linting 并修复问题</span>

<span class="c1"># 内存管理</span>
/memory-save<span class="w">   </span><span class="c1"># 保存知识到内存</span>
/memory-search<span class="w"> </span><span class="c1"># 搜索已保存的知识</span>
/memory-list<span class="w">   </span><span class="c1"># 列出所有已保存实体</span>
/memory-audit<span class="w">  </span><span class="c1"># 检查内存健康</span>

<span class="c1"># 成本控制</span>
/cost<span class="w">          </span><span class="c1"># 查看当前成本</span>
/compact<span class="w">       </span><span class="c1"># 压缩对话历史</span>
</code></pre></div>

<h3 id="skills_13">自定义 Skills</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 使用自定义 Skill（示例）</span>
/review-code<span class="w">   </span><span class="c1"># 执行代码审查</span>
/api-doc<span class="w">       </span><span class="c1"># 生成 API 文档</span>
/release-notes<span class="w"> </span><span class="c1"># 生成发布说明</span>

<span class="c1"># 查看所有可用 Skills</span>
/help
</code></pre></div>

<hr>
<div class="highlight"><pre><span></span><code>@startmindmap
* Claude Code 使用技巧
** 基础用法
*** 安装与配置
*** CLAUDE.md 项目记忆
*** 交互式对话
** Skills 系统
*** 内置 Skills
*** 自定义 Skills
*** 参数化模板
** 成本控制
*** 按 Token 收费
*** /cost 跟踪
*** 14 个省钱技巧
** 实战技巧
*** 内存管理
*** /clear /compact
*** 与 Cursor 结合
@endmindmap
</code></pre></div>

<p><img alt="Claude Code 思维导图" src="../images/journal_20260122_claude_code_mindmap.png"></p>
<hr>
<p><strong>最后更新</strong>：2026-01-22<br>
<strong>参考文档</strong>：
- <a href="https://www.anthropic.com/engineering/claude-code-best-practices">Claude Code 最佳实践</a>
- <a href="https://docs.anthropic.com/en/docs/claude-code/memory">Claude Code 内存管理</a>
- <a href="https://code.claude.com/docs/en/skills">Claude Code Skills 扩展</a>
- <a href="https://docs.anthropic.com/en/docs/claude-code/cli-reference">Claude Code CLI 参考</a></p>
<hr/>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/ai.html">AI</a>
      <a href="./tag/claude-code.html">Claude Code</a>
      <a href="./tag/cost-control.html">Cost Control</a>
      <a href="./tag/development-tools.html">Development Tools</a>
      <a href="./tag/best-practices.html">Best Practices</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./zhi-chang-gong-ju-xiang-zhi-star-mian-shi-fa.html" title="职场工具箱之 STAR 面试法">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./operator-terraform-dui-chuan-tong-yun-wei-de-gai-bian.html" title="Operator + Terraform 对传统运维的改变">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./agent-skillsgei-ai-zhu-shou-zhuang-shang-ji-neng-bao.html">Agent Skills：给 AI 助手装上"技能包"</a></li>
      <li><a href="./cong-shou-cuo-workflow-dao-langgraphai-liu-cheng-bian-pai-de-liang-chong-lu-jing.html">从手搓 Workflow 到 LangGraph：AI 流程编排的两种路径</a></li>
      <li><a href="./yong-ai-agent-chu-li-fu-za-liu-cheng-xian-xie-workflowzai-xie-prompt.html">用 AI Agent 处理复杂流程：先写 Workflow，再写 Prompt</a></li>
      <li><a href="./ai-fu-zhu-bian-cheng-de-san-da-hu-fa-ke-yan-zheng-xing-ke-guan-ce-xing-ke-li-jie-xing.html">AI 辅助编程的三大护法：可验证性、可观测性、可理解性</a></li>
      <li><a href="./prompt-as-codedang-prompt-bu-zhi-shi-hua-er-shi-ke-zhi-xing-de-cheng-xu.html">Prompt-as-Code：当 Prompt 不只是"话"，而是可执行的"程序"</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备20001876号-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>