
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="PDCA æ˜¯ç®¡ç†è€…çš„åœ£ç»ï¼Œä½†å¯¹äº AI Agent æ¥è¯´ï¼Œå®ƒå¤ªæ…¢äº†ã€‚æœ¬æ–‡æå‡º PAOE (Plan, Act, Observe, Evaluate) æ¨¡å‹ï¼Œæ·±åº¦è§£æ ReAct æœºåˆ¶å¦‚ä½•è®© LLM æ‹¥æœ‰â€œæ‰‹çœ¼åè°ƒâ€çš„èƒ½åŠ›ï¼Œå¹¶é™„å¸¦ Python å®ç°ä»£ç ã€‚" />
<meta name="keywords" content="AI Agent, ReAct, LLM, PDCA, Architecture">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="ä» PDCA åˆ° PAOEï¼šAI Agent å¤§è„‘é‡Œçš„å¾ªç¯"/>
  <meta property="og:description" content="PDCA æ˜¯ç®¡ç†è€…çš„åœ£ç»ï¼Œä½†å¯¹äº AI Agent æ¥è¯´ï¼Œå®ƒå¤ªæ…¢äº†ã€‚æœ¬æ–‡æå‡º PAOE (Plan, Act, Observe, Evaluate) æ¨¡å‹ï¼Œæ·±åº¦è§£æ ReAct æœºåˆ¶å¦‚ä½•è®© LLM æ‹¥æœ‰â€œæ‰‹çœ¼åè°ƒâ€çš„èƒ½åŠ›ï¼Œå¹¶é™„å¸¦ Python å®ç°ä»£ç ã€‚"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./cong-pdca-dao-paoeai-agent-da-nao-li-de-xun-huan.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-01-15 15:00:00+08:00"/>
  <meta property="article:modified_time" content="2026-01-15 15:00:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="AI"/>
  <meta property="article:tag" content="AI Agent"/>
  <meta property="article:tag" content="ReAct"/>
  <meta property="article:tag" content="LLM"/>
  <meta property="article:tag" content="PDCA"/>
  <meta property="article:tag" content="Architecture"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; ä» PDCA åˆ° PAOEï¼šAI Agent å¤§è„‘é‡Œçš„å¾ªç¯</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="cong-pdca-dao-paoeai-agent-da-nao-li-de-xun-huan">ä» PDCA åˆ° PAOEï¼šAI Agent å¤§è„‘é‡Œçš„å¾ªç¯</h1>
    <p>
      Posted on Thu 15 January 2026 in <a href="./category/ai.html">AI</a>

    </p>
  </header>


  <div>
    <h1 id="pdca-paoeai-agent">ä» PDCA åˆ° PAOEï¼šAI Agent å¤§è„‘é‡Œçš„â€œæ­»å¾ªç¯â€</h1>
<blockquote>
<p>ç®¡ç†å­¦å¤§å¸ˆæˆ´æ˜ï¼ˆDemingï¼‰å¦‚æœè¿˜æ´»ç€ï¼Œçœ‹åˆ° AI Agent çš„è¿è¡Œæ—¥å¿—ï¼Œä¼°è®¡ä¼šçœ‰å¤´ä¸€çš±ï¼šâ€œè¿™å­©å­çš„ PDCA å¾ªç¯æ€ä¹ˆè½¬å¾—è·Ÿç”µé£æ‰‡ä¸€æ ·å¿«ï¼Ÿâ€</p>
</blockquote>
<hr>
<h2 id="ai">å¼€ç¯‡ï¼šåˆ«æ‹¿ç®¡ç†é‚£å¥—ç®¡ AI</h2>
<p>åœ¨èŒåœºæ··ä¹…äº†ï¼Œä½ åº”è¯¥å¯¹ <strong>PDCA</strong>ï¼ˆPlan-Do-Check-Actï¼‰ä¸é™Œç”Ÿã€‚è¿™æ˜¯è´¨é‡ç®¡ç†çš„é‡‘ç§‘ç‰å¾‹ï¼Œä¹Ÿæ˜¯æ— æ•°å‘¨æŠ¥ã€æœˆæŠ¥çš„å™©æ¢¦æ¥æºã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘æ˜¯ï¼š<strong>è°‹å®šè€ŒååŠ¨ï¼ŒåŠ¨å®ŒæŸ¥ä¸€æŸ¥ï¼ŒæŸ¥å®Œæ”¹ä¸€æ”¹</strong>ã€‚</p>
<p>äººç±»çš„ PDCA å¾ªç¯é€šå¸¸æ˜¯ä»¥å¤©ã€å‘¨ç”šè‡³å­£åº¦ä¸ºå•ä½çš„ã€‚</p>
<p>ä½†å¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ª <strong>AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰</strong>ï¼Œä½ ä¼šå‘ç° PDCA æœ‰ç‚¹ä¸å¤Ÿç”¨äº†ã€‚Agent éœ€è¦åœ¨ä¸€ä¸ª Token ç”Ÿæˆçš„æ—¶é—´çª—å£å†…å®Œæˆæ€è€ƒå’Œå†³ç­–ã€‚å®ƒéœ€è¦çš„ä¸æ˜¯â€œç®¡ç†â€ï¼Œè€Œæ˜¯â€œè®¤çŸ¥â€ã€‚</p>
<p>åœ¨ AI Agent çš„ä¸–ç•Œé‡Œï¼ˆå°¤å…¶æ˜¯åŸºäº ReAct èŒƒå¼çš„ Agentï¼‰ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªå¾ªç¯å‡çº§ä¸º <strong>PAOE</strong>ï¼š
*   <strong>Plan (è§„åˆ’/æ€è€ƒ)</strong>
*   <strong>Act (è¡ŒåŠ¨/è°ƒç”¨å·¥å…·)</strong>
*   <strong>Observe (è§‚å¯Ÿ/è·å–ç»“æœ)</strong>
*   <strong>Evaluate (è¯„ä¼°/åæ€)</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ‰’å¼€ AI Agent çš„å¤§è„‘ï¼Œçœ‹çœ‹è¿™ä¸ª PAOE å¾ªç¯æ˜¯å¦‚ä½•è®©å¤§æ¨¡å‹ä»ä¸€ä¸ªâ€œåªä¼šçèŠçš„æ–‡ç§‘ç”Ÿâ€å˜æˆâ€œèƒ½å¹²æ´»çš„ç†å·¥ç”·â€çš„ã€‚</p>
<hr>
<h2 id="react-reactjs">ä¸€ã€ä»€ä¹ˆæ˜¯ ReActï¼Ÿä¸æ˜¯ React.js</h2>
<p>é¦–å…ˆæ¾„æ¸…ä¸€ä¸‹ï¼Œè¿™é‡Œè¯´çš„ <strong>ReAct</strong> ä¸æ˜¯é‚£ä¸ªå‰ç«¯æ¡†æ¶ï¼Œè€Œæ˜¯ <strong>Re</strong>asoning + <strong>Act</strong>ingï¼ˆæ¨ç† + è¡ŒåŠ¨ï¼‰ã€‚è¿™æ˜¯ Google Research åœ¨ 2022 å¹´æå‡ºçš„ä¸€ç§ Prompt èŒƒå¼ã€‚</p>
<p>åœ¨ ReAct å‡ºç°ä¹‹å‰ï¼Œå¤§æ¨¡å‹åªæœ‰ä¸¤ç§çŠ¶æ€ï¼š
1.  <strong>æ¨ç†ï¼ˆReasoningï¼‰</strong>ï¼šåœ¨é‚£è‡ªè¨€è‡ªè¯­ï¼Œæ€ç»´é“¾ï¼ˆCoTï¼‰å¾ˆå¼ºï¼Œä½†æ‰‹æ–­äº†ï¼Œå¹²ä¸äº†æ´»ã€‚
2.  <strong>è¡ŒåŠ¨ï¼ˆActingï¼‰</strong>ï¼šç›´æ¥è¾“å‡º API è°ƒç”¨ï¼Œä½†è„‘å­ç»å¸¸çŸ­è·¯ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆè¦è°ƒã€‚</p>
<p>ReAct æŠŠè¿™ä¸¤è€…ç»“åˆäº†èµ·æ¥ã€‚ç®€å•è¯´å°±æ˜¯ï¼š<strong>ä¸€è¾¹ç¢ç¢å¿µï¼ˆæ€è€ƒï¼‰ï¼Œä¸€è¾¹åŠ¨æ‰‹ï¼ˆå¹²æ´»ï¼‰</strong>ã€‚</p>
<p>è€Œ PAOEï¼Œå°±æ˜¯ ReAct æœºåˆ¶åœ¨å·¥ç¨‹è½åœ°æ—¶çš„å…·ä½“è¡¨ç°å½¢å¼ã€‚</p>
<hr>
<h2 id="paoe-agent">äºŒã€è¯¦è§£ PAOE å¾ªç¯ï¼šAgent çš„å¿ƒæµ</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåœºæ™¯æ¥ç†è§£ PAOEã€‚
<strong>ç”¨æˆ·æŒ‡ä»¤</strong>ï¼šâ€œå¸®æˆ‘æŸ¥ä¸€ä¸‹ä»Šå¤©åŒ—äº¬çš„å¤©æ°”ï¼Œå¦‚æœä¸é€‚åˆå‡ºé—¨ï¼Œå°±æ¨èä¸€éƒ¨ç”µå½±ã€‚â€</p>
<h3 id="1-plan-p">1. Plan (P) â€”â€” ç¢ç¢å¿µçš„è‰ºæœ¯</h3>
<p>è¿™æ˜¯ LLM çš„å†…å¿ƒç‹¬ç™½ï¼ˆThoughtï¼‰ã€‚å®ƒä¸èƒ½ç›´æ¥ç»™ä½ ç­”æ¡ˆï¼Œå®ƒå¾—å…ˆæ‹†è§£ä»»åŠ¡ã€‚</p>
<ul>
<li><strong>Agent ç‹¬ç™½</strong>ï¼š
    &gt; â€œç”¨æˆ·æƒ³çŸ¥é“åŒ—äº¬å¤©æ°”ã€‚æˆ‘å¾—å…ˆè°ƒç”¨å¤©æ°”å·¥å…·ã€‚æ‹¿åˆ°å¤©æ°”åï¼Œæˆ‘å¾—åˆ¤æ–­æ˜¯å¦â€˜é€‚åˆå‡ºé—¨â€™ã€‚å¦‚æœä¸é€‚åˆï¼Œæˆ‘å†è°ƒç”¨ç”µå½±æ¨èå·¥å…·ã€‚â€</li>
</ul>
<h3 id="2-act-a">2. Act (A) â€”â€” è„æ´»ç´¯æ´»</h3>
<p>LLM å†³å®šè¦å¹²ä»€ä¹ˆåï¼Œä¼šè¾“å‡ºä¸€ä¸ªç‰¹å®šçš„æ ¼å¼ï¼ˆé€šå¸¸æ˜¯ JSON æˆ–ç‰¹æ®Šçš„å…³é”®è¯ï¼‰ï¼Œå‘Šè¯‰ç³»ç»Ÿâ€œæˆ‘è¦ç”¨å·¥å…·äº†â€ã€‚</p>
<ul>
<li><strong>Agent è¾“å‡º</strong>ï¼š
    &gt; <code>Action: WeatherTool</code>
    &gt; <code>Action Input: Beijing</code></li>
</ul>
<p>æ³¨æ„ï¼Œè¿™æ—¶å€™ LLM æš‚åœäº†ã€‚å®ƒæŠŠæ§åˆ¶æƒäº¤ç»™äº†ä½ çš„ä»£ç ï¼ˆRuntimeï¼‰ã€‚</p>
<h3 id="3-observe-o">3. Observe (O) â€”â€” ççœ¼çœ‹ä¸–ç•Œ</h3>
<p>ä½ çš„ä»£ç æ‰§è¡Œäº† <code>WeatherTool</code>ï¼Œæ‹¿åˆ°äº† API çš„è¿”å›å€¼ã€‚è¿™ä¸ªè¿”å›å€¼å°±æ˜¯ Agent çš„â€œæ„Ÿå®˜è¾“å…¥â€ã€‚</p>
<ul>
<li><strong>ç³»ç»Ÿåé¦ˆ</strong>ï¼š
    &gt; <code>Observation: 2Â°C, Heavy Snow (å¤§é›ª), Wind Scale 6.</code></li>
</ul>
<h3 id="4-evaluate-e">4. Evaluate (E) â€”â€” çµé­‚æ‹·é—®</h3>
<p>Agent æ‹¿åˆ°äº†è§‚å¯Ÿç»“æœï¼Œå®ƒéœ€è¦å†æ¬¡æ€è€ƒï¼ˆReasoningï¼‰ï¼Œè¯„ä¼°å½“å‰çŠ¶æ€è·ç¦»ç›®æ ‡è¿˜æœ‰å¤šè¿œã€‚</p>
<ul>
<li><strong>Agent ç‹¬ç™½</strong>ï¼š
    &gt; â€œè§‚æµ‹åˆ°å¤–é¢æ˜¯å¤§é›ªï¼Œé£å¾ˆå¤§ã€‚è¿™ç»å¯¹ä¸é€‚åˆå‡ºé—¨ã€‚æ ¹æ®ç”¨æˆ·çš„æŒ‡ä»¤ï¼Œæˆ‘ç°åœ¨éœ€è¦æ¨èä¸€éƒ¨ç”µå½±ã€‚â€</li>
</ul>
<p><strong>ï¼ˆå¾ªç¯ç»§ç»­ -&gt; Plan -&gt; Act -&gt; ...ï¼‰</strong></p>
<ul>
<li><strong>Agent è¾“å‡º</strong>ï¼š
    &gt; <code>Action: MovieRecommendationTool</code>
    &gt; <code>Action Input: Cozy winter movies</code></li>
</ul>
<p>...ç›´åˆ°æœ€åï¼ŒAgent è¯„ä¼°è®¤ä¸ºä»»åŠ¡å®Œæˆï¼Œè¾“å‡º <code>Final Answer</code>ã€‚</p>
<hr>
<h2 id="talk-is-cheap-show-me-the-code">ä¸‰ã€Talk is cheap, show me the code</h2>
<p>åŸç†å¬èµ·æ¥å¾ˆç®€å•ï¼Œå†™èµ·æ¥å…¶å®å°±æ˜¯ä¸€ä¸ª <code>while</code> å¾ªç¯ã€‚</p>
<p>æˆ‘ä»¬ç”¨ Python æ‰‹æ’¸ä¸€ä¸ªæç®€ç‰ˆçš„ PAOE Agentï¼ˆä¸ä¾èµ– LangChainï¼Œè¿˜åŸç¬¬ä¸€æ€§åŸç†ï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">openai</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="c1"># 1. å®šä¹‰å·¥å…· (Tools)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_weather</span><span class="p">(</span><span class="n">city</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span><span class="s2">&quot;condition&quot;</span><span class="p">:</span> <span class="s2">&quot;Heavy Snow&quot;</span><span class="p">,</span> <span class="s2">&quot;temp&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>

<span class="k">def</span><span class="w"> </span><span class="nf">recommend_movie</span><span class="p">(</span><span class="n">genre</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;ã€ŠThe Shiningã€‹(é—ªçµ) - é€‚åˆé›ªå¤©è§‚çœ‹çš„æ¸©é¦¨ç”µå½±(è¯¯)&quot;</span>

<span class="n">tools_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;get_weather&quot;</span><span class="p">:</span> <span class="n">get_weather</span><span class="p">,</span>
    <span class="s2">&quot;recommend_movie&quot;</span><span class="p">:</span> <span class="n">recommend_movie</span>
<span class="p">}</span>

<span class="c1"># 2. ç³»ç»Ÿæç¤ºè¯ (Prompt Engineering)</span>
<span class="n">SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">Answer the following questions as best you can. You have access to the following tools:</span>
<span class="s2">- get_weather(city): Get weather info.</span>
<span class="s2">- recommend_movie(genre): Recommend a movie.</span>

<span class="s2">Use the following format:</span>
<span class="s2">Question: the input question you must answer</span>
<span class="s2">Thought: you should always think about what to do</span>
<span class="s2">Action: the action to take, should be one of [get_weather, recommend_movie]</span>
<span class="s2">Action Input: the input to the action</span>
<span class="s2">Observation: the result of the action</span>
<span class="s2">... (this Thought/Action/Action Input/Observation can repeat N times)</span>
<span class="s2">Thought: I now know the final answer</span>
<span class="s2">Final Answer: the final answer to the original input question</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># 3. PAOE å¾ªç¯å¼•æ“</span>
<span class="k">def</span><span class="w"> </span><span class="nf">run_agent</span><span class="p">(</span><span class="n">question</span><span class="p">):</span>
    <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;system&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">SYSTEM_PROMPT</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Question: </span><span class="si">{</span><span class="n">question</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">}</span>
    <span class="p">]</span>

    <span class="n">steps</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">steps</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span> <span class="c1"># é˜²æ­¢æ­»å¾ªç¯</span>
        <span class="c1"># --- P &amp; E (Plan &amp; Evaluate) ---</span>
        <span class="c1"># è°ƒç”¨å¤§æ¨¡å‹è¿›è¡Œæ€è€ƒ</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">openai</span><span class="o">.</span><span class="n">ChatCompletion</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
            <span class="n">messages</span><span class="o">=</span><span class="n">messages</span><span class="p">,</span>
            <span class="n">stop</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Observation:&quot;</span><span class="p">]</span> <span class="c1"># å…³é”®ï¼è®©æ¨¡å‹åœ¨è¿™å°±åœä¸‹ï¼Œç­‰å¾…æˆ‘ä»¬å–‚æ•°æ®</span>
        <span class="p">)</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">message</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ğŸ¤– Agent:</span><span class="se">\n</span><span class="si">{</span><span class="n">content</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;assistant&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">content</span><span class="p">})</span>

        <span class="c1"># æ£€æŸ¥æ˜¯å¦å¾—åˆ°æœ€ç»ˆç­”æ¡ˆ</span>
        <span class="k">if</span> <span class="s2">&quot;Final Answer:&quot;</span> <span class="ow">in</span> <span class="n">content</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Final Answer:&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

        <span class="c1"># --- A (Act) ---</span>
        <span class="c1"># è§£æ Action å’Œ Action Input (è¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…éœ€æ­£åˆ™è§£æ)</span>
        <span class="c1"># å‡è®¾ content æ ¼å¼æ ‡å‡†: &quot;Action: get_weather\nAction Input: Beijing&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">action</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Action: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">action_input</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;Action Input: &quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;è§£æå¤±è´¥ï¼ŒAgent å‘ç–¯äº†&quot;</span><span class="p">)</span>
            <span class="k">break</span>

        <span class="c1"># --- O (Observe) ---</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ğŸ”§ Tool Execution: </span><span class="si">{</span><span class="n">action</span><span class="si">}</span><span class="s2">(</span><span class="si">{</span><span class="n">action_input</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        <span class="n">tool_func</span> <span class="o">=</span> <span class="n">tools_map</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
        <span class="n">observation</span> <span class="o">=</span> <span class="n">tool_func</span><span class="p">(</span><span class="n">action_input</span><span class="p">)</span>

        <span class="n">observation_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Observation: </span><span class="si">{</span><span class="n">observation</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ğŸ‘€ System: </span><span class="si">{</span><span class="n">observation_msg</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># å°†è§‚å¯Ÿç»“æœå–‚å›ç»™ Agent</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s2">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span> <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">observation_msg</span><span class="p">})</span>
        <span class="n">steps</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="s2">&quot;ä»»åŠ¡è¶…æ—¶æˆ–å¤±è´¥&quot;</span>

<span class="c1"># 4. è¿è¡Œ</span>
<span class="n">run_agent</span><span class="p">(</span><span class="s2">&quot;åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿé€‚åˆå‡ºé—¨å—ï¼Ÿ&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="_1">ä»£ç é‡Œçš„ç„æœº</h3>
<ol>
<li><strong>Stop Sequence (<code>Observation:</code>)</strong>ï¼šè¿™æ˜¯æ§åˆ¶æƒäº¤æ¥çš„å…³é”®ã€‚å‘Šè¯‰ LLMï¼šâ€œè¯´åˆ°è¿™é—­å˜´ï¼Œè¯¥æˆ‘å»å¹²æ´»äº†â€ã€‚</li>
<li><strong>Context Appending</strong>ï¼šæ¯ä¸€æ¬¡å¾ªç¯ï¼Œæˆ‘ä»¬éƒ½æŠŠ Thoughtã€Action å’Œ Observation å¡å›å†å²è®°å½•ã€‚LLM å°±åƒçœ‹ç€å®éªŒè®°å½•æœ¬çš„ç§‘å­¦å®¶ï¼ŒåŸºäºä¹‹å‰çš„å®éªŒç»“æœåšä¸‹ä¸€æ­¥æ¨æ–­ã€‚</li>
</ol>
<hr>
<h2 id="paoe">å››ã€PAOE çš„å‘ä¸è§£</h2>
<p>è™½ç„¶ PAOE çœ‹èµ·æ¥å¾ˆç¾ï¼Œä½†å®æˆ˜ä¸­ä½ ä¼šé‡åˆ°å„ç§å¥‡è‘©é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>æ­»å¾ªç¯ (Infinite Loop)</strong>ï¼š</p>
<ul>
<li><em>ç°è±¡</em>ï¼šAgent åå¤æŸ¥è¯¢å¤©æ°”ï¼Œåå¤ç¡®è®¤ï¼Œå°±æ˜¯ä¸è¾“å‡ºç»“æœã€‚</li>
<li><em>è§£æ³•</em>ï¼šè®¾ç½® <code>max_iterations</code>ï¼ˆæœ€å¤§å¾ªç¯æ¬¡æ•°ï¼‰ï¼Œå¼ºåˆ¶æ‰“æ–­ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¹»è§‰è°ƒç”¨ (Hallucination)</strong>ï¼š</p>
<ul>
<li><em>ç°è±¡</em>ï¼šAgent è°ƒç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å·¥å…· <code>Action: CallMom</code>ã€‚</li>
<li><em>è§£æ³•</em>ï¼šåœ¨ Prompt é‡Œä¸¥æ ¼é™åˆ¶å·¥å…·åˆ—è¡¨ï¼Œæˆ–è€…åœ¨ä»£ç é‡Œåšå®¹é”™å¤„ç†ï¼ŒæŠŠâ€œå·¥å…·ä¸å­˜åœ¨â€çš„æŠ¥é”™ä¿¡æ¯ä½œä¸º Observation å–‚ç»™å®ƒï¼Œè®©å®ƒè‡ªå·±çº é”™ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸Šä¸‹æ–‡çˆ†ç‚¸ (Context Overflow)</strong>ï¼š</p>
<ul>
<li><em>ç°è±¡</em>ï¼šå‡ è½®ä¸‹æ¥ï¼ŒPrompt é•¿åº¦è¶…è¿‡äº† Token é™åˆ¶ã€‚</li>
<li><em>è§£æ³•</em>ï¼šå¯¹å†å² Observation è¿›è¡Œæ‘˜è¦å‹ç¼©ï¼Œæˆ–è€…åªä¿ç•™æœ€è¿‘ N è½®çš„è¯¦ç»†æ€è€ƒè¿‡ç¨‹ã€‚</li>
</ul>
</li>
</ol>
<hr>
<h2 id="_2">äº”ã€æ€»ç»“ï¼šä»ç®¡ç†è€…åˆ°è§‚å¯Ÿè€…</h2>
<p><strong>PDCA</strong> æ˜¯æˆ‘ä»¬åœ¨ç®¡ç†<strong>åˆ«äºº</strong>æ—¶ç”¨çš„å·¥å…·ã€‚
<strong>PAOE</strong> æ˜¯æˆ‘ä»¬åœ¨æ„å»º <strong>Agent</strong> æ—¶èµ‹äºˆå®ƒçš„å…ƒè®¤çŸ¥èƒ½åŠ›ã€‚</p>
<p>å½“æˆ‘ä»¬ä»ä¼ ç»Ÿçš„ Software Engineering è½¬å‘ AI Engineeringï¼Œæˆ‘ä»¬çš„è§’è‰²ä¹Ÿå˜äº†ï¼š
æˆ‘ä»¬ä¸å†æ˜¯å†™æ­» <code>if-else</code> çš„ç¨‹åºå‘˜ï¼Œæˆ‘ä»¬æ›´åƒæ˜¯ <strong>Agent çš„æ•™ç»ƒ</strong>ã€‚</p>
<p>æˆ‘ä»¬è®¾è®¡å®ƒçš„æ€è€ƒæ¡†æ¶ï¼ˆSystem Promptï¼‰ï¼Œæä¾›è¶æ‰‹çš„å·¥å…·ï¼ˆToolsï¼‰ï¼Œç„¶åååœ¨åœºè¾¹ï¼Œçœ‹ç€å®ƒåœ¨ PAOE çš„å¾ªç¯ä¸­è·Œè·Œæ’æ’åœ°æ¢ç´¢ä¸–ç•Œã€‚</p>
<p>æœ‰æ—¶å€™å®ƒå¾ˆè ¢ï¼Œæœ‰æ—¶å€™å®ƒåˆèªæ˜å¾—è®©ä½ å®³æ€•ã€‚
ä½†è¿™ï¼Œå°±æ˜¯ AI æ—¶ä»£çš„ä¹è¶£æ‰€åœ¨ã€‚</p>
<hr>
<h2 id="checklist">ğŸ’¡ å®æˆ˜ Checklist</h2>
<p>å¦‚æœä½ æƒ³æ‰‹æ“ä¸€ä¸ª ReAct Agentï¼Œè¯·æ£€æŸ¥ï¼š</p>
<ul>
<li>[ ] <strong>Prompt ç»“æ„</strong>ï¼šç¡®ä¿åŒ…å«äº† Thought, Action, Observation çš„ç¤ºä¾‹ï¼ˆFew-Shotï¼‰ã€‚</li>
<li>[ ] <strong>Stop è¯è®¾ç½®</strong>ï¼šç¡®ä¿ LLM ä¸ä¼šè‡ªå·±ç¼–é€  Observationã€‚</li>
<li>[ ] <strong>å·¥å…·å®šä¹‰</strong>ï¼šå·¥å…·çš„è¾“å…¥è¾“å‡ºè¦æ˜¯å­—ç¬¦ä¸²ï¼Œä¸”æè¿°è¦æ¸…æ™°ï¼ˆæ–¹ä¾¿ LLM ç†è§£ï¼‰ã€‚</li>
<li>[ ] <strong>å…œåº•æœºåˆ¶</strong>ï¼šè§£æå¤±è´¥æˆ–å·¥å…·æŠ¥é”™æ—¶ï¼ŒAgent èƒ½å¦æ¢å¤ï¼Ÿ</li>
<li>[ ] <strong>è°ƒè¯•æ—¥å¿—</strong>ï¼šæ‰“å°å‡ºæ¯ä¸€è½®çš„ Thoughtï¼Œæ–¹ä¾¿ä½ ç†è§£å®ƒçš„è„‘å›è·¯ã€‚</li>
</ul>
<hr>
<h2 id="_3">æ‰©å±•é˜…è¯»</h2>
<ul>
<li><a href="https://arxiv.org/abs/2210.03629">ReAct: Synergizing Reasoning and Acting in Language Models</a></li>
<li><a href="https://github.com/langchain-ai/langchain">LangChain Agent æºç è§£æ</a></li>
</ul>
<hr>
<div class="highlight"><pre><span></span><code>@startmindmap
* PAOE å¾ªç¯
** å¯¹æ¯” PDCA
*** PDCA ä»¥å¤©/å‘¨ä¸ºå•ä½
*** PAOE ä»¥æ¯«ç§’ä¸ºå•ä½
*** ä»ç®¡ç†åˆ°è®¤çŸ¥
** P - Plan è§„åˆ’
*** LLM æ€è€ƒ
*** ä»»åŠ¡æ‹†è§£
*** å†…å¿ƒç‹¬ç™½
** A - Act è¡ŒåŠ¨
*** è°ƒç”¨å·¥å…·
*** è¾“å‡º JSON
*** æ‰§è¡Œæ“ä½œ
** O - Observe è§‚å¯Ÿ
*** è·å–ç»“æœ
*** ç¯å¢ƒåé¦ˆ
*** çŠ¶æ€å˜åŒ–
** E - Evaluate è¯„ä¼°
*** åˆ¤æ–­å®Œæˆ
*** æ£€éªŒè´¨é‡
*** å†³å®šä¸‹ä¸€æ­¥
** åº”ç”¨åœºæ™¯
*** AI Agent
*** ReAct èŒƒå¼
*** å·¥å…·è°ƒç”¨
@endmindmap
</code></pre></div>

<p><img alt="PAOE å¾ªç¯æ€ç»´å¯¼å›¾" src="../images/journal_20260115_paoe_react_mindmap.png"></p>
<hr/>
<p>æœ¬ä½œå“é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/ai-agent.html">AI Agent</a>
      <a href="./tag/react.html">ReAct</a>
      <a href="./tag/llm.html">LLM</a>
      <a href="./tag/pdca.html">PDCA</a>
      <a href="./tag/architecture.html">Architecture</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./rag-jin-jie-zhi-nan-bie-zhi-cheng-zhao-xiang-liang-shu-ju-ku-elasticsearch-cai-shi-sao-di-seng.html" title="RAG è¿›é˜¶æŒ‡å—ï¼šåˆ«åªç›¯ç€å‘é‡æ•°æ®åº“ï¼ŒElasticsearch æ‰æ˜¯æ‰«åœ°åƒ§">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./prompt-gong-cheng-yi-si-shang-xia-wen-gong-cheng-dang-li.html" title="Prompt å·¥ç¨‹å·²æ­»ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹å½“ç«‹">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./yong-eino-gou-jian-ai-agentgo-kai-fa-zhe-de-langchain-zhong-yu-lai-liao.html">ç”¨ Eino æ„å»º AI Agentï¼šGo å¼€å‘è€…çš„ LangChain ç»ˆäºæ¥äº†</a></li>
      <li><a href="./prompt-gong-cheng-yi-si-shang-xia-wen-gong-cheng-dang-li.html">Prompt å·¥ç¨‹å·²æ­»ï¼Œä¸Šä¸‹æ–‡å·¥ç¨‹å½“ç«‹</a></li>
      <li><a href="./rag-jin-jie-zhi-nan-bie-zhi-cheng-zhao-xiang-liang-shu-ju-ku-elasticsearch-cai-shi-sao-di-seng.html">RAG è¿›é˜¶æŒ‡å—ï¼šåˆ«åªç›¯ç€å‘é‡æ•°æ®åº“ï¼ŒElasticsearch æ‰æ˜¯æ‰«åœ°åƒ§</a></li>
      <li><a href="./vibe-bian-cheng-de-xin-fan-shi-zai-ai-shi-dai-zhong-xin-ding-yi-ruan-jian-kai-fa.html">Vibe ç¼–ç¨‹çš„æ–°èŒƒå¼ï¼šåœ¨ AI æ—¶ä»£é‡æ–°å®šä¹‰è½¯ä»¶å¼€å‘</a></li>
      <li><a href="./zhi-chang-gong-ju-xiang-zhi-pdcagao-shou-zuo-shi-du-you-yi-ge-bi-huan.html">èŒåœºå·¥å…·ç®±ä¹‹ PDCAï¼šé«˜æ‰‹åšäº‹ï¼Œéƒ½æœ‰ä¸€ä¸ª"é—­ç¯"</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>