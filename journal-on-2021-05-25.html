
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">


  <link rel="stylesheet"
        type="text/css"
        href="./theme/stork/stork.css" />

  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Daily minute" />
<meta name="keywords" content="journal, blog">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="Journal on 2021-05-25"/>
  <meta property="og:description" content="Daily minute"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./journal-on-2021-05-25.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2021-05-25 10:20:00+08:00"/>
  <meta property="article:modified_time" content="2021-05-25 19:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="journal"/>
  <meta property="article:tag" content="blog"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; Journal on 2021-05-25</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>

    <div class="stork">
      <input class="stork-input" type="text" autocomplete="off" name="q" data-stork="sitesearch" placeholder="Search..." onclick="loadStorkIndex()"/>
      <div class="stork-output" data-stork="sitesearch-output"></div>
    </div>

    <nav>
      <ul class="list">



          <li>
            <a target="_self" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_self" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_self" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_self" href="https://github.com/walterfan" >github</a>
          </li>
          <li>
            <a target="_self" href="https://www.jianshu.com/u/e0b365801f48" >æŠ€æœ¯æ–‡ç« </a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="journal-on-2021-05-25">Journal on 2021-05-25</h1>
    <p>
      Posted on Tue 25 May 2021 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <h1 id="thinking">Thinking</h1>
<p>å¦‚ä½•è¿›è¡Œåº¦é‡é©±åŠ¨è°ƒä¼˜:</p>
<ul>
<li>
<p>ä¸€æ˜¯åœ¨è®¾è®¡é˜¶æ®µå°±è€ƒè™‘è°ƒä¼˜ï¼Œè®¾å®šæ€§èƒ½ç›®æ ‡</p>
</li>
<li>
<p>äºŒæ˜¯åœ¨å¼€å‘çš„å„ä¸ªé˜¶æ®µè¿›è¡Œè€ƒé‡ - Optimization of the metrics, by the metrics, for the metrics</p>
</li>
<li>
<p>ä¸‰æ˜¯å¿…é¡»éµå¾ª PDCA è¿™ä¸ªé—­ç¯ï¼š è®¡åˆ’ï¼Œæ‰§è¡Œï¼Œæ£€æŸ¥å’Œè°ƒæ•´</p>
</li>
</ul>
<h1 id="quote">Quote</h1>
<h2 id="stun">ç”¨äº STUN çš„å‡†è®¸åˆ·æ–°åè®®</h2>
<blockquote>
<p>Session Traversal Utilities for NAT (STUN) Usage for Consent Freshness</p>
</blockquote>
<p>refer to http://www.rfcreader.com/#rfc7675</p>
<blockquote>
<p>To prevent attacks on peers, endpoints have to ensure the remote peer1 is willing to receive traffic.</p>
<p>When a session is first established, ICE implementations obtain an initial consent to send by performing STUN connectivity checks.</p>
<p>Consent is obtained only by full ICE implementations.  An ICE-lite  agent (as defined in Section 2.7 of [RFC5245]) does not generate connectivity checks or run the ICE state machine.</p>
<p>Consent:  The mechanism of obtaining permission from the remote endpoint to send non-ICE traffic to a remote transport address.</p>
</blockquote>
<p>å‡†è®¸ï¼šå®ƒæ˜¯ä¸€ä¸ªè·å–å‡†è®¸çš„æœºåˆ¶ï¼Œå…è®¸ä¸€ä¸ªè¿œç¨‹ç«¯ç‚¹å‘é€é ICE çš„æµé‡åˆ°å¦ä¸€ä¸ªè¿œç¨‹ä¼ è¾“åœ°å€</p>
<blockquote>
<p>Consent is obtained using ICE.  Note that this is an application-level consent; no human intervention is involved.</p>
</blockquote>
<p>å‡†è®¸æ˜¯é€šè¿‡ä½¿ç”¨ ICE æ¥è·å¾—çš„ï¼Œå®ƒæ˜¯ä¸€ç§åº”ç”¨å±‚çš„å‡†è®¸ï¼Œä¸éœ€è¦äººå·¥äº¤äº’ã€‚</p>
<blockquote>
<p>Consent Freshness:  Maintaining and renewing consent over time.</p>
</blockquote>
<p>å‡†è®¸åˆ·æ–°ï¼šéšç€æ—¶é—´ç»´æŒå’Œæ›´æ–°å‡†è®¸</p>
<h1 id="program">Program</h1>
<ul>
<li>Q. How to make white noise?</li>
</ul>
<p>refer to https://mdn.github.io/webaudio-examples/audio-buffer/</p>
<div class="highlight"><pre><span></span><code>let AudioContext = window.AudioContext || window.webkitAudioContext;
let audioCtx;

function makeWhiteNoise(channels) {

  if(!audioCtx) {
    audioCtx = new AudioContext();
  }

  // é‡‡æ ·ç‡å³æ¯ç§’çš„é‡‡æ ·ä¸ªæ•°ï¼Œåˆ›å»ºä¸€ä¸ª2ç§’çš„ç«‹ä½“å£°ç¼“å†²
  let frameCount = audioCtx.sampleRate * 2.0;
  console.log(&quot;sampleRate: &quot;, audioCtx.sampleRate, &quot;,frameCount: &quot;, frameCount);

  let myArrayBuffer = audioCtx.createBuffer(channels, frameCount, audioCtx.sampleRate);

  //åœ¨æ­¤ç¼“å†²é‡Œå¡«å……ç™½å™ªå£°ï¼Œä¹Ÿå°±æ˜¯ [-1.0, 1.0] ä¹‹é—´çš„éšæœºå€¼
  for (let channel = 0; channel &lt; channels; channel++) {
   // This gives us the actual array that contains the data
   let nowBuffering = myArrayBuffer.getChannelData(channel);
   for (let i = 0; i &lt; frameCount; i++) {
     // Math.random() is in [0; 1.0]ï¼Œaudio needs to be in [-1.0; 1.0]
     nowBuffering[i] = Math.random() * 2 - 1;
   }
  }

  // å…ˆåˆ›å»ºä¸€ä¸ª AudioBufferSourceNode ä½œä¸ºæºèŠ‚ç‚¹
  let source = audioCtx.createBufferSource();
  // set the buffer in the AudioBufferSourceNode
  source.buffer = myArrayBuffer;
  // è¿æ¥è¿™ä¸ª AudioBufferSourceNode åˆ°ç›®æ ‡èŠ‚ç‚¹
  // destination so we can hear the sound
  source.connect(audioCtx.destination);
  // å¼€å§‹æºèŠ‚ç‚¹çš„æ’­æ”¾
  source.start();

  source.onended = () =&gt; {
    console.log(&#39;White noise finished&#39;);
  }
}
</code></pre></div>

<ul>
<li>Q. How to mute mic?</li>
</ul>
<div class="highlight"><pre><span></span><code>    function muteMic(stream, bMute) {
        if (!stream) {
            returnï¼›
        }
        var tracks = stream.getAudioTracks();
        if (tracks.length) {
            for (var i = 0; i &lt; tracks.length; i++) {
                tracks[i].enabled =!(bMute);
            }
        }

    };
</code></pre></div>

<h2 id="webrtc">WebRTC</h2>
<h1 id="program_1">Program</h1>
<p>WebRTC ç«¯ç‚¹éœ€è¦æ”¯æŒçš„ RTP åè®®çš„ç›¸å…³ç‰¹æ€§å’Œæ‰©å±•ï¼š</p>
<blockquote>
<p>Support for use of multiple simultaneous synchronization source (SSRC) values in a single RTP session, including support for RTP endpoints that send many SSRC values simultaneously, following [RFC3550] and [RFC8108]. The RTCP optimizations for multi-SSRC sessions defined in [RFC8861] MAY be supported; if supported, the usage MUST be signaled.</p>
</blockquote>
<p>1) æ”¯æŒå¤šè·¯å¤ç”¨ï¼Œå¤šä¸ª SSRCä¸ºæ ‡è¯†çš„æµå‡ºç°åœ¨ä¸€ä¸ªä¼šè¯ä¸­</p>
<blockquote>
<p>Random choice of SSRC on joining a session; collision detection and resolution for SSRC values (see also Section 4.8).</p>
</blockquote>
<p>2) åœ¨ä¸€ä¸ªä¼šè¯ä¸­éšæœºé€‰æ‹© SSRC åŠ SSRC å€¼çš„å†²çªæ£€æµ‹å’Œè§£å†³</p>
<blockquote>
<p>Support for reception of RTP data packets containing contributing source (CSRC) lists, as generated by RTP mixers, and RTCP packets relating to CSRCs.</p>
</blockquote>
<p>3) æ”¯æŒ RTP header ä¸­çš„ CSRC åˆ—è¡¨</p>
<blockquote>
<p>Sending correct synchronization information in the RTCP Sender Reports, to allow receivers to implement lip synchronization; see Section 5.2.1 regarding support for the rapid RTP synchronization extensions.</p>
</blockquote>
<p>4) åœ¨ RTCP å‘é€è€…æŠ¥å‘Šä¸­å‘é€æ­£ç¡®çš„åŒæ­¥ä¿¡æ¯ï¼Œä»¥è®©æ¥æ”¶è€…å®ç°å”‡åŒæ­¥ï¼Œå‚è§ RFC6051</p>
<blockquote>
<p>Support for multiple synchronization contexts. Participants that send multiple simultaneous RTP packet streams SHOULD do so as part of a single synchronization context, using a single RTCP CNAME for all streams and allowing receivers to play the streams out in a synchronized manner. For compatibility with potential future versions of this specification, or for interoperability with non-WebRTC devices through a gateway, receivers MUST support multiple synchronization contexts, indicated by the use of multiple RTCP CNAMEs in an RTP session. This specification mandates the usage of a single CNAME when sending RTP streams in some circumstances; see Section 4.9.</p>
</blockquote>
<p>5) æ”¯æŒå¤šä¸ªåŒæ­¥ä¸Šä¸‹æ–‡ï¼Œå…±ç”¨ä¸€ä¸ª CNAME</p>
<blockquote>
<p>Support for sending and receiving RTCP Sender Report (SR), Receiver Report (RR), Source Description (SDES), and BYE packet types. Note that support for other RTCP packet types is OPTIONAL unless mandated by other parts of this specification. Note that additional RTCP packet types are used by the RTP/SAVPF profile (Section 4.2) and the other RTCP extensions (Section 5). WebRTC endpoints that implement the Session Description Protocol (SDP) bundle negotiation extension will use the SDP Grouping Framework "mid" attribute to identify media streams. Such endpoints MUST implement the RTCP SDES media identification (MID) item described in [RFC8843].</p>
</blockquote>
<p>6) æ”¯æŒè¿™äº› RTCP æ¶ˆæ¯ï¼š SR, RR, SDES å’Œ BYE</p>
<blockquote>
<p>Support for multiple endpoints in a single RTP session, and for scaling the RTCP transmission interval according to the number of participants in the session; support for randomized RTCP transmission intervals to avoid synchronization of RTCP reports; support for RTCP timer reconsideration (Section 6.3.6 of [RFC3550]) and reverse reconsideration (Section 6.3.4 of [RFC3550]).</p>
</blockquote>
<p>7) æ”¯æŒä¸€ä¸ªRTPä¼šè¯ä¸­çš„å¤šä¸ªç«¯ç‚¹ï¼Œå¯¹ RTCP ä¼ è¾“çš„é—´éš”è¿›è¡Œè°ƒæ•´</p>
<blockquote>
<p>Support for configuring the RTCP bandwidth as a fraction of the media bandwidth, and for configuring the fraction of the RTCP bandwidth allocated to senders -- e.g., using the SDP "b=" line [RFC4566] [RFC3556].</p>
</blockquote>
<p>8) æ”¯æŒå¯¹ RTCP çš„å¸¦å®½çš„é…ç½®ï¼Œä½œä¸ºåª’ä½“å¸¦å®½ä¸­çš„ä¸€ä»½å­</p>
<blockquote>
<p>Support for the reduced minimum RTCP reporting interval described in Section 6.2 of [RFC3550]. When using the reduced minimum RTCP reporting interval, the fixed (nonreduced) minimum interval MUST be used when calculating the participant timeout interval (see Sections 6.2 and 6.3.5 of [RFC3550]). The delay before sending the initial compound RTCP packet can be set to zero (see Section 6.2 of [RFC3550] as updated by [RFC8108]).</p>
</blockquote>
<p>9) æ”¯æŒå‡å°‘ RTCP æœ€å°é—´éš”æ—¶é—´</p>
<blockquote>
<p>Support for discontinuous transmission. RTP allows endpoints to pause and resume transmission at any time. When resuming, the RTP sequence number will increase by one, as usual, while the increase in the RTP timestamp value will depend on the duration of the pause. Discontinuous transmission is most commonly used with some audio payload formats, but it is not audio specific and can be used with any RTP payload format.</p>
</blockquote>
<p>10) æ”¯æŒä¸è¿ç»­çš„ä¼ è¾“</p>
<blockquote>
<p>Ignore unknown RTCP packet types and RTP header extensions. This is to ensure robust handling of future extensions, middlebox behaviors, etc., that can result in receiving RTP header extensions or RTCP packet types that were not signaled. If a compound RTCP packet that contains a mixture of known and unknown RTCP packet types is received, the known packet types need to be processed as usual, with only the unknown packet types being discarded.</p>
</blockquote>
<p>11) å¿½ç•¥æœªçŸ¥çš„ RTCP åŒ…ç±»å‹å’Œ RTP å¤´æ‰©å±•</p>
<h1 id="words">Words</h1>
<p>take a rain checkã€‘ 
å­—é¢æ„æ€æ˜¯â€œæ‹¿ä¸€å¼ é›¨ç¥¨â€ã€‚ </p>
<p>çŸ­è¯­èµ·æºæ¥è‡ªç¾å›½çš„æ£’çƒæ–‡åŒ–ï¼Œå¦‚æœæ£’çƒæ¯”èµ›ï¼Œå› æ¶åŠ£å¤©æ°”è€Œä¸å¾—ä¸ç»ˆæ­¢ï¼Œå®˜æ–¹å°†ç»™è§‚ä¼—äº¤æ¢åˆ¸(check)ï¼Œå‡­æ­¤åˆ¸å¯ä»¥è§‚çœ‹ä¸‹ä¸€æ¬¡çš„æ¯”èµ›ã€‚ </p>
<p>ğŸŒ§ï¸ ç”±æ­¤è¡ç”Ÿå‡ºäº† take a rain checkï¼Œç”¨äºè¡¨è¾¾â€œå°†çº¦å®šæ”¹æœŸâ€çš„æƒ…å†µä¸‹ã€‚ </p>
<p>ğŸï¸Thank you, but I have to take a rain check on your invitation.<br>
è°¢è°¢ä½ ï¼Œä½†å¾ˆæŠ±æ­‰æˆ‘ä¸èƒ½æ¥å—ä½ çš„é‚€è¯·ï¼Œæ”¹å¤©å§ã€‚ </p>
<p>ğŸï¸Would you like to have dinner with me tonight? 
ä½ æ„¿æ„å’Œæˆ‘å…±è¿›æ™šé¤å—ï¼Ÿ </p>
<p>ğŸï¸I'll take a rain check! I've got stuff to do. 
æ”¹å¤©å§ï¼Œæˆ‘æœ‰ç‚¹äº‹ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/journal.html">journal</a>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./journal-on-2021-05-24.html" title="Journal on 2021-05-24">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./clean-architecture.html" title="Clean Architecture">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./easy-jwt-implementation-by-casbin-library.html">Easy JWT implementation by Casbin library</a></li>
      <li><a href="./shi-yao-shi-pkce.html">ä»€ä¹ˆæ˜¯ PKCE</a></li>
      <li><a href="./open-source-community-maturity.html">open source community maturity</a></li>
      <li><a href="./gao-dong-oauth-huan-de-yong-dai-ma-shuo-hua.html">ææ‡‚ OAuth è¿˜å¾—ç”¨ä»£ç è¯´è¯</a></li>
      <li><a href="./chatgpt-ke-yi-zuo-de-50-jian-shi.html">ChatGPT å¯ä»¥åšçš„ 50 ä»¶äº‹</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>  <script>
    window.loadStorkIndex = function () {
      stork.initialize("./theme/stork/stork.wasm")
      stork.register("sitesearch", "./search-index.st", { showProgress: false });
    }
  </script>
  <script src="./theme/stork/stork.js"></script>

</body>
</html>