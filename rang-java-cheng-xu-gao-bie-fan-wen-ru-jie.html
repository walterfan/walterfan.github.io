
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Daily minute" />
<meta name="keywords" content="journal, blog">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="è®© Java ç¨‹åºå‘Šåˆ«ç¹æ–‡ç¼›èŠ‚"/>
  <meta property="og:description" content="Daily minute"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./rang-java-cheng-xu-gao-bie-fan-wen-ru-jie.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2025-10-26 20:20:00+08:00"/>
  <meta property="article:modified_time" content="2025-10-26 22:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="journal"/>
  <meta property="article:tag" content="blog"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; è®© Java ç¨‹åºå‘Šåˆ«ç¹æ–‡ç¼›èŠ‚</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="rang-java-cheng-xu-gao-bie-fan-wen-ru-jie">è®© Java ç¨‹åºå‘Šåˆ«ç¹æ–‡ç¼›èŠ‚</h1>
    <p>
      Posted on Sun 26 October 2025 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>è®© Java ç¨‹åºå‘Šåˆ«ç¹æ–‡ç¼›èŠ‚</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td>Â <strong>Category</strong>Â Â </td>
<td>Â learningÂ noteÂ Â </td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2025-10-26</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<h1 id="groovy-java">Groovyï¼š è®© Java ç¨‹åºå‘Šåˆ«ç¹æ–‡ç¼›èŠ‚</h1>
<blockquote>
<p>å…³é”®è¯ï¼šJVMã€è„šæœ¬è¯­è¨€ã€Gradleã€DSLã€Jenkinsã€åŠ¨æ€è¯­è¨€ã€Spockã€æ„å»ºå·¥å…·</p>
</blockquote>
<hr>
<h2 id="java">ä¸€ã€å‰è¨€ï¼šJava ç¨‹åºå‘˜çš„â€œå•°å—¦ç—…â€</h2>
<p>å¦‚æœä½ å†™ Java å¤šå¹´ï¼Œä½ å¯èƒ½å¯¹è¿™äº›åœºæ™¯å†ç†Ÿæ‚‰ä¸è¿‡ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">s</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>æˆ–è€…æ¯æ¬¡å®šä¹‰ä¸€ä¸ª Beanï¼Œéƒ½å¾—å†™ getter/setterã€toStringã€equals/hashCode...
é‚£ç§"å¼ºç±»å‹ + å†—é•¿ + æ¨¡æ¿åŒ–"çš„ç—›æ„Ÿï¼Œå‡ ä¹æ˜¯è€ Java ç¨‹åºå‘˜çš„å…±åŒè®°å¿†ã€‚</p>
<p><strong>Groovy</strong> å°±æ˜¯åœ¨è¿™ç§èƒŒæ™¯ä¸‹è¯ç”Ÿçš„ â€”â€”
å®ƒä¿ç•™äº† Java çš„ç”Ÿæ€ä¸ä¸¥è°¨ï¼Œåˆå¼•å…¥äº†è„šæœ¬è¯­è¨€çš„è½»å¿«ä¸çµæ´»ã€‚</p>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p>Groovy = Java çš„è¯­æ³•ç³– + Python çš„çµæ´»æ€§ + Ruby çš„ä¼˜é›…ã€‚</p>
</blockquote>
<hr>
<h2 id="groovy">äºŒã€Groovy æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Groovy æ˜¯ä¸€é—¨<strong>åŸºäº JVM çš„åŠ¨æ€è¯­è¨€</strong>ï¼Œå®ƒå¯ä»¥ï¼š</p>
<ul>
<li>åƒè„šæœ¬è¯­è¨€ä¸€æ ·ç›´æ¥è¿è¡Œï¼ˆæ— éœ€ç¼–è¯‘ï¼‰</li>
<li>åƒ Java ä¸€æ ·è¢«ç¼–è¯‘æˆå­—èŠ‚ç è¿è¡Œåœ¨ JVM ä¸Š</li>
<li>æ— ç¼è°ƒç”¨ Java ç±»åº“</li>
<li>åœ¨ Gradleã€Jenkinsã€Grails ç­‰ç”Ÿæ€ä¸­å¹¿æ³›ä½¿ç”¨</li>
</ul>
<p>å®˜æ–¹å®šä¹‰å¾ˆç›´æ¥ï¼š</p>
<blockquote>
<p><em>â€œGroovy is a powerful, optionally typed and dynamic language, with static-typing and static compilation capabilities.â€</em></p>
</blockquote>
<p>æ¢å¥è¯è¯´ï¼š</p>
<ul>
<li>å®ƒæ”¯æŒåŠ¨æ€ç±»å‹ï¼Œä¹Ÿèƒ½åŠ ä¸Š <code>@CompileStatic</code> å˜æˆé™æ€ç±»å‹ï¼›</li>
<li>å®ƒæ—¢èƒ½å†™è„šæœ¬ï¼Œä¹Ÿèƒ½æ„å»ºå¤§å‹åº”ç”¨ã€‚</li>
</ul>
<hr>
<h2 id="java-5">ä¸‰ã€è¯­æ³•å…¥é—¨ï¼šJava ç¨‹åºå‘˜çš„ 5 åˆ†é’Ÿè¿ç§»æŒ‡å—</h2>
<p>ä¸‹é¢æ˜¯å‡ ä¸ªå¸¸è§è¯­æ³•å¯¹æ¯”ï¼Œå¸®ä½ åœ¨ 5 åˆ†é’Ÿå†…â€œç§’æ‡‚â€ Groovyã€‚</p>
<hr>
<h3 id="1">âœ… 1. å˜é‡å£°æ˜ä¸è¾“å‡º</h3>
<p><strong>Java</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Walter&quot;</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Hello, &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</code></pre></div>

<p><strong>Groovy</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Walter&quot;</span>
<span class="n">println</span><span class="w"> </span><span class="s2">&quot;Hello, ${name}&quot;</span>
</code></pre></div>

<p>ğŸ‘‰ çœæ‰ç±»å‹å£°æ˜ã€åˆ†å·ã€<code>System.out</code>ï¼Œè¿˜å¤šäº†å­—ç¬¦ä¸²æ’å€¼ã€‚</p>
<hr>
<h3 id="2-closure">âœ… 2. é›†åˆä¸é—­åŒ…ï¼ˆClosureï¼‰</h3>
<p><strong>Java</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Arrays</span><span class="p">.</span><span class="na">asList</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="w"> </span><span class="n">squared</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="p">.</span><span class="na">stream</span><span class="p">()</span>
<span class="w">    </span><span class="p">.</span><span class="na">filter</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="na">map</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">)</span>
<span class="w">    </span><span class="p">.</span><span class="na">collect</span><span class="p">(</span><span class="n">Collectors</span><span class="p">.</span><span class="na">toList</span><span class="p">());</span>
</code></pre></div>

<p><strong>Groovy</strong></p>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="w"> </span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">,</span><span class="w"> </span><span class="mi">4</span><span class="o">,</span><span class="w"> </span><span class="mi">5</span><span class="o">]</span>
<span class="kt">def</span><span class="w"> </span><span class="n">squared</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">numbers</span><span class="o">.</span><span class="na">findAll</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">}</span>
<span class="w">                     </span><span class="o">.</span><span class="na">collect</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">}</span>
<span class="n">println</span><span class="w"> </span><span class="n">squared</span><span class="w">  </span><span class="c1">// [4, 16]</span>
</code></pre></div>

<p>ğŸ‘‰ é—­åŒ…ï¼ˆClosureï¼‰ <code>{ it -&gt; ... }</code> æ˜¯ Groovy çš„çµé­‚ã€‚
<code>it</code> æ˜¯éšå«å‚æ•°ï¼Œå¯çœç•¥ä½¿ä»£ç æ›´ç®€æ´ã€‚</p>
<hr>
<h3 id="3-map-range">âœ… 3. Map ä¸ Range</h3>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[</span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;Alice&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">age:</span><span class="w"> </span><span class="mi">30</span><span class="o">]</span>
<span class="n">println</span><span class="w"> </span><span class="s2">&quot;${person.name} is ${person.age} years old.&quot;</span>

<span class="kt">def</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="o">..</span><span class="mi">5</span>
<span class="n">println</span><span class="w"> </span><span class="n">range</span><span class="o">.</span><span class="na">collect</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">}</span><span class="w">  </span><span class="c1">// [2, 4, 6, 8, 10]</span>
</code></pre></div>

<p>ğŸ‘‰ Groovy çš„ Map å’Œ Range éƒ½æ˜¯è¯­è¨€å†…å»ºç»“æ„ï¼Œä¸ç”¨å¯¼åŒ…ã€‚</p>
<hr>
<h3 id="4">âœ… 4. ç±»ä¸æ–¹æ³•</h3>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">Person</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">age</span>

<span class="w">    </span><span class="kt">def</span><span class="w"> </span><span class="nf">greet</span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;Hi, I&#39;m $name, and I&#39;m $age years old.&quot;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>

<span class="kt">def</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="o">(</span><span class="nl">name:</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="o">,</span><span class="w"> </span><span class="nl">age:</span><span class="w"> </span><span class="mi">42</span><span class="o">)</span>
<span class="n">p</span><span class="o">.</span><span class="na">greet</span><span class="o">()</span>
</code></pre></div>

<p>ğŸ‘‰ ä¸ç”¨æ˜¾å¼ getter/setterï¼ŒGroovy è‡ªåŠ¨ç”Ÿæˆã€‚
æ„é€ å™¨æ”¯æŒâ€œå‘½åå‚æ•°â€è¯­æ³•ï¼Œç›´æ¥æŒ‰å­—æ®µåä¼ å‚ã€‚</p>
<hr>
<h3 id="5">âœ… 5. åŠ¨æ€è°ƒç”¨</h3>
<p>Groovy å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€å¢åŠ æ–¹æ³•ã€å±æ€§ï¼Œéå¸¸çµæ´»ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="kd">class</span><span class="w"> </span><span class="nc">DynamicDemo</span><span class="w"> </span><span class="o">{}</span>
<span class="kt">def</span><span class="w"> </span><span class="n">d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">DynamicDemo</span><span class="o">()</span>
<span class="n">d</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">sayHello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;Hello from meta!&quot;</span><span class="w"> </span><span class="o">}</span>
<span class="n">d</span><span class="o">.</span><span class="na">sayHello</span><span class="o">()</span>
</code></pre></div>

<p>ğŸ‘‰ è¿™æ˜¯ Java åšä¸åˆ°çš„åŠ¨æ€ç‰¹æ€§ã€‚</p>
<hr>
<h2 id="groovy_1">å››ã€Groovy çš„å®æˆ˜èˆå°</h2>
<p>Groovy è™½ç„¶ä¸åƒ Kotlin é‚£æ ·â€œå®˜æ–¹å® å„¿â€ï¼Œ
ä½†åœ¨å‡ ä¸ªé¢†åŸŸé‡Œï¼Œå®ƒæ˜¯<strong>äº‹å®æ ‡å‡†è¯­è¨€</strong>ï¼š</p>
<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>æ¡†æ¶/å·¥å…·</th>
<th>Groovy çš„è§’è‰²</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ„å»ºå·¥å…·</td>
<td><strong>Gradle</strong></td>
<td><code>build.gradle</code> å°±æ˜¯ Groovy DSL</td>
</tr>
<tr>
<td>æŒç»­é›†æˆ</td>
<td><strong>Jenkins Pipeline</strong></td>
<td>Jenkinsfile æ˜¯ Groovy DSL</td>
</tr>
<tr>
<td>Web æ¡†æ¶</td>
<td><strong>Grails</strong></td>
<td>Groovy ç‰ˆ Spring Boot</td>
</tr>
<tr>
<td>æµ‹è¯•æ¡†æ¶</td>
<td><strong>Spock</strong></td>
<td>æ¯” JUnit æ›´ä¼˜é›…çš„ BDD æµ‹è¯•æ¡†æ¶</td>
</tr>
</tbody>
</table>
<hr>
<h3 id="gradle-groovy-dsl">ç¤ºä¾‹ï¼šGradle æ„å»ºè„šæœ¬ï¼ˆGroovy DSLï¼‰</h3>
<p><code>build.gradle</code>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="n">plugins</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="s1">&#39;java&#39;</span>
<span class="o">}</span>

<span class="n">repositories</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">mavenCentral</span><span class="o">()</span>
<span class="o">}</span>

<span class="n">dependencies</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;org.apache.commons:commons-lang3:3.14.0&#39;</span>
<span class="o">}</span>

<span class="n">task</span><span class="w"> </span><span class="n">greet</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">doLast</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;Hello from Groovy-powered Gradle!&quot;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>è¿è¡Œï¼š</p>
<div class="highlight"><pre><span></span><code>gradle<span class="w"> </span>greet
</code></pre></div>

<p>è¾“å‡ºï¼š</p>
<div class="highlight"><pre><span></span><code>Hello from Groovy-powered Gradle!
</code></pre></div>

<p>ğŸ‘‰ è¿™æ®µè„šæœ¬æœ¬è´¨ä¸Šå°±æ˜¯ <strong>Groovy ä»£ç </strong>ï¼ŒGradle åªæ˜¯è°ƒç”¨äº† Groovy è§£é‡Šå™¨æ‰§è¡Œå®ƒã€‚</p>
<hr>
<h2 id="groovy_2">äº”ã€å¦‚ä½•è¿è¡Œ Groovy</h2>
<p>Groovy æ”¯æŒè„šæœ¬ã€äº¤äº’ã€ç¼–è¯‘ä¸‰ç§æ–¹å¼è¿è¡Œï¼š</p>
<h3 id="1_1">1ï¸âƒ£ ç›´æ¥è¿è¡Œè„šæœ¬</h3>
<div class="highlight"><pre><span></span><code>groovy<span class="w"> </span>hello.groovy
</code></pre></div>

<h3 id="2-repl">2ï¸âƒ£ äº¤äº’å¼ REPL</h3>
<div class="highlight"><pre><span></span><code>groovysh
</code></pre></div>

<h3 id="3">3ï¸âƒ£ ç¼–è¯‘æˆå­—èŠ‚ç </h3>
<div class="highlight"><pre><span></span><code>groovyc<span class="w"> </span>MyClass.groovy
groovy<span class="w"> </span>MyClass
</code></pre></div>

<h3 id="4-unix">4ï¸âƒ£ è„šæœ¬æ¨¡å¼ï¼ˆUnixï¼‰</h3>
<div class="highlight"><pre><span></span><code><span class="cp">#!/usr/bin/env groovy</span>
<span class="n">println</span><span class="w"> </span><span class="s2">&quot;Hello Groovy!&quot;</span>
</code></pre></div>

<p>åŠ æ‰§è¡Œæƒé™åå¯ç›´æ¥è¿è¡Œã€‚</p>
<hr>
<h2 id="groovy_3">å…­ã€Groovy çš„ä¼˜ç¼ºç‚¹</h2>
<table>
<thead>
<tr>
<th>ä¼˜ç‚¹</th>
<th>ç¼ºç‚¹</th>
</tr>
</thead>
<tbody>
<tr>
<td>ä¸ Java æ— ç¼å…¼å®¹</td>
<td>å¯åŠ¨é€Ÿåº¦ç•¥æ…¢ï¼ˆè§£é‡Šæ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td>è¯­æ³•ç®€æ´ã€è¡¨è¾¾åŠ›å¼º</td>
<td>åŠ¨æ€ç±»å‹åœ¨å¤§å‹é¡¹ç›®ä¸­æ˜“å‡ºé”™</td>
</tr>
<tr>
<td>DSL ä¸è„šæœ¬åœºæ™¯æå¼º</td>
<td>IDE æ”¯æŒä¸å¦‚ Kotlin å®Œå–„</td>
</tr>
<tr>
<td>Gradleã€Jenkinsã€Spock å¹¿æ³›ä½¿ç”¨</td>
<td>ç”Ÿæ€å¢é•¿è¶‹ç¼“</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="groovy_4">ä¸ƒã€Groovy çš„åº”ç”¨ä¸å‘å±•</h2>
<h3 id="_1">ğŸ“Š åº”ç”¨ç°çŠ¶ï¼šä½è°ƒä½†ä¸å¯æˆ–ç¼º</h3>
<p>è™½ç„¶ Groovy ä¸åƒ Kotlin é‚£æ ·å—åˆ°å®˜æ–¹çš„åŠ›æ¨ï¼Œä½†å®ƒåœ¨å¤šä¸ªå…³é”®é¢†åŸŸå æ®äº†ä¸å¯æ›¿ä»£çš„ä½ç½®ï¼š</p>
<h4 id="1-gradle">1. <strong>æ„å»ºå·¥å…·é¢†åŸŸï¼šGradle çš„æ ¸å¿ƒ</strong></h4>
<p>Gradle ä½œä¸º Android å®˜æ–¹æ„å»ºå·¥å…·å’Œè®¸å¤šå¤§å‹é¡¹ç›®çš„é¦–é€‰ï¼Œå…¶ DSL å°±æ˜¯åŸºäº Groovyã€‚å°½ç®¡ Gradle ç°åœ¨ä¹Ÿæ”¯æŒ Kotlin DSLï¼Œä½† Groovy DSL ä»ç„¶æ˜¯ä¸»æµï¼Œå› ä¸ºå®ƒï¼š</p>
<ul>
<li>æ›´ç®€æ´ç›´è§‚ï¼ˆç‰¹åˆ«æ˜¯åœ¨é…ç½®ä¾èµ–æ—¶ï¼‰</li>
<li>ç¤¾åŒºèµ„æºæ›´ä¸°å¯Œ</li>
<li>å­¦ä¹ æ›²çº¿æ›´å¹³ç¼“</li>
</ul>
<p>è®¸å¤šä¼ä¸šçº§é¡¹ç›®ï¼ˆå¦‚ Spring Frameworkã€Hibernateï¼‰éƒ½ä½¿ç”¨ Groovy DSL ç¼–å†™æ„å»ºè„šæœ¬ã€‚</p>
<h4 id="2-jenkins-pipeline">2. <strong>æŒç»­é›†æˆï¼šJenkins Pipeline</strong></h4>
<p>Jenkins çš„å£°æ˜å¼ Pipeline å’Œè„šæœ¬å¼ Pipeline éƒ½ä½¿ç”¨ Groovyï¼š</p>
<div class="highlight"><pre><span></span><code><span class="n">pipeline</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">agent</span><span class="w"> </span><span class="n">any</span>
<span class="w">    </span><span class="n">stages</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Build&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;mvn clean package&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">        </span><span class="n">stage</span><span class="o">(</span><span class="s1">&#39;Test&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
<span class="w">            </span><span class="n">steps</span><span class="w"> </span><span class="o">{</span>
<span class="w">                </span><span class="n">sh</span><span class="w"> </span><span class="s1">&#39;mvn test&#39;</span>
<span class="w">            </span><span class="o">}</span>
<span class="w">        </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<p>è¿™ç§åº”ç”¨è®© Groovy æˆä¸º DevOps å·¥ç¨‹å¸ˆå¿…é¡»æŒæ¡çš„è¯­è¨€ä¹‹ä¸€ã€‚</p>
<h4 id="3-spock">3. <strong>æµ‹è¯•æ¡†æ¶ï¼šSpock</strong></h4>
<p>Spock æ¡†æ¶ä½¿ç”¨ Groovy çš„ç‰¹æ€§ï¼Œè®©æµ‹è¯•ä»£ç æ›´åŠ ä¼˜é›…ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="nf">&quot;should add two numbers&quot;</span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nl">given:</span>
<span class="w">    </span><span class="kt">def</span><span class="w"> </span><span class="n">calculator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Calculator</span><span class="o">()</span>

<span class="w">    </span><span class="nl">when:</span>
<span class="w">    </span><span class="kt">def</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculator</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="w"> </span><span class="mi">3</span><span class="o">)</span>

<span class="w">    </span><span class="nl">then:</span>
<span class="w">    </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">5</span>
<span class="o">}</span>
</code></pre></div>

<p>ç›¸æ¯” JUnitï¼ŒSpock çš„ BDD é£æ ¼æ›´æ¥è¿‘è‡ªç„¶è¯­è¨€ï¼Œå¯è¯»æ€§æ›´å¼ºã€‚</p>
<h4 id="4-web-grails">4. <strong>Web å¼€å‘ï¼šGrails æ¡†æ¶</strong></h4>
<p>Grails æ˜¯ä¸€ä¸ªå…¨æ ˆ Web æ¡†æ¶ï¼ŒåŸºäº Groovy æ„å»ºã€‚å®ƒæä¾›äº†ç±»ä¼¼ Rails çš„çº¦å®šä¼˜äºé…ç½®ï¼ˆConvention over Configurationï¼‰ç†å¿µï¼Œè®© Web å¼€å‘æ›´åŠ é«˜æ•ˆã€‚è™½ç„¶è¿‘å¹´æ¥ Grails ç¤¾åŒºæ´»è·ƒåº¦æœ‰æ‰€ä¸‹é™ï¼Œä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ªæˆç†Ÿçš„ä¼ä¸šçº§ Web å¼€å‘æ¡†æ¶ã€‚</p>
<h4 id="5_1">5. <strong>æ•°æ®ç§‘å­¦ä¸è„šæœ¬å·¥å…·</strong></h4>
<p>Groovy åœ¨æ•°æ®å¤„ç†ã€æ–‡ä»¶æ“ä½œã€API è°ƒç”¨ç­‰è„šæœ¬åœºæ™¯ä¸­è¡¨ç°å‡ºè‰²ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="kt">def</span><span class="w"> </span><span class="n">json</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JsonSlurper</span><span class="o">().</span><span class="na">parseText</span><span class="o">(</span><span class="k">new</span><span class="w"> </span><span class="n">URL</span><span class="o">(</span><span class="s1">&#39;https://api.example.com/data&#39;</span><span class="o">).</span><span class="na">text</span><span class="o">)</span>
<span class="n">json</span><span class="o">.</span><span class="na">items</span><span class="o">.</span><span class="na">each</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">    </span><span class="n">println</span><span class="w"> </span><span class="s2">&quot;${item.name}: ${item.value}&quot;</span>
<span class="o">}</span>
</code></pre></div>

<hr>
<h3 id="_2">å‘å±•è¶‹åŠ¿ï¼šç¨³ä¸­æ±‚è¿›</h3>
<h4 id="_3">å½“å‰çŠ¶æ€</h4>
<ul>
<li><strong>æˆç†Ÿç¨³å®š</strong>ï¼šGroovy 3.x ç³»åˆ—æŒç»­æ›´æ–°ï¼Œä¸æœ€æ–° Java ç‰ˆæœ¬ä¿æŒåŒæ­¥</li>
<li><strong>ç”Ÿæ€ä¸°å¯Œ</strong>ï¼šè™½ç„¶æ–°é¡¹ç›®å¢é•¿æ”¾ç¼“ï¼Œä½†ç°æœ‰ç”Ÿæ€ä¾ç„¶æ´»è·ƒ</li>
<li><strong>ä¼ä¸šé‡‡ç”¨</strong>ï¼šåœ¨é‡‘èã€ç”µä¿¡ã€åˆ¶é€ ç­‰è¡Œä¸šçš„ä¸­å¤§å‹é¡¹ç›®ä¸­å¹¿æ³›ä½¿ç”¨</li>
</ul>
<h4 id="_4">æœªæ¥æ–¹å‘</h4>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong></li>
<li>é€šè¿‡ <code>@CompileStatic</code> æ³¨è§£å®ç°é™æ€ç¼–è¯‘ï¼Œæ€§èƒ½æ¥è¿‘ Java</li>
<li>
<p>æ”¯æŒ GraalVM åŸç”Ÿé•œåƒç¼–è¯‘ï¼Œæå‡å¯åŠ¨é€Ÿåº¦</p>
</li>
<li>
<p><strong>ä¸ç°ä»£ Java ç‰¹æ€§çš„èåˆ</strong></p>
</li>
<li>æ”¯æŒ Java 17+ çš„æ–°ç‰¹æ€§ï¼ˆå¦‚ sealed classesã€recordsï¼‰</li>
<li>
<p>ä¸ Project Loomï¼ˆè™šæ‹Ÿçº¿ç¨‹ï¼‰çš„é›†æˆ</p>
</li>
<li>
<p><strong>DSL é¢†åŸŸçš„æ·±è€•</strong></p>
</li>
<li>ç»§ç»­åœ¨ Gradleã€Jenkins ç­‰å·¥å…·ä¸­å‘æŒ¥ä½œç”¨</li>
<li>
<p>æ¢ç´¢æ–°çš„ DSL åº”ç”¨åœºæ™¯ï¼ˆå¦‚é…ç½®ç®¡ç†ã€è§„åˆ™å¼•æ“ï¼‰</p>
</li>
<li>
<p><strong>ä¸ Kotlin çš„å·®å¼‚åŒ–å®šä½</strong></p>
</li>
<li>Kotlinï¼šæ›´ç°ä»£ã€ç±»å‹å®‰å…¨ã€ç§»åŠ¨ç«¯ä¼˜å…ˆ</li>
<li>Groovyï¼šæ›´çµæ´»ã€è„šæœ¬å‹å¥½ã€DSL ä¸“é•¿</li>
</ol>
<hr>
<h3 id="_5">ğŸ’¡ é€‚ç”¨åœºæ™¯å»ºè®®</h3>
<p><strong>é€‚åˆä½¿ç”¨ Groovy çš„åœºæ™¯ï¼š</strong></p>
<p>âœ… ç¼–å†™æ„å»ºè„šæœ¬ï¼ˆGradleï¼‰<br>
âœ… ç¼–å†™ CI/CD æµæ°´çº¿ï¼ˆJenkinsï¼‰<br>
âœ… ç¼–å†™æµ‹è¯•ç”¨ä¾‹ï¼ˆSpockï¼‰<br>
âœ… å¿«é€ŸåŸå‹å¼€å‘<br>
âœ… æ•°æ®å¤„ç†è„šæœ¬<br>
âœ… å†…éƒ¨å·¥å…·å¼€å‘  </p>
<p><strong>ä¸å¤ªé€‚åˆçš„åœºæ™¯ï¼š</strong></p>
<p>âŒ å¤§å‹ä¼ä¸šçº§åº”ç”¨çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆå»ºè®®ç”¨ Java/Kotlinï¼‰<br>
âŒ éœ€è¦æè‡´æ€§èƒ½çš„å®æ—¶ç³»ç»Ÿ<br>
âŒ ç§»åŠ¨ç«¯å¼€å‘ï¼ˆGroovy æ— æ³•ç›´æ¥ç”¨äº Android/iOSï¼‰  </p>
<hr>
<h2 id="jvm">å…«ã€æ€»ç»“ï¼šè®© JVM é‡è·ä¹è¶£</h2>
<p>Groovy ä¸æ˜¯ä¸ºäº†å–ä»£ Javaï¼Œä¹Ÿä¸æ˜¯è¦ä¸ Kotlin ç«äº‰ã€‚
å®ƒçš„ä½¿å‘½ï¼Œæ˜¯è®© JVM ä¸–ç•Œé‡æ–°å˜å¾—æœ‰è¶£ï¼Œè®©è„šæœ¬ç¼–å†™å˜å¾—ä¼˜é›…ã€‚</p>
<p>å½“ä½ æƒ³å†™ç‚¹å°è„šæœ¬æ—¶ï¼›<br>
å½“ä½ åœ¨ Jenkins å†™æµæ°´çº¿æ—¶ï¼›<br>
å½“ä½ åœ¨ Gradle é…ç½®æ„å»ºæ—¶ï¼›<br>
å½“ä½ åŒå€¦ Java çš„æ ·æ¿ä»£ç æ—¶ï¼›<br>
Groovy å¯èƒ½å°±æ˜¯é‚£ä¸ªè®©ä½ "é‡æ–°å–œæ¬¢å†™ä»£ç "çš„è¯­è¨€ã€‚</p>
<p>åœ¨ Kotlin å¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼ŒGroovy ä¾ç„¶åœ¨æ„å»ºå·¥å…·ã€CI/CDã€æµ‹è¯•æ¡†æ¶ç­‰é¢†åŸŸå æ®é‡è¦åœ°ä½ã€‚å®ƒè¯æ˜äº†ï¼š<strong>ä¸€é—¨è¯­è¨€çš„ä»·å€¼ä¸åœ¨äºæ˜¯å¦"çƒ­é—¨"ï¼Œè€Œåœ¨äºæ˜¯å¦"æœ‰ç”¨"</strong>ã€‚</p>
<hr>
<h3 id="_6">ä¸€å¥è¯æ€»ç»“ï¼š</h3>
<blockquote>
<p>Groovy è®© Java ä¸–ç•Œæœ‰äº†è„šæœ¬çš„çµé­‚ï¼Œ
è€Œä¸å¤±ç±»å‹ç³»ç»Ÿçš„ç†æ€§ã€‚
åœ¨ DSL å’Œè„šæœ¬é¢†åŸŸï¼Œå®ƒä¾ç„¶æ˜¯æœ€ä¼˜é›…çš„é€‰æ‹©ä¹‹ä¸€ã€‚</p>
</blockquote>
<hr/>
<p>æœ¬ä½œå“é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/journal.html">journal</a>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./tocttou-shi-jian-chai-zhong-de-lou-dong.html" title="TOCTTOU - æ—¶é—´å·®ä¸­çš„æ¼æ´">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./yong-ai-shi-xian-ni-de-openapi.html" title="ç”¨ AI å®ç°ä½ çš„ OpenAPI">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./operator-terraform-dui-chuan-tong-yun-wei-de-gai-bian.html">Operator + Terraform å¯¹ä¼ ç»Ÿè¿ç»´çš„æ”¹å˜</a></li>
      <li><a href="./shi-yong-di-yi-xing-yuan-li-zuo-jia-gou-she-ji.html">ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†åšæ¶æ„è®¾è®¡</a></li>
      <li><a href="./zhi-chang-zhong-na-xie-huo-de-zui-jiu-de-fang-fa-lun-suo-xie.html">èŒåœºä¸­é‚£äº›â€œæ´»å¾—æœ€ä¹…â€çš„æ–¹æ³•è®ºç¼©å†™</a></li>
      <li><a href="./zui-tong-yong-de-6-da-yan-jiang-kuang-jia.html">æœ€é€šç”¨çš„ 6 å¤§æ¼”è®²æ¡†æ¶</a></li>
      <li><a href="./bie-liao-2025.html">åˆ«äº†, 2025</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>