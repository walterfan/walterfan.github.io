
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="很多人一上来就要“搞 RAG”，结果三天后变成“搞不下去”。真正能跑起来的知识库，往往从最土的全文搜索开始：先能找、再能用、最后才谈自动化。本文给一条可落地的路线：全文搜索 → 轻量 RAG → 把流程封装成 Claude Skill / Cursor command。" />
<meta name="keywords" content="知识库, 全文搜索, RAG, Claude Skill, Cursor, 写作方法">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="如何打造个人与项目知识库：从全文搜索到 RAG，再到 Claude Skill"/>
  <meta property="og:description" content="很多人一上来就要“搞 RAG”，结果三天后变成“搞不下去”。真正能跑起来的知识库，往往从最土的全文搜索开始：先能找、再能用、最后才谈自动化。本文给一条可落地的路线：全文搜索 → 轻量 RAG → 把流程封装成 Claude Skill / Cursor command。"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./ru-he-da-zao-ge-ren-yu-xiang-mu-zhi-shi-ku-cong-quan-wen-sou-suo-dao-ragzai-dao-claude-skill.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-02-05 22:10:00+08:00"/>
  <meta property="article:modified_time" content="2026-02-05 22:10:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="知识库"/>
  <meta property="article:tag" content="全文搜索"/>
  <meta property="article:tag" content="RAG"/>
  <meta property="article:tag" content="Claude Skill"/>
  <meta property="article:tag" content="Cursor"/>
  <meta property="article:tag" content="写作方法"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; 如何打造个人与项目知识库：从全文搜索到 RAG，再到 Claude Skill</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>手握灵珠常奋笔, 心开天籁不吹箫</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="ru-he-da-zao-ge-ren-yu-xiang-mu-zhi-shi-ku-cong-quan-wen-sou-suo-dao-ragzai-dao-claude-skill">如何打造个人与项目知识库：从全文搜索到 RAG，再到 Claude Skill</h1>
    <p>
      Posted on Thu 05 February 2026 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>如何打造个人与项目知识库：从全文搜索到 RAG，再到 Claude Skill</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td><strong>Category</strong></td>
<td>方法与工具</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2026-02-05</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<p>你有没有这种瞬间：</p>
<ul>
<li>需求评审会上，产品一句“上次我们怎么处理的来着？”你脑子里闪过 10 个微信群、3 个文档平台、2 个 repo……最后只憋出一句：<strong>“我回去找找。”</strong></li>
<li>你明明写过一篇笔记（甚至写得挺好），但三个月后再遇到类似问题，还是从 Google/搜索引擎重新搜一遍，像从没学过一样。</li>
</ul>
<p>反直觉的一点是：<strong>知识库最难的不是“写”，而是“找得到、用得上、跟得上”。</strong><br>
所以我建议别一上来就“搞 RAG”，先把最土、但最管用的三件事做扎实：</p>
<p>1) 全文搜索（能找）<br>
2) 结构化摘要（能用）<br>
3) 自动化入口（能复用，能交付给未来的自己）</p>
<p>下面我用“个人知识库”和“项目知识库”两条线，给一套可落地的路线图。你不需要一次做完，按阶段升级就行。</p>
<details>
<summary><strong>短大纲（先看 30 秒，决定要不要继续读）</strong></summary>

- 为什么多数知识库死在第 0 步：写得多，找不到
- 第一阶段：全文搜索（最便宜的生产力）
- 第二阶段：RAG（别神化，它就是“检索 + 拼接”）
- 第三阶段：把方法封装成 Claude Skill / Cursor command（让自己不再重复劳动）
- 个人知识库 vs 项目知识库：目录结构、权限边界、更新策略
- Checklist：从“能搜”到“能交付”的自检清单

</details>

<hr>
<h2 id="rag">一、别神化 RAG：你缺的往往是“检索”，不是“模型”</h2>
<p>我见过不少同事的知识库开局是这样的：</p>
<blockquote>
<p>“我搞个向量库，把所有文档灌进去，问啥都能答。”<br>
（三天后）“怎么回答还不如我自己搜？”  </p>
</blockquote>
<p>这并不奇怪。RAG（Retrieval-Augmented Generation）再高级，本质也只解决一件事：<strong>在你给大模型的上下文里，塞进更相关的材料</strong>。<br>
如果你连“材料在哪里、怎么检索、是否可信、是否最新”都没搞清楚，那 RAG 只会把问题放大：你会得到一堆<strong>看起来很像答案</strong>的“拼接作文”。</p>
<p>所以顺序最好是：</p>
<ul>
<li><strong>先把资料变得可搜索</strong>（全文搜索）</li>
<li><strong>再把资料变得可复用</strong>（摘要、卡片、模板）</li>
<li><strong>最后才谈自动回答</strong>（RAG）</li>
</ul>
<hr>
<h2 id="_1">二、第一阶段：全文搜索——最便宜、回报最快的知识库能力</h2>
<h3 id="21-markdown-git">2.1 个人知识库：用 Markdown + Git，把“可迁移”放在第一位</h3>
<p>我推荐个人知识库尽量“朴素”：</p>
<ul>
<li><strong>格式</strong>：Markdown（可迁移、可 diff、可 code review）</li>
<li><strong>存储</strong>：Git（历史可追溯，改坏能回滚）</li>
<li><strong>命名</strong>：日期 + 主题（你现在 blog/journal 的方式就很好）</li>
</ul>
<p>你甚至不用先选“笔记软件”。真正影响你体验的，是这两件事：</p>
<ul>
<li><strong>文件路径能不能表达语义</strong>（比如 <code>content/journal/</code>、<code>doc/source/5.work/</code>）</li>
<li><strong>你有没有一个统一的检索入口</strong></li>
</ul>
<p>检索入口怎么做？最简单的就是命令行全文搜索：</p>
<ul>
<li><code>rg</code>（ripgrep）：速度快、正则强、默认就很好用  </li>
<li>配合你习惯的编辑器（比如 Cursor/VSCode）全局搜索，够你用很久</li>
</ul>
<p>如果你偏好“像搜索引擎一样”的体验（带权重、拼写纠错、过滤条件），可以再升级到：</p>
<ul>
<li>SQLite FTS5（轻量、单机、适合个人/小团队）</li>
<li>Meilisearch / Elasticsearch（更像“搜索服务”，运维成本也更像）</li>
</ul>
<p>但请注意：<strong>不要为了上技术而上技术</strong>。大多数个人知识库，做到“1 秒内搜到答案”就已经赢了。</p>
<h3 id="22-repo">2.2 项目知识库：把“知识”放回 repo，让它和代码一起演进</h3>
<p>项目知识库最常见的死法是：文档放在某个云盘或平台上，代码在另一个地方，大家都很忙，最后两边不同步。</p>
<p>一个更务实的做法是：</p>
<ul>
<li>关键文档放回 repo（比如 <code>docs/</code>、<code>doc/source/</code>）</li>
<li>写清楚入口文件（比如 <code>README.md</code>、<code>AGENTS.md</code>、<code>CLAUDE.md</code>）</li>
<li>让文档变成“交付物”，可以被 review（PR/MR 里一起看）</li>
</ul>
<p>我特别建议你在每个项目里至少放三类东西：</p>
<ul>
<li><strong>What</strong>：这个项目是干嘛的（给新人看的）</li>
<li><strong>How</strong>：怎么跑、怎么发布、怎么排查（给未来的你看的）</li>
<li><strong>Why</strong>：关键决策为什么这么做（给“半年后的你 + 评审的人”看的）</li>
</ul>
<hr>
<h2 id="rag_1">三、第二阶段：RAG——把“能搜”升级为“能问”，但别越过边界</h2>
<h3 id="31-rag">3.1 一句话讲清 RAG：检索 + 拼接 + 约束</h3>
<p>RAG 你可以理解为一个很朴素的流水线：</p>
<p>1) 你提问<br>
2) 系统去你的资料库里“捞”出最相关的片段<br>
3) 把片段塞给大模型，让它在这些片段里作答<br>
4) 用引用/来源约束它别乱编</p>
<p>下面这张图可以当作你搭 RAG 时的“施工蓝图”。</p>
<div class="highlight"><pre><span></span><code>@startuml
!theme plain
skinparam backgroundColor #FEFEFE
skinparam DefaultFontName PingFang SC
skinparam ArrowColor #2F3A4A
skinparam RectangleBorderColor #2F3A4A
skinparam RectangleRoundCorner 12

rectangle &quot;提问\n(你 / 团队)&quot; as Q #FFE08A
rectangle &quot;检索层\n全文搜索 / 向量检索&quot; as R #A0E7E5
rectangle &quot;上下文拼装\n(截断/去重/排序)&quot; as C #B4F8C8
rectangle &quot;大模型生成\n(只基于上下文)&quot; as LLM #FBE7C6
rectangle &quot;输出\n答案 + 引用来源&quot; as A #CDB4DB

Q -down-&gt; R : query
R -down-&gt; C : top-k chunks
C -down-&gt; LLM : prompt + context
LLM -down-&gt; A : answer + citations

note right of R
关键：检索质量
比模型大小更重要
end note

note right of LLM
约束：不在上下文里
就说“不知道”
end note
@enduml
</code></pre></div>

<p><img alt="RAG 流水线" src="../images/journal_20260205_knowledge_base_rag_pipeline.png"></p>
<h3 id="32-rag">3.2 RAG 最容易踩的三个坑（我建议你提前规避）</h3>
<ul>
<li>
<p><strong>坑 1：切块（chunking）随缘</strong><br>
  切太大：上下文塞不下；切太小：信息断裂，模型“看不懂”。<br>
  经验上，先从“按小标题切 + 控制每块字数”开始，别一上来就追求最优参数。</p>
</li>
<li>
<p><strong>坑 2：资料没“新鲜度”策略</strong><br>
  旧设计、旧接口、旧结论混在一起，你问一次就可能被“考古学”绊倒。<br>
  最实用的做法是：<strong>每个片段带上来源 + 日期 + 版本</strong>，并且定期做“过期清理”。</p>
</li>
<li>
<p><strong>坑 3：权限边界没画清楚</strong><br>
  个人知识库可以随便灌；项目知识库往往涉及内部信息、客户信息、账号信息。<br>
  原则很简单：<strong>不能公开的内容，就别进会外发的系统</strong>；需要进系统，也要做脱敏/访问控制。</p>
</li>
</ul>
<hr>
<h2 id="claude-skill-cursor-command">四、第三阶段：把方法封装成 Claude Skill / Cursor command——让知识库“可复用”</h2>
<p>如果说“知识库”是你的仓库，那 <strong>Skill/Command</strong> 就是你仓库门口那把钥匙：<br>
你不需要每次都绕路走后门，按一个开关就能进。</p>
<h3 id="41">4.1 个人场景：把常见问题变成“可重复的工作流”</h3>
<p>我建议你先挑 3 类最高频的动作做自动化（越具体越好）：</p>
<ul>
<li><strong>写作类</strong>：把零散笔记加工成结构化文章（例如你现在的 <code>/blog-write</code>）</li>
<li><strong>总结类</strong>：把一周的 commit / issue / 笔记汇总成 4D 总结</li>
<li><strong>排查类</strong>：把日志/代码片段解释清楚，顺手给排查路径</li>
</ul>
<p>Skill/Command 的价值不是“生成文本”，而是：</p>
<ul>
<li><strong>固定输入</strong>（你每次要提供什么）</li>
<li><strong>固定输出</strong>（给你一个可交付的结果）</li>
<li><strong>固定约束</strong>（哪些不能做、哪些必须保留）</li>
</ul>
<p>这也是为什么它特别适合当“项目知识库”的入口：流程固化了，团队就不靠口口相传。</p>
<h3 id="42">4.2 项目场景：让仓库自己“会说话”</h3>
<p>你这个 blog 项目里已经有很好的雏形：</p>
<ul>
<li><code>.cursor/commands/</code>：把常用写作流程做成命令</li>
<li><code>.claude/skills/</code>：把能力做成可复用技能</li>
<li><code>CLAUDE.md</code> / <code>AGENTS.md</code>：把“项目结构 + 写作风格 + 约束”写清楚</li>
</ul>
<p>这套组合拳的效果是：<strong>你换一台电脑、换一个编辑器、甚至换一个团队成员，知识库仍然能跑起来</strong>。</p>
<hr>
<h2 id="vs">五、个人知识库 vs 项目知识库：我建议你用两条“数据流”</h2>
<p>我会把两者分开管理，避免互相污染：</p>
<ul>
<li>
<p><strong>个人知识库</strong>：更像“训练场”<br>
  你可以记录不成熟的想法、失败复盘、半成品模板。重点是“你能找回来”。</p>
</li>
<li>
<p><strong>项目知识库</strong>：更像“产品说明书 + 运维手册”<br>
  强调可复现、可审计、可协作。重点是“别人也能用”。</p>
</li>
</ul>
<p>一个小技巧：<br>
<strong>个人笔记可以写得随意，但项目知识库要写得“可交付”。</strong><br>
比如同样是排查记录，项目里要补上版本、环境、复现步骤、结论与行动项。</p>
<hr>
<h2 id="checklist-10">六、Checklist：从“能搜”到“能交付”的 10 秒自检</h2>
<ul>
<li>[ ] <strong>能搜到</strong>：同一个问题，1 分钟内能定位到材料</li>
<li>[ ] <strong>能看懂</strong>：材料里有背景、结论、适用边界（不是只有一段聊天截图）</li>
<li>[ ] <strong>能复用</strong>：有模板/脚本/命令，下一次不用从头做</li>
<li>[ ] <strong>能更新</strong>：有“过期策略”（日期/版本/Owner）</li>
<li>[ ] <strong>能引用</strong>：答案能指回来源（文档/PR/commit/链接）</li>
<li>[ ] <strong>不越界</strong>：敏感信息有边界（不进外发系统、不进日志、不进公开仓库）</li>
</ul>
<hr>
<h2 id="_2">七、总结：知识库不是“记忆宫殿”，是“可检索的工作流”</h2>
<p>如果你只记住一句话，那就记这个：</p>
<blockquote>
<p><strong>先把检索做对，再谈 RAG；最后用 Skill/Command 把流程固化。</strong></p>
</blockquote>
<h3 id="_3">思维导图（方便你转发给同事）</h3>
<div class="highlight"><pre><span></span><code>@startmindmap
skinparam NodeMargin 2
skinparam Padding 2
*[#FFE08A] 知识库落地路线
**[#A0E7E5] 第 1 阶段：全文搜索
***[#CFF5F3] Markdown + Git（可迁移）
***[#CFF5F3] 统一入口（rg / 编辑器搜索）
***[#CFF5F3] 进阶：FTS5 / 搜索服务
**[#B4F8C8] 第 2 阶段：RAG
***[#DBFBE5] 检索（top-k）
***[#DBFBE5] 拼装（去重/截断/排序）
***[#DBFBE5] 约束（引用来源，不知道就说不知道）
***[#DBFBE5] 坑：chunking/新鲜度/权限边界
**[#FBE7C6] 第 3 阶段：Skill / Command
***[#FFF1DC] 固定输入/输出/约束
***[#FFF1DC] 让仓库“会说话”
***[#FFF1DC] 复用到团队流程（review/交付）
**[#CDB4DB] 两条数据流
***[#E5D9EE] 个人：训练场（随意但可检索）
***[#E5D9EE] 项目：说明书（可复现可协作）
@endmindmap
</code></pre></div>

<p><img alt="知识库落地路线思维导图" src="../images/journal_20260205_knowledge_base_rag_mindmap.png"></p>
<hr>
<h2 id="_4">扩展阅读</h2>
<ul>
<li><a href="https://github.com/BurntSushi/ripgrep">ripgrep</a> - 速度很快的全文搜索工具</li>
<li><a href="https://www.sqlite.org/fts5.html">SQLite FTS5</a> - 轻量全文搜索引擎</li>
<li><a href="https://plantuml.com/">PlantUML</a> - 用代码画图（适合放进 repo）</li>
<li><a href="https://github.com/explodinggradients/ragas">Ragas</a> - RAG 评估工具（想严谨一点可以看看）</li>
</ul>
<hr>
<hr/>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/zhi-shi-ku.html">知识库</a>
      <a href="./tag/quan-wen-sou-suo.html">全文搜索</a>
      <a href="./tag/rag.html">RAG</a>
      <a href="./tag/claude-skill.html">Claude Skill</a>
      <a href="./tag/cursor.html">Cursor</a>
      <a href="./tag/xie-zuo-fang-fa.html">写作方法</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./zhi-chang-gong-ju-xiang-zhi-jin-zi-ta-yuan-li.html" title="职场工具箱之金字塔原理">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./yong-ai-agent-chu-li-fu-za-liu-cheng-xian-xie-workflowzai-xie-prompt.html" title="用 AI Agent 处理复杂流程：先写 Workflow，再写 Prompt">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./prompt-gong-cheng-yi-si-shang-xia-wen-gong-cheng-dang-li.html">Prompt 工程已死，上下文工程当立</a></li>
      <li><a href="./rag-jin-jie-zhi-nan-bie-zhi-cheng-zhao-xiang-liang-shu-ju-ku-elasticsearch-cai-shi-sao-di-seng.html">RAG 进阶指南：别只盯着向量数据库，Elasticsearch 才是扫地僧</a></li>
      <li><a href="./agent-skillsgei-ai-zhu-shou-zhuang-shang-ji-neng-bao.html">Agent Skills：给 AI 助手装上"技能包"</a></li>
      <li><a href="./prompt-as-codedang-prompt-bu-zhi-shi-hua-er-shi-ke-zhi-xing-de-cheng-xu.html">Prompt-as-Code：当 Prompt 不只是"话"，而是可执行的"程序"</a></li>
      <li><a href="./cursor-de-san-ban-fu-rules-commands-yu-agent-skills.html">Cursor 的三板斧：Rules, Commands 与 Agent Skills</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备20001876号-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>