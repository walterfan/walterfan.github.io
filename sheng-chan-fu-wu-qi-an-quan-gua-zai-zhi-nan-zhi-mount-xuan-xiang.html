
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Daily minute" />
<meta name="keywords" content="journal, blog">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æŒ‡å—ä¹‹ mount é€‰é¡¹"/>
  <meta property="og:description" content="Daily minute"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./sheng-chan-fu-wu-qi-an-quan-gua-zai-zhi-nan-zhi-mount-xuan-xiang.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2025-11-01 20:20:00+08:00"/>
  <meta property="article:modified_time" content="2025-11-01 22:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="journal"/>
  <meta property="article:tag" content="blog"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æŒ‡å—ä¹‹ mount é€‰é¡¹</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="sheng-chan-fu-wu-qi-an-quan-gua-zai-zhi-nan-zhi-mount-xuan-xiang">ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æŒ‡å—ä¹‹ mount é€‰é¡¹</h1>
    <p>
      Posted on Sat 01 November 2025 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æŒ‡å—ä¹‹ mount é€‰é¡¹</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td>Â <strong>Category</strong>Â Â </td>
<td>Â learningÂ noteÂ Â </td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2025-11-01</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<h1 id="mount">ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æŒ‡å—ï¼šç”¨ mount é€‰é¡¹ä¸ºç³»ç»ŸåŠ ä¸Šæœ€åä¸€é“é˜²çº¿</h1>
<h2 id="_1">ä¸€ã€ä¸ºä»€ä¹ˆè¦å…³å¿ƒæŒ‚è½½å®‰å…¨ï¼Ÿ</h2>
<p>å¤§å¤šæ•°ç”Ÿäº§æœåŠ¡å™¨ä¼šåŒ…å«è¿™äº›ç›®å½•ï¼š</p>
<div class="highlight"><pre><span></span><code>/
â”œâ”€â”€ /home
â”œâ”€â”€ /var
â”‚   â”œâ”€â”€ /tmp
â”‚   â””â”€â”€ /log
â””â”€â”€ /mnt
</code></pre></div>

<p>è¿™äº›ç›®å½•ä¸­ï¼Œæœ‰ä¸€äº›æ˜¯ <strong>é«˜é£é™©åŒºåŸŸ</strong>ï¼š</p>
<ul>
<li><code>/tmp</code>ã€<code>/var/tmp</code>ï¼šç³»ç»Ÿå’Œåº”ç”¨éƒ½ä¼šåœ¨è¿™é‡Œå­˜æ”¾ä¸´æ—¶æ–‡ä»¶ã€‚æ”»å‡»è€…å¸¸æŠŠæ¶æ„äºŒè¿›åˆ¶æˆ–è„šæœ¬æ”¾åœ¨è¿™é‡Œæ‰§è¡Œã€‚</li>
<li><code>/home</code>ï¼šå¼€å‘ã€æµ‹è¯•è´¦å·å¸¸æœ‰è¾ƒé«˜æƒé™ï¼Œå®¹æ˜“æˆä¸ºè·³æ¿ã€‚</li>
<li><code>/mnt</code>ã€<code>/media</code>ï¼šå¤–éƒ¨æŒ‚è½½ç‚¹ï¼Œæ½œåœ¨çš„æœ¨é©¬æ¥æºã€‚</li>
</ul>
<p>å³ä¾¿æˆ‘ä»¬é…ç½®äº†ä¸¥æ ¼çš„æƒé™æ§åˆ¶ï¼Œä¸€æ—¦è¿™äº›åˆ†åŒºå…è®¸æ‰§è¡Œç¨‹åºï¼Œæ”»å‡»è€…å°±èƒ½é€šè¿‡â€œä¸Šä¼ æ–‡ä»¶ + æ‰§è¡Œâ€å®Œæˆä¸€æ¬¡å…¥ä¾µã€‚</p>
<blockquote>
<p>æ‰€ä»¥æ ¸å¿ƒç›®æ ‡æ˜¯ï¼š<strong>é˜²æ­¢éç³»ç»Ÿåˆ†åŒºä¸Šæ‰§è¡Œä»»ä½•ä»£ç ã€‚</strong></p>
</blockquote>
<hr>
<h2 id="_2">äºŒã€æ ¸å¿ƒå®‰å…¨æŒ‚è½½é€‰é¡¹è¯¦è§£</h2>
<p>Linux çš„ <code>mount</code> å‘½ä»¤æ”¯æŒä¸°å¯Œçš„é€‰é¡¹ã€‚å®‰å…¨ç›¸å…³çš„ä¸»è¦æœ‰ä¸‰å¤§ä»¶ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>ä½œç”¨</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>noexec</code></td>
<td>ç¦æ­¢æ‰§è¡ŒäºŒè¿›åˆ¶ç¨‹åº</td>
<td>é˜²æ­¢è¿è¡Œæ¶æ„ ELF æ–‡ä»¶</td>
</tr>
<tr>
<td><code>nosuid</code></td>
<td>ç¦æ­¢ SUID/SGID ç¨‹åºæ‰§è¡Œ</td>
<td>é˜²æ­¢ææƒæ”»å‡»</td>
</tr>
<tr>
<td><code>nodev</code></td>
<td>ç¦æ­¢è§£é‡Šè®¾å¤‡æ–‡ä»¶</td>
<td>é˜²æ­¢ä¼ªé€ è®¾å¤‡èŠ‚ç‚¹æ”»å‡»</td>
</tr>
</tbody>
</table>
<h3 id="1-noexec">1ï¸âƒ£ <code>noexec</code>ï¼šç¦æ­¢æ‰§è¡Œ</h3>
<p>ç¦æ­¢è¯¥æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä»»ä½•å¯æ‰§è¡Œç¨‹åºè¢«å†…æ ¸ç›´æ¥è¿è¡Œã€‚</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>-o<span class="w"> </span>remount,noexec<span class="w"> </span>/tmp
</code></pre></div>

<p>å³ä½¿æ–‡ä»¶æœ‰æ‰§è¡Œæƒé™ï¼ˆ<code>chmod +x</code>ï¼‰ï¼Œä¹Ÿæ— æ³•è¿è¡Œã€‚
ä½†æ˜¯å¯ä»¥é€šè¿‡è§£é‡Šå™¨æ‰§è¡Œï¼Œä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><code>bash<span class="w"> </span>/tmp/script.sh
</code></pre></div>

<hr>
<h3 id="2-nosuid">2ï¸âƒ£ <code>nosuid</code>ï¼šç¦æ­¢ææƒ</h3>
<p>æŸäº›ç¨‹åºå…·æœ‰ <strong>SUID ä½</strong>ï¼ˆæ‰§è¡Œæ—¶è‡ªåŠ¨è·å¾—å±ä¸»æƒé™ï¼‰ï¼Œå¸¸ç”¨äºç³»ç»Ÿå‘½ä»¤å¦‚ <code>/usr/bin/passwd</code>ã€‚
æ”»å‡»è€…å¯èƒ½ä¸Šä¼ ä¸€ä¸ªè‡ªå®šä¹‰ SUID ç¨‹åºå¹¶æ‰§è¡Œï¼Œä»è€Œâ€œææƒâ€ã€‚</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>-o<span class="w"> </span>remount,nosuid<span class="w"> </span>/home
</code></pre></div>

<hr>
<h3 id="3-nodev">3ï¸âƒ£ <code>nodev</code>ï¼šç¦æ­¢ä¼ªé€ è®¾å¤‡æ–‡ä»¶</h3>
<p>Linux ä¸­çš„è®¾å¤‡èŠ‚ç‚¹ï¼ˆå¦‚ <code>/dev/null</code>ï¼‰æœ¬è´¨æ˜¯ç‰¹æ®Šæ–‡ä»¶ã€‚
å¦‚æœæ”»å‡»è€…èƒ½åœ¨æŸä¸ªæŒ‚è½½ç‚¹åˆ›å»ºä¼ªé€ çš„è®¾å¤‡æ–‡ä»¶ï¼Œå¯èƒ½é—´æ¥è®¿é—®ç³»ç»Ÿè®¾å¤‡ã€‚</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>-o<span class="w"> </span>remount,nodev<span class="w"> </span>/mnt/data
</code></pre></div>

<hr>
<h2 id="_3">ä¸‰ã€å®æˆ˜ï¼šç”Ÿäº§ç¯å¢ƒå®‰å…¨æŒ‚è½½æ–¹æ¡ˆ</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä»½å…¸å‹çš„ <code>/etc/fstab</code> ç¤ºä¾‹ï¼Œé’ˆå¯¹ä¸åŒç›®å½•ä½¿ç”¨äº†ä¸åŒçš„å®‰å…¨ç­–ç•¥ã€‚</p>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/fstab ç¤ºä¾‹</span>
<span class="c1"># &lt;device&gt;    &lt;mountpoint&gt;  &lt;type&gt;  &lt;options&gt;                         &lt;dump&gt; &lt;pass&gt;</span>
<span class="nv">UUID</span><span class="o">=</span>xxxxxx<span class="w">   </span>/<span class="w">              </span>ext4<span class="w">    </span>defaults,errors<span class="o">=</span>remount-ro<span class="w">        </span><span class="m">0</span><span class="w"> </span><span class="m">1</span>
<span class="nv">UUID</span><span class="o">=</span>yyyyyy<span class="w">   </span>/home<span class="w">          </span>ext4<span class="w">    </span>defaults,nodev,nosuid<span class="w">             </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
<span class="nv">UUID</span><span class="o">=</span>zzzzzz<span class="w">   </span>/tmp<span class="w">           </span>ext4<span class="w">    </span>defaults,noexec,nosuid,nodev<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
<span class="nv">UUID</span><span class="o">=</span>aaaaaa<span class="w">   </span>/var<span class="w">           </span>ext4<span class="w">    </span>defaults,nodev,nosuid<span class="w">             </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
<span class="nv">UUID</span><span class="o">=</span>bbbbbb<span class="w">   </span>/var/tmp<span class="w">       </span>ext4<span class="w">    </span>defaults,noexec,nosuid,nodev<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
<span class="nv">UUID</span><span class="o">=</span>cccccc<span class="w">   </span>/mnt/data<span class="w">      </span>ext4<span class="w">    </span>defaults,noexec,nodev,nosuid<span class="w">      </span><span class="m">0</span><span class="w"> </span><span class="m">2</span>
</code></pre></div>

<blockquote>
<p>ğŸ” è¯´æ˜ï¼š</p>
<ul>
<li><code>/tmp</code>ã€<code>/var/tmp</code> ç¦æ­¢æ‰§è¡Œã€ç¦æ­¢ suidã€ç¦æ­¢è®¾å¤‡æ–‡ä»¶ï¼›</li>
<li><code>/home</code> ç¦æ­¢è®¾å¤‡æ–‡ä»¶ä¸ SUIDï¼›</li>
<li><code>/var</code> é€šå¸¸å­˜æ”¾æ—¥å¿—ã€ç¼“å­˜ï¼Œä¹Ÿä¸åº”æ‰§è¡Œä»£ç ï¼›</li>
<li><code>/mnt/data</code>ï¼ˆå¤–éƒ¨æ•°æ®ç›˜ï¼‰åŒæ ·å¦‚æ­¤ã€‚</li>
</ul>
</blockquote>
<p>é‡æ–°åŠ è½½æŒ‚è½½ï¼š</p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>mount<span class="w"> </span>-a
</code></pre></div>

<p>éªŒè¯ï¼š</p>
<div class="highlight"><pre><span></span><code>findmnt<span class="w"> </span>-o<span class="w"> </span>TARGET,OPTIONS
</code></pre></div>

<hr>
<h2 id="_4">å››ã€è¿›é˜¶ç­–ç•¥ï¼šåªè¯»ä¸ç‹¬ç«‹åˆ†åŒº</h2>
<p>é™¤äº†ä¸Šè¿°ä¸‰ä¸ªé€‰é¡¹ï¼Œè¿˜æœ‰ä¸€äº›æ›´æ¿€è¿›çš„å®‰å…¨åšæ³•ï¼š</p>
<table>
<thead>
<tr>
<th>é€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>ro</code></td>
<td>æŒ‚è½½ä¸ºåªè¯»ï¼ˆRead Onlyï¼‰</td>
</tr>
<tr>
<td><code>noatime</code></td>
<td>ä¸æ›´æ–°è®¿é—®æ—¶é—´ï¼Œå‡å°‘å†™å…¥å‹åŠ›</td>
</tr>
<tr>
<td><code>hidepid=2</code>ï¼ˆ/proc æŒ‚è½½æ—¶ï¼‰</td>
<td>éšè—å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ä¿¡æ¯</td>
</tr>
</tbody>
</table>
<p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>-o<span class="w"> </span>remount,ro<span class="w"> </span>/boot
</code></pre></div>

<p>å¯é˜²æ­¢ç¯¡æ”¹å†…æ ¸æˆ–å¼•å¯¼æ–‡ä»¶ã€‚</p>
<hr>
<h2 id="_5">äº”ã€å®‰å…¨æŒ‚è½½ç­–ç•¥æ€»ç»“è¡¨</h2>
<table>
<thead>
<tr>
<th>ç›®å½•</th>
<th>æ¨èé€‰é¡¹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/</code></td>
<td><code>defaults</code></td>
<td>æ ¹ç›®å½•ä¿æŒé»˜è®¤</td>
</tr>
<tr>
<td><code>/boot</code></td>
<td><code>ro,nodev,nosuid,noexec</code></td>
<td>åªè¯»é˜²ç¯¡æ”¹</td>
</tr>
<tr>
<td><code>/home</code></td>
<td><code>nodev,nosuid</code></td>
<td>ç”¨æˆ·ç›®å½•ä¸å…è®¸è®¾å¤‡æ–‡ä»¶å’Œ suid</td>
</tr>
<tr>
<td><code>/tmp</code></td>
<td><code>noexec,nosuid,nodev</code></td>
<td>ä¸´æ—¶ç›®å½•ç¦æ‰§è¡Œ</td>
</tr>
<tr>
<td><code>/var/tmp</code></td>
<td>åŒ <code>/tmp</code></td>
<td>ä¸´æ—¶æ–‡ä»¶ç›®å½•</td>
</tr>
<tr>
<td><code>/var/log</code></td>
<td><code>nodev,nosuid,noexec</code></td>
<td>é˜²æ­¢æ—¥å¿—æ‰§è¡Œ</td>
</tr>
<tr>
<td><code>/mnt</code>, <code>/media</code></td>
<td><code>noexec,nosuid,nodev</code></td>
<td>å¤–éƒ¨è®¾å¤‡æŒ‚è½½ç‚¹</td>
</tr>
<tr>
<td><code>/dev/shm</code></td>
<td><code>noexec,nosuid,nodev</code></td>
<td>å…±äº«å†…å­˜åŒºï¼ˆé˜²æ”»å‡»ï¼‰</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="_6">å…­ã€éªŒè¯ä¸æ’æŸ¥</h2>
<p>æŸ¥çœ‹å½“å‰æŒ‚è½½çŠ¶æ€ï¼š</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>-E<span class="w"> </span><span class="s1">&#39;noexec|nosuid|nodev&#39;</span>
</code></pre></div>

<p>ä¸´æ—¶ä¿®æ”¹ï¼ˆæµ‹è¯•ï¼‰ï¼š</p>
<div class="highlight"><pre><span></span><code>mount<span class="w"> </span>-o<span class="w"> </span>remount,noexec,nosuid,nodev<span class="w"> </span>/tmp
</code></pre></div>

<p>éªŒè¯æ•ˆæœï¼š</p>
<div class="highlight"><pre><span></span><code>touch<span class="w"> </span>/tmp/test.sh
chmod<span class="w"> </span>+x<span class="w"> </span>/tmp/test.sh
/tmp/test.sh<span class="w">  </span><span class="c1"># =&gt; Permission denied</span>
</code></pre></div>

<hr>
<h2 id="_7">ä¸ƒã€ç»“è¯­ï¼šå®‰å…¨ä»ç»†èŠ‚å¼€å§‹</h2>
<p><img alt="" src="./images/production-server-security-mount.png"></p>
<div class="highlight"><pre><span></span><code>@startuml
title ç”Ÿäº§æœåŠ¡å™¨å®‰å…¨æŒ‚è½½æ¶æ„å›¾

skinparam rectangle {
  BackgroundColor&lt;&lt;secure&gt;&gt; #E0FFE0
  BackgroundColor&lt;&lt;risk&gt;&gt; #FFE0E0
  BackgroundColor&lt;&lt;system&gt;&gt; #E0E0FF
  BorderColor black
  Shadowing false
  RoundCorner 10
}
skinparam packageStyle rectangle
skinparam defaultTextAlignment center

rectangle &quot;æ“ä½œç³»ç»Ÿå±‚&quot; &lt;&lt;system&gt;&gt; {
  rectangle &quot;å†…æ ¸ï¼ˆKernelï¼‰&quot; as kernel
  rectangle &quot;æŒ‚è½½å­ç³»ç»Ÿï¼ˆVFS, Mount Managerï¼‰&quot; as vfs
}

rectangle &quot;æ–‡ä»¶ç³»ç»Ÿå±‚&quot; {
  rectangle &quot;/ (root)&quot; as root &lt;&lt;system&gt;&gt;
  rectangle &quot;/home&quot; as home &lt;&lt;secure&gt;&gt;
  rectangle &quot;/var&quot; as var &lt;&lt;secure&gt;&gt;
  rectangle &quot;/tmp&quot; as tmp &lt;&lt;secure&gt;&gt;
  rectangle &quot;/mnt/data&quot; as mnt &lt;&lt;secure&gt;&gt;
  rectangle &quot;/boot&quot; as boot &lt;&lt;secure&gt;&gt;
}

rectangle &quot;å®‰å…¨ç­–ç•¥å±‚&quot; {
  rectangle &quot;noexec\nç¦æ­¢æ‰§è¡Œ&quot; as noexec &lt;&lt;secure&gt;&gt;
  rectangle &quot;nosuid\nç¦æ­¢ SUID ææƒ&quot; as nosuid &lt;&lt;secure&gt;&gt;
  rectangle &quot;nodev\nç¦æ­¢ä¼ªé€ è®¾å¤‡æ–‡ä»¶&quot; as nodev &lt;&lt;secure&gt;&gt;
  rectangle &quot;ro\nåªè¯»ä¿æŠ¤&quot; as ro &lt;&lt;secure&gt;&gt;
}

rectangle &quot;åº”ç”¨å±‚&quot; {
  rectangle &quot;ç³»ç»ŸæœåŠ¡\nï¼ˆnginx, sshd, mysqlï¼‰&quot; as apps
  rectangle &quot;ç”¨æˆ·è¿›ç¨‹\nï¼ˆshell, python, go...ï¼‰&quot; as userproc
  rectangle &quot;æ½œåœ¨æ”»å‡»è€…è¡Œä¸º\nï¼ˆä¸Šä¼ æ¶æ„äºŒè¿›åˆ¶ã€ææƒï¼‰&quot; as attacker &lt;&lt;risk&gt;&gt;
}

kernel -down-&gt; vfs
vfs -down-&gt; root
vfs -down-&gt; home
vfs -down-&gt; var
vfs -down-&gt; tmp
vfs -down-&gt; mnt
vfs -down-&gt; boot

noexec -[dashed]-&gt; tmp
noexec -[dashed]-&gt; mnt
nosuid -[dashed]-&gt; home
nosuid -[dashed]-&gt; var
nodev -[dashed]-&gt; mnt
ro -[dashed]-&gt; boot

apps -down-&gt; var
apps -down-&gt; tmp
userproc -down-&gt; home
attacker -[dashed]-&gt; tmp : ä¸Šä¼ å¯æ‰§è¡Œæ–‡ä»¶\nğŸš« è¢« noexec æ‹¦æˆª
attacker -[dashed]-&gt; home : å°è¯•ææƒ\nğŸš« è¢« nosuid æ‹¦æˆª
attacker -[dashed]-&gt; mnt : åˆ›å»ºè®¾å¤‡èŠ‚ç‚¹\nğŸš« è¢« nodev æ‹¦æˆª

legend left
== å›¾ä¾‹ ==
- è“è‰²ï¼šç³»ç»Ÿæ ¸å¿ƒ
- ç»¿è‰²ï¼šå®‰å…¨æŒ‚è½½ç›®å½•
- çº¢è‰²ï¼šæ½œåœ¨é£é™©ç‚¹
endlegend

@enduml
</code></pre></div>

<p>å®‰å…¨æŒ‚è½½å¬èµ·æ¥å¾®ä¸è¶³é“ï¼Œä½†å®ƒå¾€å¾€æ˜¯é˜»æ­¢æ”»å‡»é“¾ä¸­å…³é”®çš„ä¸€ç¯ã€‚
ä¸€æ—¦æ”»å‡»è€…æ— æ³•åœ¨ç³»ç»Ÿä¸­æ‰§è¡Œæ¶æ„æ–‡ä»¶ï¼Œå¾ˆå¤šåç»­è¡Œä¸ºï¼ˆææƒã€æŒä¹…åŒ–ã€æ¨ªå‘ç§»åŠ¨ï¼‰éƒ½ä¼šè¢«ç›´æ¥é˜»æ–­ã€‚</p>
<blockquote>
<p><strong>åˆ«å¿˜äº†ï¼šå®‰å…¨ä¸æ­¢åœ¨ç½‘ç»œè¾¹ç•Œï¼Œä¹Ÿè—åœ¨æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½é€‰é¡¹é‡Œã€‚</strong></p>
</blockquote>
<hr>
<h3 id="_8">ğŸ” æ¨èå®è·µæ¸…å•</h3>
<p>âœ… <code>/tmp</code>, <code>/var/tmp</code>, <code>/dev/shm</code> â†’ <code>noexec,nosuid,nodev</code>
âœ… <code>/boot</code> â†’ <code>ro,nodev,nosuid,noexec</code>
âœ… <code>/home</code>, <code>/var</code> â†’ <code>nodev,nosuid</code>
âœ… å®šæœŸå®¡æŸ¥ <code>/etc/fstab</code>
âœ… ç›‘æ§ <code>mount</code> çŠ¶æ€å˜åŒ–ï¼ˆå¯ç”¨ auditd æˆ– systemd unit ç›‘æ§ï¼‰</p>
<hr/>
<p>æœ¬ä½œå“é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/journal.html">journal</a>
      <a href="./tag/blog.html">blog</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./cheng-xu-yuan-de-wei-lai-zai-na-li.html" title="ç¨‹åºå‘˜çš„æœªæ¥åœ¨å“ªé‡Œ">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./vibe-bian-cheng-de-xin-fan-shi-zai-ai-shi-dai-zhong-xin-ding-yi-ruan-jian-kai-fa.html" title="Vibe ç¼–ç¨‹çš„æ–°èŒƒå¼ï¼šåœ¨ AI æ—¶ä»£é‡æ–°å®šä¹‰è½¯ä»¶å¼€å‘">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./operator-terraform-dui-chuan-tong-yun-wei-de-gai-bian.html">Operator + Terraform å¯¹ä¼ ç»Ÿè¿ç»´çš„æ”¹å˜</a></li>
      <li><a href="./shi-yong-di-yi-xing-yuan-li-zuo-jia-gou-she-ji.html">ä½¿ç”¨ç¬¬ä¸€æ€§åŸç†åšæ¶æ„è®¾è®¡</a></li>
      <li><a href="./zhi-chang-zhong-na-xie-huo-de-zui-jiu-de-fang-fa-lun-suo-xie.html">èŒåœºä¸­é‚£äº›â€œæ´»å¾—æœ€ä¹…â€çš„æ–¹æ³•è®ºç¼©å†™</a></li>
      <li><a href="./zui-tong-yong-de-6-da-yan-jiang-kuang-jia.html">æœ€é€šç”¨çš„ 6 å¤§æ¼”è®²æ¡†æ¶</a></li>
      <li><a href="./bie-liao-2025.html">åˆ«äº†, 2025</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>