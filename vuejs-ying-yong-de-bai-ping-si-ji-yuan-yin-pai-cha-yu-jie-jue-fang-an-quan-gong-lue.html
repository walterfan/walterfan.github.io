
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="Vue åº”ç”¨æ‰“åŒ…éƒ¨ç½²åä¸€ç‰‡ç©ºç™½ï¼Ÿæ§åˆ¶å°æŠ¥ 404ï¼Ÿæœ¬åœ°è·‘å¾—å¥½å¥½çš„ï¼Œä¸Šçº¿å°±ç™½ç»™ï¼Ÿè¿™ç¯‡æ–‡ç« å¸®ä½ ç³»ç»Ÿæ’æŸ¥ Vue.js ç™½å±é—®é¢˜çš„ä¸ƒå¤§å…ƒå‡¶ï¼Œé™„å¸¦å¯ç›´æ¥æŠ„çš„è§£å†³æ–¹æ¡ˆã€‚" />
<meta name="keywords" content="Vue.js, frontend, debugging, deployment, troubleshooting">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="Vue.js åº”ç”¨çš„&#34;ç™½å±æ­»æœº&#34;ï¼šåŸå› æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆå…¨æ”»ç•¥"/>
  <meta property="og:description" content="Vue åº”ç”¨æ‰“åŒ…éƒ¨ç½²åä¸€ç‰‡ç©ºç™½ï¼Ÿæ§åˆ¶å°æŠ¥ 404ï¼Ÿæœ¬åœ°è·‘å¾—å¥½å¥½çš„ï¼Œä¸Šçº¿å°±ç™½ç»™ï¼Ÿè¿™ç¯‡æ–‡ç« å¸®ä½ ç³»ç»Ÿæ’æŸ¥ Vue.js ç™½å±é—®é¢˜çš„ä¸ƒå¤§å…ƒå‡¶ï¼Œé™„å¸¦å¯ç›´æ¥æŠ„çš„è§£å†³æ–¹æ¡ˆã€‚"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./vuejs-ying-yong-de-bai-ping-si-ji-yuan-yin-pai-cha-yu-jie-jue-fang-an-quan-gong-lue.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-02-03 14:00:00+08:00"/>
  <meta property="article:modified_time" content="2026-02-03 14:00:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Journal"/>
  <meta property="article:tag" content="Vue.js"/>
  <meta property="article:tag" content="frontend"/>
  <meta property="article:tag" content="debugging"/>
  <meta property="article:tag" content="deployment"/>
  <meta property="article:tag" content="troubleshooting"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; Vue.js åº”ç”¨çš„&#34;ç™½å±æ­»æœº&#34;ï¼šåŸå› æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆå…¨æ”»ç•¥</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>æ‰‹æ¡çµç å¸¸å¥‹ç¬”, å¿ƒå¼€å¤©ç±ä¸å¹ç®«</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="vuejs-ying-yong-de-bai-ping-si-ji-yuan-yin-pai-cha-yu-jie-jue-fang-an-quan-gong-lue">Vue.js åº”ç”¨çš„"ç™½å±æ­»æœº"ï¼šåŸå› æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆå…¨æ”»ç•¥</h1>
    <p>
      Posted on Tue 03 February 2026 in <a href="./category/journal.html">Journal</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>Vue.js åº”ç”¨çš„"ç™½å±æ­»æœº"ï¼šåŸå› æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆå…¨æ”»ç•¥</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td><strong>Category</strong></td>
<td>learning note</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2026-02-03</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<h1 id="vuejs">Vue.js åº”ç”¨çš„"ç™½å±æ­»æœº"ï¼šåŸå› æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆå…¨æ”»ç•¥</h1>
<h2 id="_1">å¼•å­ï¼šä¸€ä¸ªè®©äººå´©æºƒçš„å‘¨äº”ä¸‹åˆ</h2>
<p>ä¸‹åˆå››ç‚¹ï¼Œä½ ä¿¡å¿ƒæ»¡æ»¡åœ°æŠŠ Vue é¡¹ç›®æ‰“åŒ…ä¸Šçº¿ã€‚<code>npm run build</code>ï¼ŒæˆåŠŸã€‚æŠŠ <code>dist</code> ç›®å½•æ‰”åˆ°æœåŠ¡å™¨ä¸Šï¼Œé…ç½®å¥½ Nginxã€‚æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ï¼Œå›è½¦â€”â€”</p>
<p><strong>ä¸€ç‰‡ç©ºç™½ã€‚</strong></p>
<p>ä½ æ„£äº†ä¸‰ç§’ï¼Œåˆ·æ–°ã€‚è¿˜æ˜¯ç™½çš„ã€‚æ‰“å¼€æ§åˆ¶å°ï¼Œä¸€å †çº¢è‰² 404ã€‚æœ¬åœ° <code>npm run serve</code> è·‘å¾—å¥½å¥½çš„å•Šï¼</p>
<p>è¿™ä¸ªåœºæ™¯ï¼Œæˆ‘ç»å†è¿‡ä¸ä¸‹åæ¬¡ã€‚æ¯æ¬¡éƒ½è§‰å¾—æ˜¯"çµå¼‚äº‹ä»¶"ï¼Œä½†å…¶å®èƒŒåçš„åŸå› å°±é‚£ä¹ˆå‡ ä¸ªã€‚ä»Šå¤©æˆ‘æŠŠè¿™äº›å¹´è¸©è¿‡çš„å‘æ•´ç†å‡ºæ¥ï¼Œä¸‹æ¬¡å†é‡åˆ°ç™½å±ï¼Œç…§ç€è¿™ä»½æ¸…å•æ’æŸ¥ï¼Œäº”åˆ†é’Ÿå†…å®šä½é—®é¢˜ã€‚</p>
<p>è¯»å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ èƒ½å¸¦èµ°ï¼š</p>
<ol>
<li>Vue ç™½å±çš„ <strong>ä¸ƒå¤§å¸¸è§åŸå› </strong> åŠå…¶åŸç†</li>
<li>æ¯ç§åŸå› å¯¹åº”çš„ <strong>æ’æŸ¥æ–¹æ³•å’Œè§£å†³æ–¹æ¡ˆ</strong></li>
<li>ä¸€ä»½ <strong>éƒ¨ç½²å‰è‡ªæ£€ Checklist</strong></li>
<li>ä¸€äº› <strong>é˜²æ‚£äºæœªç„¶</strong> çš„æœ€ä½³å®è·µ</li>
</ol>
<hr>
<h2 id="_2">ä¸€ã€å…ˆåˆ«æ…Œï¼šå¿«é€Ÿå®šä½é—®é¢˜æ–¹å‘</h2>
<p>åœ¨å¼€å§‹é€ä¸ªæ’æŸ¥ä¹‹å‰ï¼Œå…ˆåšä¸¤ä¸ªç®€å•æµ‹è¯•ï¼š</p>
<h3 id="11">1.1 æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°</h3>
<p>æŒ‰ <code>F12</code> æˆ– <code>Cmd+Option+I</code>ï¼Œçœ‹ Console å’Œ Network æ ‡ç­¾é¡µï¼š</p>
<table>
<thead>
<tr>
<th>ç°è±¡</th>
<th>å¯èƒ½åŸå› </th>
</tr>
</thead>
<tbody>
<tr>
<td>æ§åˆ¶å°æœ‰çº¢è‰² 404 é”™è¯¯</td>
<td>èµ„æºè·¯å¾„é…ç½®é”™è¯¯</td>
</tr>
<tr>
<td>æ§åˆ¶å°æœ‰ JS æŠ¥é”™</td>
<td>ä»£ç å…¼å®¹æ€§é—®é¢˜æˆ–æ‰“åŒ…é…ç½®é”™è¯¯</td>
</tr>
<tr>
<td>Network æ˜¾ç¤º HTML è¿”å›äº† 404</td>
<td>æœåŠ¡å™¨è·¯ç”±é…ç½®é—®é¢˜</td>
</tr>
<tr>
<td>ä»€ä¹ˆé”™éƒ½æ²¡æœ‰ï¼Œå°±æ˜¯ç™½</td>
<td>å¯èƒ½æ˜¯ <code>#app</code> æ²¡æŒ‚è½½ä¸Šï¼Œæˆ– JS æ‰§è¡Œé¡ºåºé—®é¢˜</td>
</tr>
</tbody>
</table>
<h3 id="12">1.2 æŸ¥çœ‹é¡µé¢æºä»£ç </h3>
<p>å³é”® â†’ æŸ¥çœ‹ç½‘é¡µæºä»£ç ã€‚å¦‚æœä½ çœ‹åˆ°çš„æ˜¯ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My App<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/js/chunk-vendors.xxxxx.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;/js/app.xxxxx.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;app&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>ä½† <code>&lt;div id="app"&gt;</code> é‡Œé¢æ˜¯ç©ºçš„â€”â€”æ­å–œï¼Œé—®é¢˜å‡ºåœ¨ <strong>JavaScript åŠ è½½æˆ–æ‰§è¡Œ</strong> é˜¶æ®µã€‚</p>
<hr>
<h2 id="_3">äºŒã€ä¸ƒå¤§å…ƒå‡¶é€ä¸ªå‡»ç ´</h2>
<h3 id="1publicpath">å…ƒå‡¶ 1ï¼š<code>publicPath</code> é…ç½®é”™è¯¯ï¼ˆæœ€å¸¸è§ï¼ï¼‰</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šæ§åˆ¶å° 404ï¼Œèµ„æºè·¯å¾„æ˜¯ <code>/js/app.xxx.js</code>ï¼Œä½†å®é™…åº”è¯¥æ˜¯ <code>/myapp/js/app.xxx.js</code>ã€‚</p>
<p><strong>åŸå› </strong>ï¼šä½ çš„åº”ç”¨ä¸æ˜¯éƒ¨ç½²åœ¨åŸŸåæ ¹ç›®å½•ï¼Œè€Œæ˜¯å­è·¯å¾„ï¼ˆæ¯”å¦‚ <code>https://example.com/myapp/</code>ï¼‰ï¼Œä½†æ‰“åŒ…æ—¶ <code>publicPath</code> è¿˜æ˜¯é»˜è®¤çš„ <code>/</code>ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<p><strong>Vue CLIï¼ˆvue.config.jsï¼‰</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// vue.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">publicPath</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;production&#39;</span>
<span class="w">    </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;/myapp/&#39;</span><span class="w">  </span><span class="c1">// ä½ çš„å­è·¯å¾„ï¼Œæ³¨æ„å‰åéƒ½è¦æœ‰æ–œæ </span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Viteï¼ˆvite.config.jsï¼‰</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// vite.config.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">defineConfig</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vite&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="nx">vue</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@vitejs/plugin-vue&#39;</span>

<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">defineConfig</span><span class="p">({</span>
<span class="w">  </span><span class="nx">base</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/myapp/&#39;</span><span class="p">,</span><span class="w">  </span><span class="c1">// Vite ç”¨ base è€Œä¸æ˜¯ publicPath</span>
<span class="w">  </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">vue</span><span class="p">()]</span>
<span class="p">})</span>
</code></pre></div>

<p><strong>è¸©å‘æé†’</strong>ï¼š
- è·¯å¾„è¦ä»¥ <code>/</code> å¼€å¤´å’Œç»“å°¾ï¼š<code>/myapp/</code> è€Œä¸æ˜¯ <code>myapp</code>
- å¦‚æœéƒ¨ç½²åœ¨æ ¹ç›®å½•ï¼Œå°±ç”¨ <code>/</code> æˆ– <code>./</code>
- <code>./</code> è¡¨ç¤ºç›¸å¯¹è·¯å¾„ï¼Œé€‚åˆä¸ç¡®å®šéƒ¨ç½²ä½ç½®çš„æƒ…å†µ</p>
<hr>
<h3 id="2vue-router-history-vs-hash">å…ƒå‡¶ 2ï¼šVue Router çš„ History æ¨¡å¼ vs Hash æ¨¡å¼</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šé¦–é¡µèƒ½æ‰“å¼€ï¼Œä½†åˆ·æ–°é¡µé¢æˆ–ç›´æ¥è®¿é—®å­è·¯ç”±å°± 404ã€‚</p>
<p><strong>åŸå› </strong>ï¼šVue Router çš„ <code>history</code> æ¨¡å¼ä¾èµ–æœåŠ¡å™¨é…ç½®ã€‚å½“ç”¨æˆ·è®¿é—® <code>/about</code> æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå»æ‰¾ <code>/about/index.html</code>ï¼Œæ‰¾ä¸åˆ°å°± 404ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<p><strong>æ–¹æ¡ˆ Aï¼šæ”¹ç”¨ Hash æ¨¡å¼ï¼ˆç®€å•ç²—æš´ï¼‰</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// router/index.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createRouter</span><span class="p">,</span><span class="w"> </span><span class="nx">createWebHashHistory</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue-router&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createRouter</span><span class="p">({</span>
<span class="w">  </span><span class="nx">history</span><span class="o">:</span><span class="w"> </span><span class="nx">createWebHashHistory</span><span class="p">(),</span><span class="w">  </span><span class="c1">// æ”¹æˆ Hash æ¨¡å¼</span>
<span class="w">  </span><span class="nx">routes</span><span class="o">:</span><span class="w"> </span><span class="p">[...]</span>
<span class="p">})</span>
</code></pre></div>

<p>URL ä¼šå˜æˆ <code>https://example.com/#/about</code>ï¼Œä¸‘æ˜¯ä¸‘äº†ç‚¹ï¼Œä½†çœå¿ƒã€‚</p>
<p><strong>æ–¹æ¡ˆ Bï¼šé…ç½®æœåŠ¡å™¨ Fallbackï¼ˆæ¨èï¼‰</strong></p>
<p>è®©æœåŠ¡å™¨å¯¹æ‰€æœ‰è·¯ç”±éƒ½è¿”å› <code>index.html</code>ï¼Œç”±å‰ç«¯ Router æ¥ç®¡ã€‚</p>
<p><strong>Nginx é…ç½®</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">example.com</span><span class="p">;</span>
<span class="w">    </span><span class="kn">root</span><span class="w"> </span><span class="s">/var/www/myapp</span><span class="p">;</span>
<span class="w">    </span><span class="kn">index</span><span class="w"> </span><span class="s">index.html</span><span class="p">;</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">try_files</span><span class="w"> </span><span class="nv">$uri</span><span class="w"> </span><span class="nv">$uri/</span><span class="w"> </span><span class="s">/index.html</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1"># å¦‚æœéƒ¨ç½²åœ¨å­è·¯å¾„</span>
<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/myapp/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">alias</span><span class="w"> </span><span class="s">/var/www/myapp/</span><span class="p">;</span>
<span class="w">        </span><span class="kn">try_files</span><span class="w"> </span><span class="nv">$uri</span><span class="w"> </span><span class="nv">$uri/</span><span class="w"> </span><span class="s">/myapp/index.html</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Apache é…ç½®ï¼ˆ.htaccessï¼‰</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="nt">&lt;IfModule</span><span class="w"> </span><span class="s">mod_rewrite.c</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nb">RewriteEngine</span><span class="w"> </span><span class="k">On</span>
<span class="w">  </span><span class="nb">RewriteBase</span><span class="w"> </span>/
<span class="w">  </span><span class="nb">RewriteRule</span><span class="w"> </span>^index\.html$<span class="w"> </span>-<span class="w"> </span>[L]
<span class="w">  </span><span class="nb">RewriteCond</span><span class="w"> </span>%{REQUEST_FILENAME}<span class="w"> </span>!-f
<span class="w">  </span><span class="nb">RewriteCond</span><span class="w"> </span>%{REQUEST_FILENAME}<span class="w"> </span>!-d
<span class="w">  </span><span class="nb">RewriteRule</span><span class="w"> </span>.<span class="w"> </span><span class="sx">/index.html</span><span class="w"> </span>[L]
<span class="nt">&lt;/IfModule&gt;</span>
</code></pre></div>

<p><strong>Vercelï¼ˆvercel.jsonï¼‰</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;rewrites&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/(.*)&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;destination&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/index.html&quot;</span><span class="w"> </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<hr>
<h3 id="3-base-publicpath">å…ƒå‡¶ 3ï¼šè·¯ç”±çš„ <code>base</code> é…ç½®å’Œ <code>publicPath</code> ä¸ä¸€è‡´</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šèµ„æºèƒ½åŠ è½½ï¼Œä½†è·¯ç”±è·³è½¬ä¸å¯¹ï¼Œæˆ–è€…è·³è½¬åç™½å±ã€‚</p>
<p><strong>åŸå› </strong>ï¼š<code>vue.config.js</code> çš„ <code>publicPath</code> å’Œ <code>router</code> çš„ <code>base</code> é…ç½®ä¸ä¸€è‡´ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä¿æŒä¸€è‡´ï¼</p>
<div class="highlight"><pre><span></span><code><span class="c1">// vue.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">publicPath</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/myapp/&#39;</span>
<span class="p">}</span>

<span class="c1">// router/index.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">createRouter</span><span class="p">,</span><span class="w"> </span><span class="nx">createWebHistory</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue-router&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createRouter</span><span class="p">({</span>
<span class="w">  </span><span class="nx">history</span><span class="o">:</span><span class="w"> </span><span class="nx">createWebHistory</span><span class="p">(</span><span class="s1">&#39;/myapp/&#39;</span><span class="p">),</span><span class="w">  </span><span class="c1">// å’Œ publicPath ä¿æŒä¸€è‡´</span>
<span class="w">  </span><span class="nx">routes</span><span class="o">:</span><span class="w"> </span><span class="p">[...]</span>
<span class="p">})</span>
</code></pre></div>

<p><strong>Vite + Vue Router 4</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// vite.config.js</span>
<span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">defineConfig</span><span class="p">({</span>
<span class="w">  </span><span class="nx">base</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/myapp/&#39;</span>
<span class="p">})</span>

<span class="c1">// router/index.js</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createRouter</span><span class="p">({</span>
<span class="w">  </span><span class="nx">history</span><span class="o">:</span><span class="w"> </span><span class="nx">createWebHistory</span><span class="p">(</span><span class="k">import</span><span class="p">.</span><span class="nx">meta</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">BASE_URL</span><span class="p">),</span><span class="w">  </span><span class="c1">// è‡ªåŠ¨è¯»å– base</span>
<span class="w">  </span><span class="nx">routes</span><span class="o">:</span><span class="w"> </span><span class="p">[...]</span>
<span class="p">})</span>
</code></pre></div>

<hr>
<h3 id="4javascript">å…ƒå‡¶ 4ï¼šJavaScript æ‰§è¡Œé”™è¯¯å¯¼è‡´æ¸²æŸ“ä¸­æ–­</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šæ§åˆ¶å°æœ‰çº¢è‰² JS æŠ¥é”™ï¼Œ<code>#app</code> é‡Œé¢æ˜¯ç©ºçš„ã€‚</p>
<p><strong>å¸¸è§æŠ¥é”™</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code>Uncaught TypeError: Cannot read properties of undefined (reading &#39;xxx&#39;)
Uncaught ReferenceError: xxx is not defined
</code></pre></div>

<p><strong>åŸå› </strong>ï¼š
- ä»£ç é‡Œç”¨äº†æŸäº› APIï¼Œç”Ÿäº§ç¯å¢ƒä¸æ”¯æŒ
- ä¾èµ–çš„åº“ç‰ˆæœ¬ä¸å…¼å®¹
- ä»£ç é€»è¾‘æœ‰ bugï¼Œä½†æœ¬åœ°æ²¡æµ‹åˆ°</p>
<p><strong>æ’æŸ¥æ–¹æ³•</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// main.js - æ·»åŠ å…¨å±€é”™è¯¯æ•è·</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">errorHandler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">err</span><span class="p">,</span><span class="w"> </span><span class="nx">vm</span><span class="p">,</span><span class="w"> </span><span class="nx">info</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Vue Error:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">err</span><span class="p">)</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Component:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">vm</span><span class="p">)</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Info:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">info</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// æˆ–è€…åœ¨ window ä¸Šæ•è·</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="p">,</span><span class="w"> </span><span class="nx">lineno</span><span class="p">,</span><span class="w"> </span><span class="nx">colno</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Global Error:&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">message</span><span class="p">,</span><span class="w"> </span><span class="nx">source</span><span class="p">,</span><span class="w"> </span><span class="nx">lineno</span><span class="p">,</span><span class="w"> </span><span class="nx">colno</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="w"> </span><span class="p">})</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>æ£€æŸ¥æµè§ˆå™¨å…¼å®¹æ€§</strong>ï¼šç”¨ <a href="https://caniuse.com/">Can I Use</a> æŸ¥ä½ ç”¨çš„ API</li>
<li><strong>æ·»åŠ  Polyfill</strong>ï¼š</li>
</ol>
<div class="highlight"><pre><span></span><code>npm<span class="w"> </span>install<span class="w"> </span>core-js
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// main.js é¡¶éƒ¨</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;core-js/stable&#39;</span>
</code></pre></div>

<ol>
<li><strong>æ£€æŸ¥å¯é€‰é“¾æ“ä½œç¬¦</strong>ï¼šç¡®ä¿æ„å»ºå·¥å…·æ”¯æŒ <code>?.</code> è¯­æ³•</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="c1">// babel.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">presets</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="s1">&#39;@vue/cli-plugin-babel/preset&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">useBuiltIns</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;usage&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">corejs</span><span class="o">:</span><span class="w"> </span><span class="mf">3</span>
<span class="w">    </span><span class="p">}]</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<hr>
<h3 id="5">å…ƒå‡¶ 5ï¼šå¼‚æ­¥ç»„ä»¶åŠ è½½å¤±è´¥</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šé¦–é¡µèƒ½æ˜¾ç¤ºï¼Œä½†æŸäº›é¡µé¢ç™½å±ï¼Œæ§åˆ¶å°æœ‰ chunk åŠ è½½å¤±è´¥çš„é”™è¯¯ã€‚</p>
<p><strong>å¸¸è§æŠ¥é”™</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code>Loading chunk xxx failed.
ChunkLoadError: Loading chunk xxx failed.
</code></pre></div>

<p><strong>åŸå› </strong>ï¼š
- CDN æˆ–æœåŠ¡å™¨æ²¡æœ‰è¿”å›æ­£ç¡®çš„ chunk æ–‡ä»¶
- ç”¨æˆ·ç½‘ç»œé—®é¢˜
- å‘å¸ƒæ–°ç‰ˆæœ¬åï¼Œæ—§ç‰ˆæœ¬çš„ chunk æ–‡ä»¶è¢«åˆ é™¤</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<p><strong>æ–¹æ¡ˆ Aï¼šæ·»åŠ åŠ è½½å¤±è´¥é‡è¯•</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// router/index.js</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">routes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">component</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">import</span><span class="p">(</span><span class="cm">/* webpackChunkName: &quot;about&quot; */</span><span class="w"> </span><span class="s1">&#39;../views/About.vue&#39;</span><span class="p">)</span>
<span class="w">      </span><span class="p">.</span><span class="k">catch</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// åŠ è½½å¤±è´¥æ—¶åˆ·æ–°é¡µé¢</span>
<span class="w">        </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">reload</span><span class="p">()</span>
<span class="w">      </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p><strong>æ–¹æ¡ˆ Bï¼šä½¿ç”¨æ›´å¥å£®çš„å¼‚æ­¥åŠ è½½</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// utils/lazyLoad.js</span>
<span class="k">export</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">lazyLoadView</span><span class="p">(</span><span class="nx">AsyncView</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">AsyncHandler</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">    </span><span class="nx">component</span><span class="o">:</span><span class="w"> </span><span class="nx">AsyncView</span><span class="p">,</span>
<span class="w">    </span><span class="nx">loading</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">import</span><span class="p">(</span><span class="s1">&#39;../components/Loading.vue&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">import</span><span class="p">(</span><span class="s1">&#39;../components/Error.vue&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="nx">delay</span><span class="o">:</span><span class="w"> </span><span class="mf">200</span><span class="p">,</span>
<span class="w">    </span><span class="nx">timeout</span><span class="o">:</span><span class="w"> </span><span class="mf">10000</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nb">Promise</span><span class="p">.</span><span class="nx">resolve</span><span class="p">({</span>
<span class="w">    </span><span class="nx">functional</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nx">render</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">children</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">h</span><span class="p">(</span><span class="nx">AsyncHandler</span><span class="p">,</span><span class="w"> </span><span class="nx">data</span><span class="p">,</span><span class="w"> </span><span class="nx">children</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">})</span>
<span class="p">}</span>

<span class="c1">// router/index.js</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">lazyLoadView</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@/utils/lazyLoad&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">routes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nx">path</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="nx">component</span><span class="o">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">lazyLoadView</span><span class="p">(</span><span class="k">import</span><span class="p">(</span><span class="s1">&#39;../views/About.vue&#39;</span><span class="p">))</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div>

<p><strong>æ–¹æ¡ˆ Cï¼šä¿ç•™æ—§ç‰ˆæœ¬æ–‡ä»¶</strong></p>
<p>éƒ¨ç½²æ—¶ä¸è¦ç›´æ¥åˆ é™¤ <code>dist</code> ç›®å½•ï¼Œè€Œæ˜¯ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ä¿ç•™æ—§æ–‡ä»¶ï¼Œåªè¦†ç›–æ–°æ–‡ä»¶</span>
rsync<span class="w"> </span>-av<span class="w"> </span>--delete-delay<span class="w"> </span>dist/<span class="w"> </span>/var/www/myapp/
</code></pre></div>

<hr>
<h3 id="6app">å…ƒå‡¶ 6ï¼š<code>#app</code> å…ƒç´ ä¸å­˜åœ¨æˆ–è¢«è¦†ç›–</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šå®Œå…¨ç™½å±ï¼Œæ§åˆ¶å°å¯èƒ½æœ‰è­¦å‘Šï¼š<code>[Vue warn]: Failed to mount app: mount target selector "#app" returned null</code></p>
<p><strong>åŸå› </strong>ï¼š
- <code>index.html</code> é‡Œæ²¡æœ‰ <code>&lt;div id="app"&gt;&lt;/div&gt;</code>
- æŸäº›è„šæœ¬åœ¨ Vue æŒ‚è½½å‰ä¿®æ”¹äº† DOM
- Vue è„šæœ¬åŠ è½½é¡ºåºæœ‰é—®é¢˜</p>
<p><strong>æ’æŸ¥æ–¹æ³•</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- åœ¨ index.html ä¸­æ·»åŠ è°ƒè¯• --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;app&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>å¦‚æœä½ çœ‹åˆ°è¿™è¡Œå­—ï¼Œè¯´æ˜ Vue æ²¡æœ‰æˆåŠŸæŒ‚è½½<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;App element:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">))</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</code></pre></div>

<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- public/index.html --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&quot;zh-CN&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;viewport&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;width=device-width,initial-scale=1.0&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span><span class="err">&lt;</span>%= htmlWebpackPlugin.options.title %&gt;<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">strong</span><span class="p">&gt;</span>è¯·å¯ç”¨ JavaScript ä»¥ä½¿ç”¨æ­¤åº”ç”¨<span class="p">&lt;/</span><span class="nt">strong</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;app&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="cm">&lt;!-- built files will be auto injected --&gt;</span>
<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</code></pre></div>

<p>ç¡®ä¿ Vue è„šæœ¬æ˜¯ <code>defer</code> åŠ è½½çš„ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// vue.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">chainWebpack</span><span class="o">:</span><span class="w"> </span><span class="nx">config</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">config</span><span class="p">.</span><span class="nx">plugin</span><span class="p">(</span><span class="s1">&#39;html&#39;</span><span class="p">).</span><span class="nx">tap</span><span class="p">(</span><span class="nx">args</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">args</span><span class="p">[</span><span class="mf">0</span><span class="p">].</span><span class="nx">inject</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;body&#39;</span><span class="w">  </span><span class="c1">// è„šæœ¬æ³¨å…¥åˆ° body æœ«å°¾</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">args</span>
<span class="w">    </span><span class="p">})</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<hr>
<h3 id="7css">å…ƒå‡¶ 7ï¼šCSS å¯¼è‡´å†…å®¹ä¸å¯è§</h3>
<p><strong>ç—‡çŠ¶</strong>ï¼šæ§åˆ¶å°æ²¡æŠ¥é”™ï¼Œ<code>#app</code> é‡Œæœ‰å†…å®¹ï¼Œä½†å°±æ˜¯çœ‹ä¸è§ã€‚</p>
<p><strong>åŸå› </strong>ï¼š
- å…¨å±€ CSS æŠŠå†…å®¹è®¾æˆäº† <code>display: none</code> æˆ– <code>visibility: hidden</code>
- <code>overflow: hidden</code> é…åˆé”™è¯¯çš„é«˜åº¦
- ç™½è‰²æ–‡å­—åœ¨ç™½è‰²èƒŒæ™¯ä¸Š
- <code>z-index</code> å±‚çº§é—®é¢˜</p>
<p><strong>æ’æŸ¥æ–¹æ³•</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c1">// åœ¨æ§åˆ¶å°æ‰§è¡Œ</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">).</span><span class="nx">style</span><span class="p">.</span><span class="nx">cssText</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;background: red !important; min-height: 100vh;&#39;</span>
</code></pre></div>

<p>å¦‚æœå‡ºç°çº¢è‰²èƒŒæ™¯ï¼Œè¯´æ˜ <code>#app</code> æ˜¯å­˜åœ¨çš„ï¼Œé—®é¢˜åœ¨ CSSã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="c">/* æ·»åŠ åŸºç¡€æ ·å¼ç¡®ä¿å¯è§ */</span>
<span class="p">#</span><span class="nn">app</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">min-height</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>
<span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff</span><span class="p">;</span><span class="w">  </span><span class="c">/* æˆ–ä½ çš„ä¸»é¢˜è‰² */</span>
<span class="p">}</span>

<span class="c">/* æ£€æŸ¥æ˜¯å¦æœ‰è¿™ç§å‘çˆ¹çš„å…¨å±€æ ·å¼ */</span>
<span class="o">*</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c">/* ä¸è¦è¿™æ ·å†™ï¼ */</span>
<span class="w">  </span><span class="c">/* display: none; */</span>
<span class="p">}</span>
</code></pre></div>

<hr>
<h2 id="_4">ä¸‰ã€å®æˆ˜ï¼šä¸€ä¸ªå®Œæ•´çš„æ’æŸ¥æµç¨‹</h2>
<p>å‡è®¾ä½ ç°åœ¨é¢å¯¹ä¸€ä¸ªç™½å±çš„ Vue åº”ç”¨ï¼ŒæŒ‰è¿™ä¸ªæµç¨‹èµ°ï¼š</p>
<div class="highlight"><pre><span></span><code>@startuml
skinparam backgroundColor #FEFEFE
skinparam shadowing false
skinparam ActivityDiamondFontSize 12
skinparam ActivityFontSize 12

start
:Step 1: æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯;

if (æœ‰ 404 é”™è¯¯ï¼Ÿ) then (æ˜¯)
  :æ£€æŸ¥èµ„æºè·¯å¾„
  publicPath
  base é…ç½®;
  stop
else (å¦)
  if (æœ‰ JS æŠ¥é”™ï¼Ÿ) then (æ˜¯)
    :ä¿®å¤ä»£ç 
    å…¼å®¹æ€§é—®é¢˜;
    stop
  else (å¦)
    :æ£€æŸ¥ #app
    å’Œ CSS é—®é¢˜;
    stop
  endif
endif

@enduml
</code></pre></div>

<p><img alt="Vue ç™½å±æ’æŸ¥æµç¨‹å›¾" src="../images/journal_20260203_vuejs_troubleshoot_flow.png"></p>
<h3 id="_5">æ’æŸ¥è„šæœ¬</h3>
<p>æŠŠè¿™æ®µä»£ç ç²˜è´´åˆ°æ§åˆ¶å°ï¼Œå¿«é€Ÿè¯Šæ–­ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="nx">diagnoseVueApp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>

<span class="w">  </span><span class="c1">// æ£€æŸ¥ #app å…ƒç´ </span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">appEl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;app&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">appEl</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âŒ #app å…ƒç´ ä¸å­˜åœ¨&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âœ… #app å…ƒç´ å­˜åœ¨&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">appEl</span><span class="p">.</span><span class="nx">innerHTML</span><span class="p">.</span><span class="nx">trim</span><span class="p">()</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âš ï¸ #app å†…å®¹ä¸ºç©ºï¼ŒVue å¯èƒ½æ²¡æœ‰æŒ‚è½½æˆåŠŸ&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âœ… #app æœ‰å†…å®¹&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ£€æŸ¥ Vue å®ä¾‹</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">appEl</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">appEl</span><span class="p">.</span><span class="nx">__vue_app__</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âœ… Vue 3 å®ä¾‹å·²æŒ‚è½½&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">appEl</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">appEl</span><span class="p">.</span><span class="nx">__vue__</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âœ… Vue 2 å®ä¾‹å·²æŒ‚è½½&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;âš ï¸ æœªæ£€æµ‹åˆ° Vue å®ä¾‹&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// æ£€æŸ¥æ§åˆ¶å°é”™è¯¯</span>
<span class="w">  </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;\nğŸ“‹ è¯·æ£€æŸ¥ Console æ ‡ç­¾é¡µæ˜¯å¦æœ‰çº¢è‰²é”™è¯¯&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">results</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;ğŸ“‹ è¯·æ£€æŸ¥ Network æ ‡ç­¾é¡µæ˜¯å¦æœ‰ 404 è¯·æ±‚&#39;</span><span class="p">);</span>

<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">results</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;\n&#39;</span><span class="p">));</span>
<span class="p">})();</span>
</code></pre></div>

<hr>
<h2 id="checklist">å››ã€éƒ¨ç½²å‰è‡ªæ£€ Checklist</h2>
<p>æ¯æ¬¡éƒ¨ç½²å‰è¿‡ä¸€éè¿™ä¸ªæ¸…å•ï¼š</p>
<div class="highlight"><pre><span></span><code><span class="gu">## Vue åº”ç”¨éƒ¨ç½²è‡ªæ£€æ¸…å•</span>

<span class="gu">### é…ç½®æ£€æŸ¥</span>
<span class="k">- [ ]</span> <span class="sb">`publicPath`</span> / <span class="sb">`base`</span> é…ç½®æ­£ç¡®ï¼ˆå’Œéƒ¨ç½²è·¯å¾„ä¸€è‡´ï¼‰
<span class="k">- [ ]</span> Router çš„ <span class="sb">`base`</span> é…ç½®å’Œ <span class="sb">`publicPath`</span> ä¸€è‡´
<span class="k">- [ ]</span> Router æ¨¡å¼é€‰æ‹©ï¼šHash æ¨¡å¼è¿˜æ˜¯ History æ¨¡å¼ï¼Ÿ
<span class="k">- [ ]</span> å¦‚æœç”¨ History æ¨¡å¼ï¼ŒæœåŠ¡å™¨ Fallback é…ç½®å¥½äº†å—ï¼Ÿ

<span class="gu">### æ„å»ºæ£€æŸ¥</span>
<span class="k">- [ ]</span> <span class="sb">`npm run build`</span> æ²¡æœ‰æŠ¥é”™
<span class="k">- [ ]</span> <span class="sb">`dist`</span> ç›®å½•ç»“æ„æ­£ç¡®ï¼ˆæœ‰ index.html, js/, css/ ç­‰ï¼‰
<span class="k">- [ ]</span> æ£€æŸ¥ <span class="sb">`dist/index.html`</span> é‡Œçš„èµ„æºè·¯å¾„æ˜¯å¦æ­£ç¡®

<span class="gu">### æœ¬åœ°éªŒè¯</span>
<span class="k">- [ ]</span> ç”¨é™æ€æœåŠ¡å™¨é¢„è§ˆ dist ç›®å½•ï¼š
      <span class="sb">`npx serve -s dist`</span>
      æˆ– <span class="sb">`python -m http.server 8080 --directory dist`</span>
<span class="k">- [ ]</span> æœ¬åœ°é¢„è§ˆæ—¶æ‰€æœ‰é¡µé¢éƒ½èƒ½æ­£å¸¸è®¿é—®
<span class="k">- [ ]</span> è·¯ç”±åˆ·æ–°ä¸ä¼š 404

<span class="gu">### æœåŠ¡å™¨æ£€æŸ¥</span>
<span class="k">- [ ]</span> æ–‡ä»¶å·²æ­£ç¡®ä¸Šä¼ åˆ°æœåŠ¡å™¨
<span class="k">- [ ]</span> æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆä¸€èˆ¬ 644 æˆ– 755ï¼‰
<span class="k">- [ ]</span> Nginx/Apache é…ç½®å·²æ›´æ–°å¹¶ reload
<span class="k">- [ ]</span> HTTPS è¯ä¹¦æ­£å¸¸ï¼ˆå¦‚æœç”¨ HTTPSï¼‰

<span class="gu">### ä¸Šçº¿åéªŒè¯</span>
<span class="k">- [ ]</span> é¦–é¡µèƒ½æ­£å¸¸æ˜¾ç¤º
<span class="k">- [ ]</span> å„ä¸ªè·¯ç”±éƒ½èƒ½è®¿é—®
<span class="k">- [ ]</span> åˆ·æ–°é¡µé¢ä¸ä¼šç™½å±
<span class="k">- [ ]</span> æ§åˆ¶å°æ²¡æœ‰é”™è¯¯
<span class="k">- [ ]</span> ç§»åŠ¨ç«¯ä¹Ÿèƒ½æ­£å¸¸è®¿é—®
</code></pre></div>

<hr>
<h2 id="_6">äº”ã€é˜²æ‚£äºæœªç„¶ï¼šæœ€ä½³å®è·µ</h2>
<h3 id="51">5.1 ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†é…ç½®</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// vue.config.js</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">publicPath</span><span class="o">:</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VUE_APP_PUBLIC_PATH</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;/&#39;</span>
<span class="p">}</span>

<span class="c1">// .env.production</span>
<span class="nx">VUE_APP_PUBLIC_PATH</span><span class="o">=</span><span class="sr">/myapp/</span>
</code></pre></div>

<h3 id="52">5.2 æ·»åŠ æ„å»ºåè‡ªåŠ¨æ£€æŸ¥</h3>
<div class="highlight"><pre><span></span><code><span class="c1">// package.json</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;build&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vue-cli-service build&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;postbuild&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node scripts/check-build.js&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="c1">// scripts/check-build.js</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">fs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;fs&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;path&#39;</span><span class="p">)</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">distPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;../dist&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">indexPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">distPath</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>

<span class="c1">// æ£€æŸ¥ dist ç›®å½•</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">fs</span><span class="p">.</span><span class="nx">existsSync</span><span class="p">(</span><span class="nx">distPath</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;âŒ dist ç›®å½•ä¸å­˜åœ¨&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// æ£€æŸ¥ index.html</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">fs</span><span class="p">.</span><span class="nx">existsSync</span><span class="p">(</span><span class="nx">indexPath</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;âŒ index.html ä¸å­˜åœ¨&#39;</span><span class="p">)</span>
<span class="w">  </span><span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mf">1</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// æ£€æŸ¥èµ„æºè·¯å¾„</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">html</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="nx">indexPath</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">publicPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">VUE_APP_PUBLIC_PATH</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;/&#39;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">html</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="sb">`src=&quot;</span><span class="si">${</span><span class="nx">publicPath</span><span class="si">}</span><span class="sb">js/`</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="sb">`âš ï¸ èµ„æºè·¯å¾„å¯èƒ½ä¸æ­£ç¡®ï¼ŒæœŸæœ›: </span><span class="si">${</span><span class="nx">publicPath</span><span class="si">}</span><span class="sb">`</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;âœ… æ„å»ºæ£€æŸ¥é€šè¿‡&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="53-cicd">5.3 CI/CD ä¸­æ·»åŠ é¢„è§ˆç¯èŠ‚</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># .github/workflows/deploy.yml</span>
<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">build</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Build</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm run build</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Preview Test</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">npm install -g serve</span>
<span class="w">          </span><span class="no">serve -s dist -l 3000 &amp;</span>
<span class="w">          </span><span class="no">sleep 5</span>
<span class="w">          </span><span class="no">curl -f http://localhost:3000 || exit 1</span>
<span class="w">          </span><span class="no">echo &quot;âœ… Preview test passed&quot;</span>
</code></pre></div>

<hr>
<h2 id="_7">å…­ã€æ€»ç»“</h2>
<p>Vue åº”ç”¨ç™½å±é—®é¢˜è™½ç„¶æ¼äººï¼Œä½†åŸå› æ— éå°±é‚£ä¹ˆå‡ ä¸ªï¼š</p>
<ol>
<li><strong>publicPath é…ç½®é”™è¯¯</strong> â€” æœ€å¸¸è§ï¼Œç¬¬ä¸€ä¸ªæ£€æŸ¥</li>
<li><strong>Router History æ¨¡å¼æ²¡é…æœåŠ¡å™¨ Fallback</strong> â€” åˆ·æ–° 404 çš„å…ƒå‡¶</li>
<li><strong>Router base å’Œ publicPath ä¸ä¸€è‡´</strong> â€” è·¯ç”±è·³è½¬å¼‚å¸¸</li>
<li><strong>JS æ‰§è¡Œé”™è¯¯</strong> â€” çœ‹æ§åˆ¶å°æŠ¥é”™</li>
<li><strong>å¼‚æ­¥ç»„ä»¶åŠ è½½å¤±è´¥</strong> â€” Chunk 404</li>
<li><strong>#app å…ƒç´ é—®é¢˜</strong> â€” æŒ‚è½½ç‚¹ä¸¢å¤±</li>
<li><strong>CSS é—®é¢˜</strong> â€” å†…å®¹è¢«éšè—</li>
</ol>
<p>è®°ä½è¿™ä¸ªå£è¯€ï¼š<strong>å…ˆçœ‹æ§åˆ¶å°ï¼Œå†æŸ¥èµ„æºè·¯å¾„ï¼Œæœ€åæ’æŸ¥ä»£ç </strong>ã€‚</p>
<div class="highlight"><pre><span></span><code>@startmindmap
* Vue ç™½å±æ’æŸ¥
** é…ç½®é—®é¢˜
*** publicPath / base
*** Router history mode
*** æœåŠ¡å™¨ Fallback
** èµ„æºé—®é¢˜
*** 404 é”™è¯¯
*** Chunk åŠ è½½å¤±è´¥
*** CDN é…ç½®
** ä»£ç é—®é¢˜
*** JS æ‰§è¡Œé”™è¯¯
*** æµè§ˆå™¨å…¼å®¹æ€§
*** Polyfill ç¼ºå¤±
** DOM é—®é¢˜
*** #app ä¸å­˜åœ¨
*** CSS éšè—å†…å®¹
*** z-index å±‚çº§
** æœ€ä½³å®è·µ
*** ç¯å¢ƒå˜é‡ç®¡ç†
*** æ„å»ºåæ£€æŸ¥
*** CI/CD é¢„è§ˆ
@endmindmap
</code></pre></div>

<p><img alt="Vue ç™½å±æ’æŸ¥æ€ç»´å¯¼å›¾" src="../images/journal_20260203_vuejs_blank_page_mindmap.png"></p>
<hr>
<h2 id="_8">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://cli.vuejs.org/zh/guide/deployment.html">Vue CLI - éƒ¨ç½²æŒ‡å—</a></li>
<li><a href="https://router.vuejs.org/zh/guide/essentials/history-mode.html">Vue Router - History æ¨¡å¼</a></li>
<li><a href="https://vitejs.dev/guide/assets.html">Vite - é™æ€èµ„æºå¤„ç†</a></li>
<li><a href="https://nginx.org/en/docs/http/ngx_http_core_module.html#try_files">Nginx - try_files æŒ‡ä»¤</a></li>
</ul>
<p>ä¸‹æ¬¡å†é‡åˆ°ç™½å±ï¼Œåˆ«æ…Œã€‚æ‰“å¼€è¿™ç¯‡æ–‡ç« ï¼Œäº”åˆ†é’Ÿæå®šã€‚</p>
<hr/>
<p>æœ¬ä½œå“é‡‡ç”¨<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç¦æ­¢æ¼”ç» 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯ã€‚</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/vuejs.html">Vue.js</a>
      <a href="./tag/frontend.html">frontend</a>
      <a href="./tag/debugging.html">debugging</a>
      <a href="./tag/deployment.html">deployment</a>
      <a href="./tag/troubleshooting.html">troubleshooting</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./debug-build-de-liang-chong-zhe-xue-c-hong-vs-go-lian-jie-qi-zhu-ru.html" title="Debug Build çš„ä¸¤ç§å“²å­¦ï¼šC++ å® vs Go é“¾æ¥å™¨æ³¨å…¥">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./zhi-chang-gong-ju-xiang-zhi-gou-tong-si-yao-su-care-mo-xing.html" title="èŒåœºå·¥å…·ç®±ä¹‹æ²Ÿé€šå››è¦ç´  CARE æ¨¡å‹">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./go-cheng-xu-beng-kui-fen-xi-shi-zhan-cong-coredump-dao-gen-yin-ding-wei.html">Go ç¨‹åºå´©æºƒåˆ†æå®æˆ˜ï¼šä» Coredump åˆ°æ ¹å› å®šä½</a></li>
      <li><a href="./jing-ti-ni-de-go-cheng-xu-zheng-zai-tou-tou-xie-lou-xiang-jie-goroutine-leak.html">è­¦æƒ•ï¼ä½ çš„ Go ç¨‹åºæ­£åœ¨å·å·"æ³„æ¼" â€”â€” è¯¦è§£ Goroutine Leak</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">çš–ICPå¤‡20001876å·-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>