
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="./theme/stylesheet/style.min.css">


    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
          href="./theme/pygments/github.min.css">



  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="./theme/font-awesome/css/solid.css">


  <link rel="shortcut icon" href="./images/favicon.ico" type="image/x-icon">
  <link rel="icon" href="./images/favicon.ico" type="image/x-icon">










 

<meta name="author" content="Walter Fan" />
<meta name="description" content="一篇关于在树莓派上安装和使用 K3s 的实战指南，涵盖安装步骤、典型用例和最佳实践" />
<meta name="keywords" content="kubernetes, k3s, raspberry-pi, homelab, edge-computing, IoT">


  <meta property="og:site_name" content="Walter Fan's Blog"/>
  <meta property="og:title" content="在树莓派上玩 K3s：从安装到实战，打造你的私人 Kubernetes 集群"/>
  <meta property="og:description" content="一篇关于在树莓派上安装和使用 K3s 的实战指南，涵盖安装步骤、典型用例和最佳实践"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="./zai-shu-mei-pai-shang-wan-k3scong-an-zhuang-dao-shi-zhan-da-zao-ni-de-si-ren-kubernetes-ji-qun.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2026-01-24 10:00:00+08:00"/>
  <meta property="article:modified_time" content="2026-01-24 12:30:00+08:00"/>
  <meta property="article:author" content="./author/walter-fan.html">
  <meta property="article:section" content="Tech"/>
  <meta property="article:tag" content="kubernetes"/>
  <meta property="article:tag" content="k3s"/>
  <meta property="article:tag" content="raspberry-pi"/>
  <meta property="article:tag" content="homelab"/>
  <meta property="article:tag" content="edge-computing"/>
  <meta property="article:tag" content="IoT"/>
  <meta property="og:image" content="./images/walterfan.jpg">

  <title>Walter Fan's Blog &ndash; 在树莓派上玩 K3s：从安装到实战，打造你的私人 Kubernetes 集群</title>


</head>
<body class="light-theme">

<aside>
  <div>
    <a href="./">
      <img src="./images/walterfan.jpg" alt="Walter Fan" title="Walter Fan">
    </a>

    <h1>
      <a href="./">Walter Fan</a>
    </h1>

    <p>手握灵珠常奋笔, 心开天籁不吹箫</p>


    <nav>
      <ul class="list">



          <li>
            <a target="_blank" href="tao.html" >tao</a>
          </li>
          <li>
            <a target="_blank" href="interest.html" >interest</a>
          </li>
          <li>
            <a target="_blank" href="article.html" >article</a>
          </li>
          <li>
            <a target="_self" href="/wordpress" >notebook</a>
          </li>
          <li>
            <a target="_blank" href="bookmark.html" >bookmark</a>
          </li>
          <li>
            <a target="_blank" href="manual.html" >manual</a>
          </li>
          <li>
            <a target="_self" href="/webrtc/examples/index.html" >webrtc</a>
          </li>
          <li>
            <a target="_blank" href="https://github.com/walterfan" >github</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="http://github.com/walterfan"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>


<article class="single">
  <header>
      
    <h1 id="zai-shu-mei-pai-shang-wan-k3scong-an-zhuang-dao-shi-zhan-da-zao-ni-de-si-ren-kubernetes-ji-qun">在树莓派上玩 K3s：从安装到实战，打造你的私人 Kubernetes 集群</h1>
    <p>
      Posted on Sat 24 January 2026 in <a href="./category/tech.html">Tech</a>

    </p>
  </header>


  <div>
    <table>
<thead>
<tr>
<th><strong>Abstract</strong></th>
<th>在树莓派上玩 K3s：从安装到实战</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Authors</strong></td>
<td><a href="https://www.fanyamin.com">Walter Fan</a></td>
</tr>
<tr>
<td><strong>Category</strong></td>
<td>tech note</td>
</tr>
<tr>
<td><strong>Status</strong></td>
<td>v1.0</td>
</tr>
<tr>
<td><strong>Updated</strong></td>
<td>2026-01-24</td>
</tr>
<tr>
<td><strong>License</strong></td>
<td><a href="http://creativecommons.org/licenses/by-nc-nd/4.0">CC-BY-NC-ND 4.0</a></td>
</tr>
</tbody>
</table>
<p>你有没有过这样的经历：想学 Kubernetes，但云服务器太贵（一个月几百块起步），本地装 minikube 又吃掉大半内存，跑两个 Pod 电脑风扇就开始起飞。</p>
<p>然后你看着角落里吃灰的树莓派，心想：这玩意儿能跑 K8s 吗？</p>
<p>答案是：能，而且比你想象的简单。</p>
<p>K3s 就是为这个场景而生的——一个只有不到 70MB 的轻量级 Kubernetes 发行版，专门为树莓派、边缘设备、IoT 场景优化。它不是"阉割版 K8s"，而是"生产级 K8s 的精简版"，该有的功能都有，只是去掉了你在边缘场景用不到的东西（比如云厂商的存储驱动）。</p>
<p>这篇文章会带你：</p>
<ol>
<li>在树莓派上 10 分钟装好 K3s</li>
<li>理解 K3s 能干什么、适合什么场景</li>
<li>跑几个实际的例子，让你的树莓派"活"起来</li>
</ol>
<p>读完你会发现：原来"在家搭一个 Kubernetes 集群"这件事，门槛没那么高。</p>
<hr>
<h2 id="k3s">一、K3s 是什么？为什么选它？</h2>
<h3 id="11-k3s-vs-k8s">1.1 K3s vs K8s：一张图说清楚</h3>
<table>
<thead>
<tr>
<th>对比项</th>
<th>K8s (标准版)</th>
<th>K3s (轻量版)</th>
</tr>
</thead>
<tbody>
<tr>
<td>二进制大小</td>
<td>数百 MB</td>
<td>&lt; 70 MB</td>
</tr>
<tr>
<td>内存占用</td>
<td>1GB+</td>
<td>512MB 可运行</td>
</tr>
<tr>
<td>依赖</td>
<td>etcd, Docker/containerd, ...</td>
<td>内置 SQLite/etcd, 内置 containerd</td>
</tr>
<tr>
<td>安装复杂度</td>
<td>一堆组件要配</td>
<td>一条命令搞定</td>
</tr>
<tr>
<td>生产可用</td>
<td>是</td>
<td>是（CNCF 认证）</td>
</tr>
<tr>
<td>适用场景</td>
<td>云端、大规模集群</td>
<td>边缘、IoT、开发测试、Home Lab</td>
</tr>
</tbody>
</table>
<p>K3s 的设计哲学是：<strong>把 Kubernetes 的核心能力打包成一个二进制文件</strong>，去掉云厂商特定的插件、legacy 代码和不常用的功能，让它能在资源受限的设备上跑起来。</p>
<h3 id="12-k3s">1.2 为什么树莓派 + K3s 是绝配？</h3>
<ul>
<li><strong>省电</strong>：4 台树莓派 5 组成的集群，idle 功耗只有 10W 左右，一个月电费几块钱</li>
<li><strong>便宜</strong>：一台树莓派 5（8GB）大概 600 块，比云服务器划算太多</li>
<li><strong>真实</strong>：这是一个真正的多节点 Kubernetes 集群，不是模拟器</li>
<li><strong>好玩</strong>：可以跑各种 self-hosted 服务，学习 DevOps 技能</li>
</ul>
<hr>
<h2 id="_1">二、准备工作</h2>
<h3 id="21">2.1 硬件要求</h3>
<table>
<thead>
<tr>
<th>组件</th>
<th>最低配置</th>
<th>推荐配置</th>
</tr>
</thead>
<tbody>
<tr>
<td>树莓派型号</td>
<td>Pi 4 (4GB)</td>
<td>Pi 5 (8GB)</td>
</tr>
<tr>
<td>存储</td>
<td>32GB microSD</td>
<td>64GB+ SSD (USB 启动)</td>
</tr>
<tr>
<td>电源</td>
<td>官方电源适配器</td>
<td>5V/3A+ 稳定电源</td>
</tr>
<tr>
<td>网络</td>
<td>有线以太网</td>
<td>有线（比 WiFi 稳定）</td>
</tr>
</tbody>
</table>
<p><strong>小贴士</strong>：如果你打算跑多个 Pod 或者存储密集型应用，强烈建议用 SSD 替代 SD 卡。SD 卡的写入寿命有限，长期运行 K8s 会把它写坏。</p>
<h3 id="22">2.2 系统准备</h3>
<ol>
<li><strong>安装 64 位 Raspberry Pi OS Lite</strong></li>
</ol>
<p>去 <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a> 下载官方烧录工具，选择：
   - OS: Raspberry Pi OS Lite (64-bit)
   - 不要选带桌面的版本，浪费资源</p>
<p>烧录时记得在设置里：
   - 开启 SSH
   - 设置用户名密码
   - 配置 WiFi（如果需要）
   - 设置 hostname（比如 <code>k3s-master</code>）</p>
<ol>
<li><strong>首次启动后的基础配置</strong></li>
</ol>
<p>```bash
   # SSH 连接到树莓派
   ssh pi@k3s-master.local
   # 或者用 IP 地址
   ssh pi@192.168.1.xxx</p>
<p># 更新系统
   sudo apt update &amp;&amp; sudo apt upgrade -y</p>
<p># 安装必要工具
   sudo apt install -y curl wget vim
   ```</p>
<ol>
<li><strong>启用 cgroup（关键步骤）</strong></li>
</ol>
<p>K3s 需要 cgroup 来管理容器资源。编辑启动配置：</p>
<p><code>bash
   sudo vim /boot/firmware/cmdline.txt</code></p>
<p>在行末添加（不要换行，保持一行）：</p>
<p><code>cgroup_memory=1 cgroup_enable=memory</code></p>
<p>保存后重启：</p>
<p><code>bash
   sudo reboot</code></p>
<ol>
<li><strong>验证 cgroup 是否生效</strong></li>
</ol>
<p><code>bash
   cat /proc/cgroups | grep memory
   # 应该看到 memory 那行的 enabled 是 1</code></p>
<hr>
<h2 id="k3s_1">三、安装 K3s（真的只要一条命令）</h2>
<h3 id="31">3.1 单节点安装（最简单）</h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sfL<span class="w"> </span>https://get.k3s.io<span class="w"> </span><span class="p">|</span><span class="w"> </span>sh<span class="w"> </span>-
</code></pre></div>

<p>就这样。等个一两分钟，K3s 就装好了。</p>
<p>验证安装：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 查看节点状态</span>
sudo<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>nodes

<span class="c1"># 输出示例：</span>
<span class="c1"># NAME         STATUS   ROLES                  AGE   VERSION</span>
<span class="c1"># k3s-master   Ready    control-plane,master   1m    v1.28.5+k3s1</span>

<span class="c1"># 查看所有 Pod</span>
sudo<span class="w"> </span>kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-A
</code></pre></div>

<h3 id="32-kubectl-sudo">3.2 配置 kubectl 免 sudo</h3>
<p>默认情况下，kubectl 需要 sudo 权限。这样配置后可以直接用：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 复制配置文件到用户目录</span>
mkdir<span class="w"> </span>-p<span class="w"> </span>~/.kube
sudo<span class="w"> </span>cp<span class="w"> </span>/etc/rancher/k3s/k3s.yaml<span class="w"> </span>~/.kube/config
sudo<span class="w"> </span>chown<span class="w"> </span><span class="k">$(</span>id<span class="w"> </span>-u<span class="k">)</span>:<span class="k">$(</span>id<span class="w"> </span>-g<span class="k">)</span><span class="w"> </span>~/.kube/config

<span class="c1"># 设置环境变量</span>
<span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;export KUBECONFIG=~/.kube/config&#39;</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/.bashrc
<span class="nb">source</span><span class="w"> </span>~/.bashrc

<span class="c1"># 现在可以不用 sudo 了</span>
kubectl<span class="w"> </span>get<span class="w"> </span>nodes
</code></pre></div>

<h3 id="33">3.3 从本地电脑访问集群</h3>
<p>你肯定不想每次都 SSH 到树莓派上操作。把 kubeconfig 复制到你的电脑：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 在树莓派上</span>
sudo<span class="w"> </span>cat<span class="w"> </span>/etc/rancher/k3s/k3s.yaml
</code></pre></div>

<p>把输出的内容复制到你电脑的 <code>~/.kube/config</code>，然后把 <code>server: https://127.0.0.1:6443</code> 改成树莓派的实际 IP：</p>
<div class="highlight"><pre><span></span><code><span class="nt">server</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://192.168.1.xxx:6443</span>
</code></pre></div>

<p>现在你可以在自己电脑上操作树莓派上的 K3s 集群了。</p>
<h3 id="34">3.4 多节点集群（可选）</h3>
<p>如果你有多台树莓派，可以组成一个真正的集群：</p>
<p><strong>在 Master 节点获取 Token：</strong></p>
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>cat<span class="w"> </span>/var/lib/rancher/k3s/server/node-token
</code></pre></div>

<p><strong>在 Worker 节点安装并加入集群：</strong></p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-sfL<span class="w"> </span>https://get.k3s.io<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nv">K3S_URL</span><span class="o">=</span>https://192.168.1.xxx:6443<span class="w"> </span><span class="nv">K3S_TOKEN</span><span class="o">=</span>&lt;上面获取的token&gt;<span class="w"> </span>sh<span class="w"> </span>-
</code></pre></div>

<p>验证：</p>
<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>get<span class="w"> </span>nodes
<span class="c1"># 应该看到多个节点</span>
</code></pre></div>

<hr>
<h2 id="k3s_2">四、K3s 能干什么？典型用例</h2>
<p>装好了 K3s，然后呢？这里列几个我实际在用的场景：</p>
<h3 id="41-home-lab">4.1 Home Lab：自托管各种服务</h3>
<p>把那些"我不想付订阅费"的服务自己跑起来：</p>
<table>
<thead>
<tr>
<th>服务</th>
<th>用途</th>
<th>推荐镜像</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Nextcloud</strong></td>
<td>私有云盘（替代 Dropbox/Google Drive）</td>
<td><code>nextcloud:latest</code></td>
</tr>
<tr>
<td><strong>Bitwarden</strong></td>
<td>密码管理器</td>
<td><code>vaultwarden/server</code></td>
</tr>
<tr>
<td><strong>Home Assistant</strong></td>
<td>智能家居中枢</td>
<td><code>homeassistant/home-assistant</code></td>
</tr>
<tr>
<td><strong>Pi-hole</strong></td>
<td>全屋广告过滤 DNS</td>
<td><code>pihole/pihole</code></td>
</tr>
<tr>
<td><strong>Jellyfin</strong></td>
<td>私人影音服务器</td>
<td><code>jellyfin/jellyfin</code></td>
</tr>
<tr>
<td><strong>Gitea</strong></td>
<td>私有 Git 服务</td>
<td><code>gitea/gitea</code></td>
</tr>
</tbody>
</table>
<p><strong>示例：部署一个 Pi-hole</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># pihole.yaml</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Namespace</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole/pihole:latest</span>
<span class="w">        </span><span class="nt">env</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TZ</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;Asia/Shanghai&quot;</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">WEBPASSWORD</span>
<span class="w">          </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;your-secure-password&quot;</span>
<span class="w">        </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dns-tcp</span>
<span class="w">          </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dns-udp</span>
<span class="w">          </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UDP</span>
<span class="w">        </span><span class="nt">volumeMounts</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole-config</span>
<span class="w">          </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/etc/pihole</span>
<span class="w">      </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole-config</span>
<span class="w">        </span><span class="nt">hostPath</span><span class="p">:</span>
<span class="w">          </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/opt/pihole</span>
<span class="w">          </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">DirectoryOrCreate</span>
<span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">  </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">LoadBalancer</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pihole</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dns-tcp</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">    </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TCP</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dns-udp</span>
<span class="w">    </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">53</span>
<span class="w">    </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">UDP</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>pihole.yaml

<span class="c1"># 查看状态</span>
kubectl<span class="w"> </span>get<span class="w"> </span>pods<span class="w"> </span>-n<span class="w"> </span>pihole
kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>pihole
</code></pre></div>

<h3 id="42-kubernetes">4.2 学习 Kubernetes：真实环境练手</h3>
<p>比起 minikube 这类模拟器，K3s 提供的是一个真正的 K8s 环境，你可以练习：</p>
<ul>
<li><strong>Deployment、Service、Ingress</strong>：核心概念</li>
<li><strong>ConfigMap、Secret</strong>：配置管理</li>
<li><strong>PersistentVolume</strong>：存储</li>
<li><strong>Helm Chart</strong>：包管理</li>
<li><strong>GitOps (ArgoCD/Flux)</strong>：持续部署</li>
</ul>
<p><strong>练手示例：部署一个 Nginx + 自动扩缩容</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># nginx-demo.yaml</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">replicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">matchLabels</span><span class="p">:</span>
<span class="w">      </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="w">  </span><span class="nt">template</span><span class="p">:</span>
<span class="w">    </span><span class="nt">metadata</span><span class="p">:</span>
<span class="w">      </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">        </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="w">    </span><span class="nt">spec</span><span class="p">:</span>
<span class="w">      </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">        </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx:alpine</span>
<span class="w">        </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">        </span><span class="nt">resources</span><span class="p">:</span>
<span class="w">          </span><span class="nt">requests</span><span class="p">:</span>
<span class="w">            </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50m</span>
<span class="w">            </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">64Mi</span>
<span class="w">          </span><span class="nt">limits</span><span class="p">:</span>
<span class="w">            </span><span class="nt">cpu</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100m</span>
<span class="w">            </span><span class="nt">memory</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">128Mi</span>
<span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Service</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NodePort</span>
<span class="w">  </span><span class="nt">selector</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="w">  </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">    </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">    </span><span class="nt">nodePort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">30080</span>
<span class="nn">---</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">autoscaling/v2</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">HorizontalPodAutoscaler</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo-hpa</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">scaleTargetRef</span><span class="p">:</span>
<span class="w">    </span><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">apps/v1</span>
<span class="w">    </span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deployment</span>
<span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx-demo</span>
<span class="w">  </span><span class="nt">minReplicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="w">  </span><span class="nt">maxReplicas</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
<span class="w">  </span><span class="nt">metrics</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Resource</span>
<span class="w">    </span><span class="nt">resource</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cpu</span>
<span class="w">      </span><span class="nt">target</span><span class="p">:</span>
<span class="w">        </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Utilization</span>
<span class="w">        </span><span class="nt">averageUtilization</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">50</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>nginx-demo.yaml

<span class="c1"># 访问</span>
curl<span class="w"> </span>http://&lt;树莓派IP&gt;:30080

<span class="c1"># 查看 HPA 状态</span>
kubectl<span class="w"> </span>get<span class="w"> </span>hpa
</code></pre></div>

<h3 id="43-iot">4.3 边缘计算 / IoT 网关</h3>
<p>这是 K3s 的"正经"用途——在边缘设备上运行容器化工作负载：</p>
<ul>
<li><strong>数据采集</strong>：从传感器收集数据，本地预处理后上报</li>
<li><strong>AI 推理</strong>：在边缘跑轻量级 ML 模型（比如图像识别）</li>
<li><strong>协议转换</strong>：MQTT / Modbus / OPC-UA 等工业协议转换</li>
</ul>
<p><strong>示例场景</strong>：树莓派 + 温湿度传感器 + K3s</p>
<div class="highlight"><pre><span></span><code>传感器 → 树莓派 GPIO → Pod (数据采集) → Pod (MQTT Broker) → 云端
</code></pre></div>

<h3 id="44-cicd-runner">4.4 CI/CD Runner</h3>
<p>把树莓派变成你的私有 CI/CD 执行器：</p>
<ul>
<li><strong>GitLab Runner</strong>：跑 GitLab CI 任务</li>
<li><strong>GitHub Actions Self-hosted Runner</strong>：跑 GitHub Actions</li>
<li><strong>Jenkins Agent</strong>：跑 Jenkins 任务</li>
</ul>
<p>好处：不用付云厂商的计算费用，适合个人项目或小团队。</p>
<hr>
<h2 id="_2">五、最佳实践和注意事项</h2>
<h3 id="51-sd">5.1 存储：别用 SD 卡当主力</h3>
<table>
<thead>
<tr>
<th>方案</th>
<th>优点</th>
<th>缺点</th>
<th>推荐场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>SD 卡</td>
<td>便宜、方便</td>
<td>写入寿命短、速度慢</td>
<td>临时测试</td>
</tr>
<tr>
<td>USB SSD</td>
<td>速度快、寿命长</td>
<td>贵一点</td>
<td>长期运行</td>
</tr>
<tr>
<td>NFS/NAS</td>
<td>集中存储、易备份</td>
<td>依赖网络</td>
<td>多节点共享数据</td>
</tr>
</tbody>
</table>
<p><strong>配置 SSD 启动</strong>（树莓派 5）：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># 用 raspi-config 配置启动顺序</span>
sudo<span class="w"> </span>raspi-config
<span class="c1"># Advanced Options → Boot Order → USB Boot</span>
</code></pre></div>

<h3 id="52-traefik">5.2 网络：用 Traefik 暴露服务</h3>
<p>K3s 默认自带 Traefik 作为 Ingress Controller。配置一个域名访问你的服务：</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ingress.yaml</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">networking.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Ingress</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-app-ingress</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">traefik.ingress.kubernetes.io/router.entrypoints</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">web</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp.local</span>
<span class="w">    </span><span class="nt">http</span><span class="p">:</span>
<span class="w">      </span><span class="nt">paths</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/</span>
<span class="w">        </span><span class="nt">pathType</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Prefix</span>
<span class="w">        </span><span class="nt">backend</span><span class="p">:</span>
<span class="w">          </span><span class="nt">service</span><span class="p">:</span>
<span class="w">            </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-app</span>
<span class="w">            </span><span class="nt">port</span><span class="p">:</span>
<span class="w">              </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div>

<p>配合本地 DNS（或者修改 <code>/etc/hosts</code>），就可以用域名访问了。</p>
<h3 id="53">5.3 监控：轻量级方案</h3>
<p>不要在树莓派上跑完整的 Prometheus + Grafana 栈，太重了。推荐：</p>
<ul>
<li><strong>k9s</strong>：终端里的 K8s 管理界面，超轻量</li>
</ul>
<p>```bash
  # 安装 k9s
  curl -sS https://webinstall.dev/k9s | bash</p>
<p># 使用
  k9s
  ```</p>
<ul>
<li><strong>Lens</strong>：桌面版 K8s 管理工具，在你电脑上运行，连接树莓派集群</li>
</ul>
<h3 id="54-etcdsqlite">5.4 备份：定期备份 etcd/SQLite</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># K3s 默认用 SQLite，数据在这里</span>
/var/lib/rancher/k3s/server/db/

<span class="c1"># 简单备份</span>
sudo<span class="w"> </span>cp<span class="w"> </span>-r<span class="w"> </span>/var/lib/rancher/k3s/server/db/<span class="w"> </span>~/k3s-backup-<span class="k">$(</span>date<span class="w"> </span>+%Y%m%d<span class="k">)</span>
</code></pre></div>

<h3 id="55">5.5 安全：别把集群暴露到公网</h3>
<ul>
<li>用 WireGuard/Tailscale 做内网穿透，而不是直接暴露端口</li>
<li>定期更新 K3s：<code>curl -sfL https://get.k3s.io | sh -</code></li>
<li>不要用 <code>--disable-agent</code> 等不安全选项</li>
</ul>
<hr>
<h2 id="faq">六、常见问题 FAQ</h2>
<h3 id="q1-k3s-microk8s">Q1: K3s 和 MicroK8s 怎么选？</h3>
<table>
<thead>
<tr>
<th></th>
<th>K3s</th>
<th>MicroK8s</th>
</tr>
</thead>
<tbody>
<tr>
<td>维护方</td>
<td>Rancher (SUSE)</td>
<td>Canonical (Ubuntu)</td>
</tr>
<tr>
<td>安装方式</td>
<td>curl 脚本</td>
<td>snap</td>
</tr>
<tr>
<td>ARM 支持</td>
<td>原生支持</td>
<td>支持但偶有问题</td>
</tr>
<tr>
<td>资源占用</td>
<td>更轻量</td>
<td>稍重</td>
</tr>
<tr>
<td>生态</td>
<td>Rancher 生态</td>
<td>Ubuntu 生态</td>
</tr>
</tbody>
</table>
<p><strong>我的建议</strong>：树莓派选 K3s，Ubuntu 服务器选 MicroK8s。</p>
<h3 id="q2-4gb">Q2: 树莓派 4GB 够用吗？</h3>
<ul>
<li>跑 K3s 本身：够</li>
<li>跑 2-3 个轻量服务：够</li>
<li>跑 5+ 个服务或者有状态应用：建议 8GB</li>
</ul>
<h3 id="q3-pod-pending">Q3: 为什么我的 Pod 一直 Pending？</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 看看原因</span>
kubectl<span class="w"> </span>describe<span class="w"> </span>pod<span class="w"> </span>&lt;pod-name&gt;

<span class="c1"># 常见原因：</span>
<span class="c1"># 1. 资源不足：检查 requests/limits 配置</span>
<span class="c1"># 2. 存储问题：PVC 没有对应的 PV</span>
<span class="c1"># 3. 镜像拉取失败：检查网络或镜像名</span>
</code></pre></div>

<h3 id="q4-k3s">Q4: 怎么卸载 K3s？</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># 卸载 Server 节点</span>
/usr/local/bin/k3s-uninstall.sh

<span class="c1"># 卸载 Agent 节点</span>
/usr/local/bin/k3s-agent-uninstall.sh
</code></pre></div>

<hr>
<h2 id="_3">七、总结</h2>
<p>回顾一下核心要点：</p>
<table>
<thead>
<tr>
<th>主题</th>
<th>关键信息</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>K3s 是什么</strong></td>
<td>轻量级 K8s 发行版，&lt; 70MB，专为边缘/IoT 设计</td>
</tr>
<tr>
<td><strong>安装</strong></td>
<td><code>curl -sfL https://get.k3s.io \| sh -</code>，一条命令搞定</td>
</tr>
<tr>
<td><strong>典型用例</strong></td>
<td>Home Lab 自托管、K8s 学习、边缘计算、CI/CD Runner</td>
</tr>
<tr>
<td><strong>最佳实践</strong></td>
<td>用 SSD、配置 Ingress、轻量监控、定期备份</td>
</tr>
</tbody>
</table>
<p><strong>下一步可以做什么</strong>：</p>
<ol>
<li>装好 K3s，跑一个 Hello World</li>
<li>部署一个你真正会用的服务（比如 Pi-hole 或 Nextcloud）</li>
<li>如果有多台树莓派，组个多节点集群</li>
<li>试试 Helm 和 ArgoCD，体验 GitOps</li>
</ol>
<p>最后，如果你还在犹豫要不要折腾——<strong>那就别犹豫了</strong>。一台吃灰的树莓派 + 一个小时的时间，你就能拥有一个真正的 Kubernetes 集群。比起在云上花钱，这个投入产出比太香了。</p>
<hr>
<h2 id="_4">参考资料</h2>
<ul>
<li><a href="https://docs.k3s.io/">K3s 官方文档</a></li>
<li><a href="https://github.com/k3s-io/k3s">K3s GitHub 仓库</a></li>
<li><a href="https://www.raspberrypi.com/documentation/">Raspberry Pi 官方文档</a></li>
<li><a href="https://github.com/alexellis/awesome-k3s">Awesome K3s - GitHub</a></li>
<li><a href="https://www.picocluster.com/blogs/picocluster-dev/installing-k3s-on-the-raspberry-pi-5-a-step-by-step-guide">PicoCluster: Installing K3s on Raspberry Pi 5</a></li>
</ul>
<hr>
<div class="highlight"><pre><span></span><code>@startmindmap
* K3s 树莓派
** K3s 特点
*** 轻量级 &lt; 70MB
*** 内置 SQLite
*** 内置 containerd
*** CNCF 认证
** 树莓派优势
*** 省电省钱
*** 真实多节点
*** 学习 DevOps
** 安装步骤
*** 系统准备
*** 安装 Server
*** 加入 Agent
*** 验证集群
** 典型用例
*** Home Lab
*** 边缘计算
*** IoT 网关
*** CI/CD Runner
@endmindmap
</code></pre></div>

<p><img alt="K3s 树莓派思维导图" src="../images/journal_20260124_k3s_raspberry_pi_mindmap.png"></p>
<hr/>
<p>本作品采用<a href="http://creativecommons.org/licenses/by-nc-nd/4.0/">知识共享署名-非商业性使用-禁止演绎 4.0 国际许可协议</a>进行许可。</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="./tag/kubernetes.html">kubernetes</a>
      <a href="./tag/k3s.html">k3s</a>
      <a href="./tag/raspberry-pi.html">raspberry-pi</a>
      <a href="./tag/homelab.html">homelab</a>
      <a href="./tag/edge-computing.html">edge-computing</a>
      <a href="./tag/iot.html">IoT</a>
    </p>
  </div>


  <div class="neighbors">
    <a class="btn float-left" href="./go-cheng-xu-beng-kui-fen-xi-shi-zhan-cong-coredump-dao-gen-yin-ding-wei.html" title="Go 程序崩溃分析实战：从 Coredump 到根因定位">
      <i class="fa fa-angle-left"></i> Previous Post
    </a>
    <a class="btn float-right" href="./ren-sheng-dao-di-wei-liao-shi-yao-yi-ge-cheng-xu-yuan-de-jian-kang-jue-xing.html" title="人生到底为了什么：一个程序员的健康觉醒">
      Next Post <i class="fa fa-angle-right"></i>
    </a>
  </div>

  <div class="related-posts">
    <h4>You might enjoy</h4>
    <ul class="related-posts">
      <li><a href="./cong-guo-cheng-shi-ming-ling-shi-dao-sheng-ming-shi-bian-cheng-yu-yun-wei-de-yi-ci-quan-li-zhuan-yi.html">从过程式、命令式到声明式：编程与运维的一次“权力转移”</a></li>
      <li><a href="./zai-eks-shang-gei-pod-bang-iam-roleirsaserviceaccount-oidcdao-di-zen-yao-hui-shi.html">在 EKS 上给 Pod 绑 IAM Role：IRSA（ServiceAccount + OIDC）到底怎么回事</a></li>
    </ul>
  </div>



<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wfblog';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
    Please enable JavaScript to view comments.
</noscript>
<!-- End Disqus -->
</article>

<footer>
<p>&copy; 2010 ~ 2030  Walter Fan <a href="https://beian.miit.gov.cn" target="_blank">皖ICP备20001876号-1</a></p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
</p><!-- StatusCake -->

<!-- End StatusCake --></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Walter Fan's Blog ",
  "url" : ".",
  "image": "./images/walterfan.jpg",
  "description": "an old programmer never die, he just branch to a new address."
}
</script>
</body>
</html>